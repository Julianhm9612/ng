<q-grid:popup id="q-grid-reference-edit"
				  ng-init="$popup.show()"
				  q-grid:popup-close="$view.edit.cell.cancel.execute($cell, $event)">
	<q-grid:template for="trigger">
		<span ng-init="$popup.open({width: 350, height: 500})"></span>
	</q-grid:template>
	<q-grid:template for="body" let="[$view, $cell]">
		<div ng-cloak
			  class="q-grid-editor q-grid-reference"
			  layout="column"
			  ng-controller="Body.Cell.Reference.Edit.Controller as $referenceEdit">
			<div class="flex">
				<q-grid class="q-grid-embed"
						  model="$referenceEdit.gridModel"
						  q-grid:autofocus>
					<q-grid:toolbar>
						<q-grid:template for="top">
							<div class="q-grid-progress">
								<q-grid:progress></q-grid:progress>
							</div>
						</q-grid:template>
					</q-grid:toolbar>
				</q-grid>
			</div>
			<div class="flex-none q-grid-popup-actions">
				<md-button ng-click="$referenceEdit.cancel.execute($cell, $event)">Cancel
				</md-button>
				<md-button class="md-primary" ng-click="$referenceEdit.commit.execute($cell, $event)">Save
				</md-button>
			</div>
		</div>
	</q-grid:template>
	<q-grid:template for="head" let="$cell">
		<h2 class="md-title">Edit {{::$cell.column.title}}</h2>
	</q-grid:template>
</q-grid:popup>
