!function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return t[r].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var n={};return e.m=t,e.c=n,e.p="/scripts/",e(0)}([function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}var o=n(2),i=r(o);n(1),n(4),n(1),function(t){function e(t,e){t.when("/",{template:"qgrid demo page"}).when("/sandbox",{templateUrl:"sandbox/index.html",controller:i.default,controllerAs:"$ctrl"}),e.html5Mode(!1).hashPrefix("!")}function n(){}t.module("demo",["ngRoute","qgrid"]).config(e).controller("Demo.Controller",n),e.$inject=["$routeProvider","$locationProvider"],n.$inject=[]}(angular)},function(t,e,n){"use strict";n(9),function(t){function e(){}t.module("qgrid").run(e),e.$inject=["$templateCache"]}(angular)},function(t,e){"use strict";function n(t){var e=this;this.rows=[],this.columns=[{key:"name.last",title:"Last Name",value:function(t){return t.name.last}},{key:"name.first",title:"First Name",value:function(t){return t.name.first}},{key:"gender",title:"Gender"},{key:"birthday",title:"Birthday"},{key:"contact.address.zip",title:"Zip",value:function(t){return t.contact.address.zip}},{key:"contact.address.state",title:"State",value:function(t){return t.contact.address.state}},{key:"contact.address.city",title:"City",value:function(t){return t.contact.address.city}},{key:"contact.phone.primary",title:"Primary Phone",value:function(t){return t.contact.phone[0]}},{key:"contact.email.primary",title:"Primary Email",value:function(t){return t.contact.email[0]}},{key:"likes",title:"Likes",value:function(t){return t.likes.join(", ")}},{key:"memberSince",title:"Member Since"}],t.get("data/people/100.json").then(function(t){e.rows=t.data})}Object.defineProperty(e,"__esModule",{value:!0}),e.default=n,n.$inject=["$http"]},function(t,e){"use strict";function n(){}Object.defineProperty(e,"__esModule",{value:!0}),e.default={templateUrl:"qgrid.html",controller:n,bindings:{rows:"<",columns:"<"}},n.$inject=[]},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}var o=n(3),i=r(o);!function(t){function e(t){t.put("qgrid.html",n(7))}t.module("qgrid",[]).component("qGrid",i.default).run(e),e.$inject=["$templateCache"]}(angular)},function(t,e,n){e=t.exports=n(6)(),e.push([t.id,".qgrid.theme-default>table thead tr>th{border-bottom:1px solid #000;white-space:nowrap}.qgrid.theme-default>table tbody{overflow-y:auto;overflow-x:scroll}","",{version:3,sources:["/./src/themes/default/src/themes/default/body.scss"],names:[],mappings:"AAAA,uCAII,6BACA,kBAAmB,CALvB,iCAUG,gBACA,iBAAkB,CAClB",file:"body.scss",sourcesContent:[".qgrid.theme-default {\n\t> table {\n\t\tthead {\n\t\t\ttr > th {\n\t\t\t\tborder-bottom: 1px solid #000;\n\t\t\t\twhite-space: nowrap;\n\t\t\t}\n\t\t}\n\n\t\ttbody {\n\t\t\toverflow-y: auto;\n\t\t\toverflow-x: scroll;\n\t\t}\n\n\t\ttfoot {\n\n\t\t}\n\t}\n}"],sourceRoot:"webpack://"}])},function(t,e){t.exports=function(){var t=[];return t.toString=function(){for(var t=[],e=0;e<this.length;e++){var n=this[e];n[2]?t.push("@media "+n[2]+"{"+n[1]+"}"):t.push(n[1])}return t.join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var r={},o=0;o<this.length;o++){var i=this[o][0];"number"==typeof i&&(r[i]=!0)}for(o=0;o<e.length;o++){var a=e[o];"number"==typeof a[0]&&r[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),t.push(a))}},t}},function(t,e){t.exports='<div class="qgrid theme-default">\n\t<table>\n\t\t<thead>\n\t\t<tr>\n\t\t\t<th ng-repeat="$column in $ctrl.columns track by $index" class="{{::$column.key}}">\n\t\t\t\t<label>{{$column.title}}</label>\n\t\t\t</th>\n\t\t</tr>\n\t\t</thead>\n\t\t<tbody>\n\t\t<tr ng-repeat="$row in $ctrl.rows track by $index">\n\t\t\t<td ng-repeat="$column in $ctrl.columns track by $index" class="{{::$column.key}}">\n\t\t\t\t{{$column.value ? $column.value($row) : $row[$column.key]}}\n\t\t\t</td>\n\t\t</tr>\n\t\t</tbody>\n\t\t<tfoot>\n\t\t</tfoot>\n\t</table>\n</div>'},function(t,e,n){function r(t,e){for(var n=0;n<t.length;n++){var r=t[n],o=p[r.id];if(o){o.refs++;for(var i=0;i<o.parts.length;i++)o.parts[i](r.parts[i]);for(;i<r.parts.length;i++)o.parts.push(u(r.parts[i],e))}else{for(var a=[],i=0;i<r.parts.length;i++)a.push(u(r.parts[i],e));p[r.id]={id:r.id,refs:1,parts:a}}}}function o(t){for(var e=[],n={},r=0;r<t.length;r++){var o=t[r],i=o[0],a=o[1],s=o[2],l=o[3],u={css:a,media:s,sourceMap:l};n[i]?n[i].parts.push(u):e.push(n[i]={id:i,parts:[u]})}return e}function i(t,e){var n=v(),r=g[g.length-1];if("top"===t.insertAt)r?r.nextSibling?n.insertBefore(e,r.nextSibling):n.appendChild(e):n.insertBefore(e,n.firstChild),g.push(e);else{if("bottom"!==t.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");n.appendChild(e)}}function a(t){t.parentNode.removeChild(t);var e=g.indexOf(t);e>=0&&g.splice(e,1)}function s(t){var e=document.createElement("style");return e.type="text/css",i(t,e),e}function l(t){var e=document.createElement("link");return e.rel="stylesheet",i(t,e),e}function u(t,e){var n,r,o;if(e.singleton){var i=b++;n=y||(y=s(e)),r=c.bind(null,n,i,!1),o=c.bind(null,n,i,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=l(e),r=f.bind(null,n),o=function(){a(n),n.href&&URL.revokeObjectURL(n.href)}):(n=s(e),r=d.bind(null,n),o=function(){a(n)});return r(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;r(t=e)}else o()}}function c(t,e,n,r){var o=n?"":r.css;if(t.styleSheet)t.styleSheet.cssText=x(e,o);else{var i=document.createTextNode(o),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(i,a[e]):t.appendChild(i)}}function d(t,e){var n=e.css,r=e.media;if(r&&t.setAttribute("media",r),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}function f(t,e){var n=e.css,r=e.sourceMap;r&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var o=new Blob([n],{type:"text/css"}),i=t.href;t.href=URL.createObjectURL(o),i&&URL.revokeObjectURL(i)}var p={},h=function(t){var e;return function(){return"undefined"==typeof e&&(e=t.apply(this,arguments)),e}},m=h(function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())}),v=h(function(){return document.head||document.getElementsByTagName("head")[0]}),y=null,b=0,g=[];t.exports=function(t,e){e=e||{},"undefined"==typeof e.singleton&&(e.singleton=m()),"undefined"==typeof e.insertAt&&(e.insertAt="bottom");var n=o(t);return r(n,e),function(t){for(var i=[],a=0;a<n.length;a++){var s=n[a],l=p[s.id];l.refs--,i.push(l)}if(t){var u=o(t);r(u,e)}for(var a=0;a<i.length;a++){var l=i[a];if(0===l.refs){for(var c=0;c<l.parts.length;c++)l.parts[c]();delete p[l.id]}}}};var x=function(){var t=[];return function(e,n){return t[e]=n,t.filter(Boolean).join("\n")}}()},function(t,e,n){var r=n(5);"string"==typeof r&&(r=[[t.id,r,""]]);n(8)(r,{});r.locals&&(t.exports=r.locals)}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vYnVuZGxlLmpzIiwid2VicGFjazovLy93ZWJwYWNrL2Jvb3RzdHJhcCA4NTVkZGRkZTk2ZmYwMGYyNzEzMiIsIndlYnBhY2s6Ly8vLi9kZW1vL2luZGV4LmpzIiwid2VicGFjazovLy8uL3NyYy90aGVtZXMvZGVmYXVsdC9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9kZW1vL3NhbmRib3gvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvZ3JpZC9ncmlkLmpzIiwid2VicGFjazovLy8uL3NyYy9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvdGhlbWVzL2RlZmF1bHQvYm9keS5zY3NzIiwid2VicGFjazovLy8uL34vY3NzLWxvYWRlci9saWIvY3NzLWJhc2UuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvZ3JpZC9ncmlkLmh0bWwiLCJ3ZWJwYWNrOi8vLy4vfi9zdHlsZS1sb2FkZXIvYWRkU3R5bGVzLmpzIiwid2VicGFjazovLy8uL3NyYy90aGVtZXMvZGVmYXVsdC9ib2R5LnNjc3M/ODAzYyJdLCJuYW1lcyI6WyJtb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiaW5zdGFsbGVkTW9kdWxlcyIsImV4cG9ydHMiLCJtb2R1bGUiLCJpZCIsImxvYWRlZCIsImNhbGwiLCJtIiwiYyIsInAiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0Iiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJfaW5kZXgiLCJfaW5kZXgyIiwiYW5ndWxhciIsIlNldHVwIiwiJHJvdXRlUHJvdmlkZXIiLCIkbG9jYXRpb25Qcm92aWRlciIsIndoZW4iLCJ0ZW1wbGF0ZSIsInRlbXBsYXRlVXJsIiwiY29udHJvbGxlciIsImNvbnRyb2xsZXJBcyIsImh0bWw1TW9kZSIsImhhc2hQcmVmaXgiLCJDb250cm9sbGVyIiwiY29uZmlnIiwiJGluamVjdCIsInJ1biIsIiRodHRwIiwiY3RybCIsInRoaXMiLCJyb3dzIiwiY29sdW1ucyIsImtleSIsInRpdGxlIiwidmFsdWUiLCJpdGVtIiwibmFtZSIsImxhc3QiLCJmaXJzdCIsImNvbnRhY3QiLCJhZGRyZXNzIiwiemlwIiwic3RhdGUiLCJjaXR5IiwicGhvbmUiLCJlbWFpbCIsImxpa2VzIiwiam9pbiIsImdldCIsInRoZW4iLCJyZXNwb25zZSIsImRhdGEiLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImJpbmRpbmdzIiwiX2dyaWQiLCJfZ3JpZDIiLCIkdGVtcGxhdGVDYWNoZSIsInB1dCIsImNvbXBvbmVudCIsInB1c2giLCJ2ZXJzaW9uIiwic291cmNlcyIsIm5hbWVzIiwibWFwcGluZ3MiLCJmaWxlIiwic291cmNlc0NvbnRlbnQiLCJzb3VyY2VSb290IiwibGlzdCIsInRvU3RyaW5nIiwicmVzdWx0IiwiaSIsImxlbmd0aCIsIm1lZGlhUXVlcnkiLCJhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzIiwiYWRkU3R5bGVzVG9Eb20iLCJzdHlsZXMiLCJvcHRpb25zIiwiZG9tU3R5bGUiLCJzdHlsZXNJbkRvbSIsInJlZnMiLCJqIiwicGFydHMiLCJhZGRTdHlsZSIsImxpc3RUb1N0eWxlcyIsIm5ld1N0eWxlcyIsImNzcyIsIm1lZGlhIiwic291cmNlTWFwIiwicGFydCIsImluc2VydFN0eWxlRWxlbWVudCIsInN0eWxlRWxlbWVudCIsImhlYWQiLCJnZXRIZWFkRWxlbWVudCIsImxhc3RTdHlsZUVsZW1lbnRJbnNlcnRlZEF0VG9wIiwic3R5bGVFbGVtZW50c0luc2VydGVkQXRUb3AiLCJpbnNlcnRBdCIsIm5leHRTaWJsaW5nIiwiaW5zZXJ0QmVmb3JlIiwiYXBwZW5kQ2hpbGQiLCJmaXJzdENoaWxkIiwiRXJyb3IiLCJyZW1vdmVTdHlsZUVsZW1lbnQiLCJwYXJlbnROb2RlIiwicmVtb3ZlQ2hpbGQiLCJpZHgiLCJpbmRleE9mIiwic3BsaWNlIiwiY3JlYXRlU3R5bGVFbGVtZW50IiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwidHlwZSIsImNyZWF0ZUxpbmtFbGVtZW50IiwibGlua0VsZW1lbnQiLCJyZWwiLCJ1cGRhdGUiLCJyZW1vdmUiLCJzaW5nbGV0b24iLCJzdHlsZUluZGV4Iiwic2luZ2xldG9uQ291bnRlciIsInNpbmdsZXRvbkVsZW1lbnQiLCJhcHBseVRvU2luZ2xldG9uVGFnIiwiYmluZCIsIlVSTCIsImNyZWF0ZU9iamVjdFVSTCIsInJldm9rZU9iamVjdFVSTCIsIkJsb2IiLCJidG9hIiwidXBkYXRlTGluayIsImhyZWYiLCJhcHBseVRvVGFnIiwibmV3T2JqIiwiaW5kZXgiLCJzdHlsZVNoZWV0IiwiY3NzVGV4dCIsInJlcGxhY2VUZXh0IiwiY3NzTm9kZSIsImNyZWF0ZVRleHROb2RlIiwiY2hpbGROb2RlcyIsInNldEF0dHJpYnV0ZSIsInVuZXNjYXBlIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwiSlNPTiIsInN0cmluZ2lmeSIsImJsb2IiLCJvbGRTcmMiLCJtZW1vaXplIiwiZm4iLCJtZW1vIiwiYXBwbHkiLCJhcmd1bWVudHMiLCJpc09sZElFIiwidGVzdCIsIndpbmRvdyIsIm5hdmlnYXRvciIsInVzZXJBZ2VudCIsInRvTG93ZXJDYXNlIiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJuZXdMaXN0IiwibWF5UmVtb3ZlIiwidGV4dFN0b3JlIiwicmVwbGFjZW1lbnQiLCJmaWx0ZXIiLCJCb29sZWFuIiwiY29udGVudCIsImxvY2FscyJdLCJtYXBwaW5ncyI6IkNBQVMsU0FBVUEsR0NJbkIsUUFBQUMsR0FBQUMsR0FHQSxHQUFBQyxFQUFBRCxHQUNBLE1BQUFDLEdBQUFELEdBQUFFLE9BR0EsSUFBQUMsR0FBQUYsRUFBQUQsSUFDQUUsV0FDQUUsR0FBQUosRUFDQUssUUFBQSxFQVVBLE9BTkFQLEdBQUFFLEdBQUFNLEtBQUFILEVBQUFELFFBQUFDLElBQUFELFFBQUFILEdBR0FJLEVBQUFFLFFBQUEsRUFHQUYsRUFBQUQsUUF2QkEsR0FBQUQsS0FxQ0EsT0FUQUYsR0FBQVEsRUFBQVQsRUFHQUMsRUFBQVMsRUFBQVAsRUFHQUYsRUFBQVUsRUFBQSxZQUdBVixFQUFBLEtETU0sU0FBU0ksRUFBUUQsRUFBU0gsR0U1Q2hDLFlGb0RDLFNBQVNXLEdBQXVCQyxHQUFPLE1BQU9BLElBQU9BLEVBQUlDLFdBQWFELEdBQVFFLFFBQVNGLEdFbkR4RixHQUFBRyxHQUFBZixFQUFBLEdGaURLZ0IsRUFBVUwsRUFBdUJJLEVFL0N0Q2YsR0FBUSxHQUNSQSxFQUFRLEdBQ1JBLEVBQVEsR0FFUixTQUFXaUIsR0FNVixRQUFTQyxHQUFNQyxFQUFnQkMsR0FDOUJELEVBQ0VFLEtBQUssS0FDTEMsU0FBVSxvQkFFVkQsS0FBSyxZQUNMRSxZQUFhLHFCQUNiQyxxQkFDQUMsYUFBYyxVQUdoQkwsRUFDRU0sV0FBVSxHQUNWQyxXQUFXLEtBSWQsUUFBU0MsTUF0QlRYLEVBQVFiLE9BQU8sUUFBUyxVQUFXLFVBQ2pDeUIsT0FBT1gsR0FDUE0sV0FBVyxrQkFBbUJJLEdBRWhDVixFQUFNWSxTQUFXLGlCQUFrQixxQkFpQm5DRixFQUFXRSxZQUlUYixVRitDRyxTQUFTYixFQUFRRCxFQUFTSCxHR2hGaEMsWUFFQUEsR0FBUSxHQUVSLFNBQVdpQixHQU1WLFFBQVNDLE1BSlRELEVBQVFiLE9BQU8sU0FDYjJCLElBQUliLEdBRU5BLEVBQU1ZLFNBQVcsbUJBS2ZiLFVIb0ZHLFNBQVNiLEVBQVFELEdJbEd2QixZQUdlLFNBQVN5QixHQUFXSSxHQUNsQyxHQUFNQyxHQUFPQyxJQUViQSxNQUFLQyxRQUNMRCxLQUFLRSxVQUVIQyxJQUFLLFlBQ0xDLE1BQU8sWUFDUEMsTUFBTyxTQUFVQyxHQUNoQixNQUFPQSxHQUFLQyxLQUFLQyxRQUlsQkwsSUFBSyxhQUNMQyxNQUFPLGFBQ1BDLE1BQU8sU0FBVUMsR0FDaEIsTUFBT0EsR0FBS0MsS0FBS0UsU0FJbEJOLElBQUssU0FDTEMsTUFBTyxXQUdQRCxJQUFLLFdBQ0xDLE1BQU8sYUFHUEQsSUFBSyxzQkFDTEMsTUFBTyxNQUNQQyxNQUFPLFNBQVVDLEdBQ2hCLE1BQU9BLEdBQUtJLFFBQVFDLFFBQVFDLE9BSTdCVCxJQUFLLHdCQUNMQyxNQUFPLFFBQ1BDLE1BQU8sU0FBVUMsR0FDaEIsTUFBT0EsR0FBS0ksUUFBUUMsUUFBUUUsU0FJN0JWLElBQUssdUJBQ0xDLE1BQU8sT0FDUEMsTUFBTyxTQUFVQyxHQUNoQixNQUFPQSxHQUFLSSxRQUFRQyxRQUFRRyxRQUk3QlgsSUFBSyx3QkFDTEMsTUFBTyxnQkFDUEMsTUFBTyxTQUFVQyxHQUNoQixNQUFPQSxHQUFLSSxRQUFRSyxNQUFNLE1BSTNCWixJQUFLLHdCQUNMQyxNQUFPLGdCQUNQQyxNQUFPLFNBQVVDLEdBQ2hCLE1BQU9BLEdBQUtJLFFBQVFNLE1BQU0sTUFJM0JiLElBQUssUUFDTEMsTUFBTyxRQUNQQyxNQUFPLFNBQVVDLEdBQ2hCLE1BQU9BLEdBQUtXLE1BQU1DLEtBQUssU0FJeEJmLElBQUssY0FDTEMsTUFBTyxpQkFJVE4sRUFBTXFCLElBQUksd0JBQ1JDLEtBQUssU0FBVUMsR0FDZnRCLEVBQUtFLEtBQU9vQixFQUFTQyxPSnNCdkJDLE9BQU9DLGVBQWV2RCxFQUFTLGNBQzlCb0MsT0FBTyxJQUVScEMsRUFBUVcsUUl0R2VjLEVBRHhCQSxFQUFXRSxTQUFXLFVKK0toQixTQUFTMUIsRUFBUUQsR0tqTHZCLFlBZUEsU0FBU3lCLE1MeUtSNkIsT0FBT0MsZUFBZXZELEVBQVMsY0FDOUJvQyxPQUFPLElBRVJwQyxFQUFRVyxTS3JMUlMsWUFBYSxhQUNiQyxXQUFZSSxFQUNaK0IsVUFDQ3hCLEtBQU0sSUFDTkMsUUFBUyxNQUlYUixFQUFXRSxZTGlNTCxTQUFTMUIsRUFBUUQsRUFBU0gsR00vTWhDLFlOdU5DLFNBQVNXLEdBQXVCQyxHQUFPLE1BQU9BLElBQU9BLEVBQUlDLFdBQWFELEdBQVFFLFFBQVNGLEdNck54RixHQUFBZ0QsR0FBQTVELEVBQUEsR05tTks2RCxFQUFTbEQsRUFBdUJpRCxJTWpOckMsU0FBVzNDLEdBTVYsUUFBU0MsR0FBTTRDLEdBQ2RBLEVBQWVDLElBQUksYUFBYy9ELEVBQVEsSUFOMUNpQixFQUFRYixPQUFPLFlBQ2I0RCxVQUFVLFFBRFpILEVBQUEvQyxTQUVFaUIsSUFBSWIsR0FFTkEsRUFBTVksU0FBVyxtQkFJZmIsVU51TkcsU0FBU2IsRUFBUUQsRUFBU0gsR09wT2hDRyxFQUFBQyxFQUFBRCxRQUFBSCxFQUFBLEtBS0FHLEVBQUE4RCxNQUFBN0QsRUFBQUMsR0FBQSw2SkFBb0wsSUFBUTZELFFBQUEsRUFBQUMsU0FBQSxzREFBQUMsU0FBQUMsU0FBQSx5REFBQUMsS0FBQSxZQUFBQyxnQkFBQSxxUUFBbWNDLFdBQUEsaUJQNk96bkIsU0FBU3BFLEVBQVFELEdRN092QkMsRUFBQUQsUUFBQSxXQUNBLEdBQUFzRSxLQTBDQSxPQXZDQUEsR0FBQUMsU0FBQSxXQUVBLE9BREFDLE1BQ0FDLEVBQUEsRUFBZ0JBLEVBQUExQyxLQUFBMkMsT0FBaUJELElBQUEsQ0FDakMsR0FBQXBDLEdBQUFOLEtBQUEwQyxFQUNBcEMsR0FBQSxHQUNBbUMsRUFBQVYsS0FBQSxVQUFBekIsRUFBQSxPQUF3Q0EsRUFBQSxRQUV4Q21DLEVBQUFWLEtBQUF6QixFQUFBLElBR0EsTUFBQW1DLEdBQUF2QixLQUFBLEtBSUFxQixFQUFBRyxFQUFBLFNBQUE3RSxFQUFBK0UsR0FDQSxnQkFBQS9FLEtBQ0FBLElBQUEsS0FBQUEsRUFBQSxLQUVBLFFBREFnRixNQUNBSCxFQUFBLEVBQWdCQSxFQUFBMUMsS0FBQTJDLE9BQWlCRCxJQUFBLENBQ2pDLEdBQUF2RSxHQUFBNkIsS0FBQTBDLEdBQUEsRUFDQSxpQkFBQXZFLEtBQ0EwRSxFQUFBMUUsSUFBQSxHQUVBLElBQUF1RSxFQUFBLEVBQVlBLEVBQUE3RSxFQUFBOEUsT0FBb0JELElBQUEsQ0FDaEMsR0FBQXBDLEdBQUF6QyxFQUFBNkUsRUFLQSxpQkFBQXBDLEdBQUEsSUFBQXVDLEVBQUF2QyxFQUFBLE1BQ0FzQyxJQUFBdEMsRUFBQSxHQUNBQSxFQUFBLEdBQUFzQyxFQUNLQSxJQUNMdEMsRUFBQSxPQUFBQSxFQUFBLGFBQUFzQyxFQUFBLEtBRUFMLEVBQUFSLEtBQUF6QixNQUlBaUMsSVIwUE0sU0FBU3JFLEVBQVFELEdTMVN2QkMsRUFBQUQsUUFBQSw2aUJUZ1RNLFNBQVNDLEVBQVFELEVBQVNILEdVblBoQyxRQUFBZ0YsR0FBQUMsRUFBQUMsR0FDQSxPQUFBTixHQUFBLEVBQWVBLEVBQUFLLEVBQUFKLE9BQW1CRCxJQUFBLENBQ2xDLEdBQUFwQyxHQUFBeUMsRUFBQUwsR0FDQU8sRUFBQUMsRUFBQTVDLEVBQUFuQyxHQUNBLElBQUE4RSxFQUFBLENBQ0FBLEVBQUFFLE1BQ0EsUUFBQUMsR0FBQSxFQUFpQkEsRUFBQUgsRUFBQUksTUFBQVYsT0FBMkJTLElBQzVDSCxFQUFBSSxNQUFBRCxHQUFBOUMsRUFBQStDLE1BQUFELEdBRUEsTUFBUUEsRUFBQTlDLEVBQUErQyxNQUFBVixPQUF1QlMsSUFDL0JILEVBQUFJLE1BQUF0QixLQUFBdUIsRUFBQWhELEVBQUErQyxNQUFBRCxHQUFBSixRQUVHLENBRUgsT0FEQUssTUFDQUQsRUFBQSxFQUFpQkEsRUFBQTlDLEVBQUErQyxNQUFBVixPQUF1QlMsSUFDeENDLEVBQUF0QixLQUFBdUIsRUFBQWhELEVBQUErQyxNQUFBRCxHQUFBSixHQUVBRSxHQUFBNUMsRUFBQW5DLEtBQTJCQSxHQUFBbUMsRUFBQW5DLEdBQUFnRixLQUFBLEVBQUFFLFdBSzNCLFFBQUFFLEdBQUFoQixHQUdBLE9BRkFRLE1BQ0FTLEtBQ0FkLEVBQUEsRUFBZUEsRUFBQUgsRUFBQUksT0FBaUJELElBQUEsQ0FDaEMsR0FBQXBDLEdBQUFpQyxFQUFBRyxHQUNBdkUsRUFBQW1DLEVBQUEsR0FDQW1ELEVBQUFuRCxFQUFBLEdBQ0FvRCxFQUFBcEQsRUFBQSxHQUNBcUQsRUFBQXJELEVBQUEsR0FDQXNELEdBQWNILE1BQUFDLFFBQUFDLFlBQ2RILEdBQUFyRixHQUdBcUYsRUFBQXJGLEdBQUFrRixNQUFBdEIsS0FBQTZCLEdBRkFiLEVBQUFoQixLQUFBeUIsRUFBQXJGLElBQWdDQSxLQUFBa0YsT0FBQU8sS0FJaEMsTUFBQWIsR0FHQSxRQUFBYyxHQUFBYixFQUFBYyxHQUNBLEdBQUFDLEdBQUFDLElBQ0FDLEVBQUFDLElBQUF2QixPQUFBLEVBQ0EsWUFBQUssRUFBQW1CLFNBQ0FGLEVBRUdBLEVBQUFHLFlBQ0hMLEVBQUFNLGFBQUFQLEVBQUFHLEVBQUFHLGFBRUFMLEVBQUFPLFlBQUFSLEdBSkFDLEVBQUFNLGFBQUFQLEVBQUFDLEVBQUFRLFlBTUFMLEVBQUFuQyxLQUFBK0IsT0FDRSxlQUFBZCxFQUFBbUIsU0FHRixTQUFBSyxPQUFBLHFFQUZBVCxHQUFBTyxZQUFBUixJQU1BLFFBQUFXLEdBQUFYLEdBQ0FBLEVBQUFZLFdBQUFDLFlBQUFiLEVBQ0EsSUFBQWMsR0FBQVYsRUFBQVcsUUFBQWYsRUFDQWMsSUFBQSxHQUNBVixFQUFBWSxPQUFBRixFQUFBLEdBSUEsUUFBQUcsR0FBQS9CLEdBQ0EsR0FBQWMsR0FBQWtCLFNBQUFDLGNBQUEsUUFHQSxPQUZBbkIsR0FBQW9CLEtBQUEsV0FDQXJCLEVBQUFiLEVBQUFjLEdBQ0FBLEVBR0EsUUFBQXFCLEdBQUFuQyxHQUNBLEdBQUFvQyxHQUFBSixTQUFBQyxjQUFBLE9BR0EsT0FGQUcsR0FBQUMsSUFBQSxhQUNBeEIsRUFBQWIsRUFBQW9DLEdBQ0FBLEVBR0EsUUFBQTlCLEdBQUE1RSxFQUFBc0UsR0FDQSxHQUFBYyxHQUFBd0IsRUFBQUMsQ0FFQSxJQUFBdkMsRUFBQXdDLFVBQUEsQ0FDQSxHQUFBQyxHQUFBQyxHQUNBNUIsR0FBQTZCLE1BQUFaLEVBQUEvQixJQUNBc0MsRUFBQU0sRUFBQUMsS0FBQSxLQUFBL0IsRUFBQTJCLEdBQUEsR0FDQUYsRUFBQUssRUFBQUMsS0FBQSxLQUFBL0IsRUFBQTJCLEdBQUEsT0FDRS9HLEdBQUFpRixXQUNGLGtCQUFBbUMsTUFDQSxrQkFBQUEsS0FBQUMsaUJBQ0Esa0JBQUFELEtBQUFFLGlCQUNBLGtCQUFBQyxPQUNBLGtCQUFBQyxPQUNBcEMsRUFBQXFCLEVBQUFuQyxHQUNBc0MsRUFBQWEsRUFBQU4sS0FBQSxLQUFBL0IsR0FDQXlCLEVBQUEsV0FDQWQsRUFBQVgsR0FDQUEsRUFBQXNDLE1BQ0FOLElBQUFFLGdCQUFBbEMsRUFBQXNDLFNBR0F0QyxFQUFBaUIsRUFBQS9CLEdBQ0FzQyxFQUFBZSxFQUFBUixLQUFBLEtBQUEvQixHQUNBeUIsRUFBQSxXQUNBZCxFQUFBWCxJQU1BLE9BRkF3QixHQUFBNUcsR0FFQSxTQUFBNEgsR0FDQSxHQUFBQSxFQUFBLENBQ0EsR0FBQUEsRUFBQTdDLE1BQUEvRSxFQUFBK0UsS0FBQTZDLEVBQUE1QyxRQUFBaEYsRUFBQWdGLE9BQUE0QyxFQUFBM0MsWUFBQWpGLEVBQUFpRixVQUNBLE1BQ0EyQixHQUFBNUcsRUFBQTRILE9BRUFmLE1BY0EsUUFBQUssR0FBQTlCLEVBQUF5QyxFQUFBaEIsRUFBQTdHLEdBQ0EsR0FBQStFLEdBQUE4QixFQUFBLEdBQUE3RyxFQUFBK0UsR0FFQSxJQUFBSyxFQUFBMEMsV0FDQTFDLEVBQUEwQyxXQUFBQyxRQUFBQyxFQUFBSCxFQUFBOUMsT0FDRSxDQUNGLEdBQUFrRCxHQUFBM0IsU0FBQTRCLGVBQUFuRCxHQUNBb0QsRUFBQS9DLEVBQUErQyxVQUNBQSxHQUFBTixJQUFBekMsRUFBQWEsWUFBQWtDLEVBQUFOLElBQ0FNLEVBQUFsRSxPQUNBbUIsRUFBQU8sYUFBQXNDLEVBQUFFLEVBQUFOLElBRUF6QyxFQUFBUSxZQUFBcUMsSUFLQSxRQUFBTixHQUFBdkMsRUFBQXBGLEdBQ0EsR0FBQStFLEdBQUEvRSxFQUFBK0UsSUFDQUMsRUFBQWhGLEVBQUFnRixLQU1BLElBSkFBLEdBQ0FJLEVBQUFnRCxhQUFBLFFBQUFwRCxHQUdBSSxFQUFBMEMsV0FDQTFDLEVBQUEwQyxXQUFBQyxRQUFBaEQsTUFDRSxDQUNGLEtBQUFLLEVBQUFTLFlBQ0FULEVBQUFhLFlBQUFiLEVBQUFTLFdBRUFULEdBQUFRLFlBQUFVLFNBQUE0QixlQUFBbkQsS0FJQSxRQUFBMEMsR0FBQWYsRUFBQTFHLEdBQ0EsR0FBQStFLEdBQUEvRSxFQUFBK0UsSUFDQUUsRUFBQWpGLEVBQUFpRixTQUVBQSxLQUVBRixHQUFBLHVEQUF1RHlDLEtBQUFhLFNBQUFDLG1CQUFBQyxLQUFBQyxVQUFBdkQsTUFBQSxNQUd2RCxJQUFBd0QsR0FBQSxHQUFBbEIsT0FBQXhDLElBQTZCeUIsS0FBQSxhQUU3QmtDLEVBQUFoQyxFQUFBZ0IsSUFFQWhCLEdBQUFnQixLQUFBTixJQUFBQyxnQkFBQW9CLEdBRUFDLEdBQ0F0QixJQUFBRSxnQkFBQW9CLEdBaFBBLEdBQUFsRSxNQUNBbUUsRUFBQSxTQUFBQyxHQUNBLEdBQUFDLEVBQ0EsbUJBRUEsTUFEQSxtQkFBQUEsT0FBQUQsRUFBQUUsTUFBQXhILEtBQUF5SCxZQUNBRixJQUdBRyxFQUFBTCxFQUFBLFdBQ0EscUJBQUFNLEtBQUFDLE9BQUFDLFVBQUFDLFVBQUFDLGlCQUVBL0QsRUFBQXFELEVBQUEsV0FDQSxNQUFBckMsVUFBQWpCLE1BQUFpQixTQUFBZ0QscUJBQUEsYUFFQXJDLEVBQUEsS0FDQUQsRUFBQSxFQUNBeEIsSUFFQWhHLEdBQUFELFFBQUEsU0FBQXNFLEVBQUFTLEdBS0FBLFFBR0EsbUJBQUFBLEdBQUF3QyxZQUFBeEMsRUFBQXdDLFVBQUFrQyxLQUdBLG1CQUFBMUUsR0FBQW1CLFdBQUFuQixFQUFBbUIsU0FBQSxTQUVBLElBQUFwQixHQUFBUSxFQUFBaEIsRUFHQSxPQUZBTyxHQUFBQyxFQUFBQyxHQUVBLFNBQUFpRixHQUVBLE9BREFDLE1BQ0F4RixFQUFBLEVBQWdCQSxFQUFBSyxFQUFBSixPQUFtQkQsSUFBQSxDQUNuQyxHQUFBcEMsR0FBQXlDLEVBQUFMLEdBQ0FPLEVBQUFDLEVBQUE1QyxFQUFBbkMsR0FDQThFLEdBQUFFLE9BQ0ErRSxFQUFBbkcsS0FBQWtCLEdBRUEsR0FBQWdGLEVBQUEsQ0FDQSxHQUFBekUsR0FBQUQsRUFBQTBFLEVBQ0FuRixHQUFBVSxFQUFBUixHQUVBLE9BQUFOLEdBQUEsRUFBZ0JBLEVBQUF3RixFQUFBdkYsT0FBc0JELElBQUEsQ0FDdEMsR0FBQU8sR0FBQWlGLEVBQUF4RixFQUNBLFFBQUFPLEVBQUFFLEtBQUEsQ0FDQSxPQUFBQyxHQUFBLEVBQWtCQSxFQUFBSCxFQUFBSSxNQUFBVixPQUEyQlMsSUFDN0NILEVBQUFJLE1BQUFELFdBQ0FGLEdBQUFELEVBQUE5RSxPQWlJQSxJQUFBdUksR0FBQSxXQUNBLEdBQUF5QixLQUVBLGlCQUFBNUIsRUFBQTZCLEdBRUEsTUFEQUQsR0FBQTVCLEdBQUE2QixFQUNBRCxFQUFBRSxPQUFBQyxTQUFBcEgsS0FBQSxXVitXTSxTQUFTaEQsRUFBUUQsRUFBU0gsR1d6aUJoQyxHQUFBeUssR0FBQXpLLEVBQUEsRUFDQSxpQkFBQXlLLFNBQUFySyxFQUFBQyxHQUFBb0ssRUFBQSxLQUVBekssR0FBQSxHQUFBeUssS0FDQUEsR0FBQUMsU0FBQXRLLEVBQUFELFFBQUFzSyxFQUFBQyIsImZpbGUiOiJidW5kbGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKioqKioqLyAoZnVuY3Rpb24obW9kdWxlcykgeyAvLyB3ZWJwYWNrQm9vdHN0cmFwXG4vKioqKioqLyBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbi8qKioqKiovIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4vKioqKioqLyBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4vKioqKioqLyBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pXG4vKioqKioqLyBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbi8qKioqKiovIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4vKioqKioqLyBcdFx0XHRleHBvcnRzOiB7fSxcbi8qKioqKiovIFx0XHRcdGlkOiBtb2R1bGVJZCxcbi8qKioqKiovIFx0XHRcdGxvYWRlZDogZmFsc2Vcbi8qKioqKiovIFx0XHR9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbi8qKioqKiovIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuLyoqKioqKi8gXHRcdG1vZHVsZS5sb2FkZWQgPSB0cnVlO1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuLyoqKioqKi8gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbi8qKioqKiovIFx0fVxuLyoqKioqKi9cbi8qKioqKiovXG4vKioqKioqLyBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCIvc2NyaXB0cy9cIjtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuLyoqKioqKi8gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcbi8qKioqKiovIH0pXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyoqKioqKi8gKFtcbi8qIDAgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdHZhciBfaW5kZXggPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuXHRcblx0dmFyIF9pbmRleDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pbmRleCk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0X193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblx0X193ZWJwYWNrX3JlcXVpcmVfXyg0KTtcblx0X193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblx0XG5cdChmdW5jdGlvbiAoYW5ndWxhcikge1xuXHRcdGFuZ3VsYXIubW9kdWxlKCdkZW1vJywgWyduZ1JvdXRlJywgJ3FncmlkJ10pLmNvbmZpZyhTZXR1cCkuY29udHJvbGxlcignRGVtby5Db250cm9sbGVyJywgQ29udHJvbGxlcik7XG5cdFxuXHRcdFNldHVwLiRpbmplY3QgPSBbJyRyb3V0ZVByb3ZpZGVyJywgJyRsb2NhdGlvblByb3ZpZGVyJ107XG5cdFx0ZnVuY3Rpb24gU2V0dXAoJHJvdXRlUHJvdmlkZXIsICRsb2NhdGlvblByb3ZpZGVyKSB7XG5cdFx0XHQkcm91dGVQcm92aWRlci53aGVuKCcvJywge1xuXHRcdFx0XHR0ZW1wbGF0ZTogJ3FncmlkIGRlbW8gcGFnZSdcblx0XHRcdH0pLndoZW4oJy9zYW5kYm94Jywge1xuXHRcdFx0XHR0ZW1wbGF0ZVVybDogJ3NhbmRib3gvaW5kZXguaHRtbCcsXG5cdFx0XHRcdGNvbnRyb2xsZXI6IF9pbmRleDIuZGVmYXVsdCxcblx0XHRcdFx0Y29udHJvbGxlckFzOiAnJGN0cmwnXG5cdFx0XHR9KTtcblx0XG5cdFx0XHQkbG9jYXRpb25Qcm92aWRlci5odG1sNU1vZGUoZmFsc2UpLmhhc2hQcmVmaXgoJyEnKTtcblx0XHR9XG5cdFxuXHRcdENvbnRyb2xsZXIuJGluamVjdCA9IFtdO1xuXHRcdGZ1bmN0aW9uIENvbnRyb2xsZXIoKSB7fVxuXHR9KShhbmd1bGFyKTtcblxuLyoqKi8gfSxcbi8qIDEgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdF9fd2VicGFja19yZXF1aXJlX18oOSk7XG5cdFxuXHQoZnVuY3Rpb24gKGFuZ3VsYXIpIHtcblx0XG5cdFx0YW5ndWxhci5tb2R1bGUoJ3FncmlkJykucnVuKFNldHVwKTtcblx0XG5cdFx0U2V0dXAuJGluamVjdCA9IFsnJHRlbXBsYXRlQ2FjaGUnXTtcblx0XHRmdW5jdGlvbiBTZXR1cCgpIC8qJHRlbXBsYXRlQ2FjaGUqL3tcblx0XHRcdC8vIGhlcmUnbGwgYmUgY3VzdG9tIHRlbXBsYXRlc1xuXHRcdH1cblx0fSkoYW5ndWxhcik7XG5cbi8qKiovIH0sXG4vKiAyICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0XHR2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0ZXhwb3J0cy5kZWZhdWx0ID0gQ29udHJvbGxlcjtcblx0Q29udHJvbGxlci4kaW5qZWN0ID0gWyckaHR0cCddO1xuXHRmdW5jdGlvbiBDb250cm9sbGVyKCRodHRwKSB7XG5cdFx0dmFyIGN0cmwgPSB0aGlzO1xuXHRcblx0XHR0aGlzLnJvd3MgPSBbXTtcblx0XHR0aGlzLmNvbHVtbnMgPSBbe1xuXHRcdFx0a2V5OiAnbmFtZS5sYXN0Jyxcblx0XHRcdHRpdGxlOiAnTGFzdCBOYW1lJyxcblx0XHRcdHZhbHVlOiBmdW5jdGlvbiB2YWx1ZShpdGVtKSB7XG5cdFx0XHRcdHJldHVybiBpdGVtLm5hbWUubGFzdDtcblx0XHRcdH1cblx0XHR9LCB7XG5cdFx0XHRrZXk6ICduYW1lLmZpcnN0Jyxcblx0XHRcdHRpdGxlOiAnRmlyc3QgTmFtZScsXG5cdFx0XHR2YWx1ZTogZnVuY3Rpb24gdmFsdWUoaXRlbSkge1xuXHRcdFx0XHRyZXR1cm4gaXRlbS5uYW1lLmZpcnN0O1xuXHRcdFx0fVxuXHRcdH0sIHtcblx0XHRcdGtleTogJ2dlbmRlcicsXG5cdFx0XHR0aXRsZTogJ0dlbmRlcidcblx0XHR9LCB7XG5cdFx0XHRrZXk6ICdiaXJ0aGRheScsXG5cdFx0XHR0aXRsZTogJ0JpcnRoZGF5J1xuXHRcdH0sIHtcblx0XHRcdGtleTogJ2NvbnRhY3QuYWRkcmVzcy56aXAnLFxuXHRcdFx0dGl0bGU6ICdaaXAnLFxuXHRcdFx0dmFsdWU6IGZ1bmN0aW9uIHZhbHVlKGl0ZW0pIHtcblx0XHRcdFx0cmV0dXJuIGl0ZW0uY29udGFjdC5hZGRyZXNzLnppcDtcblx0XHRcdH1cblx0XHR9LCB7XG5cdFx0XHRrZXk6ICdjb250YWN0LmFkZHJlc3Muc3RhdGUnLFxuXHRcdFx0dGl0bGU6ICdTdGF0ZScsXG5cdFx0XHR2YWx1ZTogZnVuY3Rpb24gdmFsdWUoaXRlbSkge1xuXHRcdFx0XHRyZXR1cm4gaXRlbS5jb250YWN0LmFkZHJlc3Muc3RhdGU7XG5cdFx0XHR9XG5cdFx0fSwge1xuXHRcdFx0a2V5OiAnY29udGFjdC5hZGRyZXNzLmNpdHknLFxuXHRcdFx0dGl0bGU6ICdDaXR5Jyxcblx0XHRcdHZhbHVlOiBmdW5jdGlvbiB2YWx1ZShpdGVtKSB7XG5cdFx0XHRcdHJldHVybiBpdGVtLmNvbnRhY3QuYWRkcmVzcy5jaXR5O1xuXHRcdFx0fVxuXHRcdH0sIHtcblx0XHRcdGtleTogJ2NvbnRhY3QucGhvbmUucHJpbWFyeScsXG5cdFx0XHR0aXRsZTogJ1ByaW1hcnkgUGhvbmUnLFxuXHRcdFx0dmFsdWU6IGZ1bmN0aW9uIHZhbHVlKGl0ZW0pIHtcblx0XHRcdFx0cmV0dXJuIGl0ZW0uY29udGFjdC5waG9uZVswXTtcblx0XHRcdH1cblx0XHR9LCB7XG5cdFx0XHRrZXk6ICdjb250YWN0LmVtYWlsLnByaW1hcnknLFxuXHRcdFx0dGl0bGU6ICdQcmltYXJ5IEVtYWlsJyxcblx0XHRcdHZhbHVlOiBmdW5jdGlvbiB2YWx1ZShpdGVtKSB7XG5cdFx0XHRcdHJldHVybiBpdGVtLmNvbnRhY3QuZW1haWxbMF07XG5cdFx0XHR9XG5cdFx0fSwge1xuXHRcdFx0a2V5OiAnbGlrZXMnLFxuXHRcdFx0dGl0bGU6ICdMaWtlcycsXG5cdFx0XHR2YWx1ZTogZnVuY3Rpb24gdmFsdWUoaXRlbSkge1xuXHRcdFx0XHRyZXR1cm4gaXRlbS5saWtlcy5qb2luKCcsICcpO1xuXHRcdFx0fVxuXHRcdH0sIHtcblx0XHRcdGtleTogJ21lbWJlclNpbmNlJyxcblx0XHRcdHRpdGxlOiAnTWVtYmVyIFNpbmNlJ1xuXHRcdH1dO1xuXHRcblx0XHQkaHR0cC5nZXQoJ2RhdGEvcGVvcGxlLzEwMC5qc29uJykudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcblx0XHRcdGN0cmwucm93cyA9IHJlc3BvbnNlLmRhdGE7XG5cdFx0fSk7XG5cdH1cblxuLyoqKi8gfSxcbi8qIDMgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdC8vIGltcG9ydCBHcmlkTW9kZWwgZnJvbSAnLi9ncmlkLm1vZGVsJztcblx0Ly8gaW1wb3J0IFV0aWxpdHkgZnJvbSAnLi4vLi4vc2VydmljZXMvdXRpbGl0eSc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0XHR2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0ZXhwb3J0cy5kZWZhdWx0ID0ge1xuXHRcdHRlbXBsYXRlVXJsOiAncWdyaWQuaHRtbCcsXG5cdFx0Y29udHJvbGxlcjogQ29udHJvbGxlcixcblx0XHRiaW5kaW5nczoge1xuXHRcdFx0cm93czogJzwnLFxuXHRcdFx0Y29sdW1uczogJzwnXG5cdFx0fVxuXHR9O1xuXHRcblx0XG5cdENvbnRyb2xsZXIuJGluamVjdCA9IFtdO1xuXHRmdW5jdGlvbiBDb250cm9sbGVyKCkge1xuXHRcdC8vdGhpcy5tb2RlbCA9IG5ldyBHcmlkTW9kZWwoKTtcblx0XHQvLyBUT0RPOiBpbnZlc3RpZ2F0ZSBob3cgdG8gdHJhY2sgY2hhbmdlcyBpbiB0aGlzIGNhc2Vcblx0XHQvLyBvciBnZXQgcmlkIG9mICRzY29wZSBvciBvZiBHcmlkTW9kZWxcblx0XHQvL1V0aWxpdHkuYXNzaWduKHRoaXMubW9kZWwsICRzY29wZSk7XG5cdH1cblxuLyoqKi8gfSxcbi8qIDQgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdHZhciBfZ3JpZCA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG5cdFxuXHR2YXIgX2dyaWQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZ3JpZCk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0KGZ1bmN0aW9uIChhbmd1bGFyKSB7XG5cdFx0YW5ndWxhci5tb2R1bGUoJ3FncmlkJywgW10pLmNvbXBvbmVudCgncUdyaWQnLCBfZ3JpZDIuZGVmYXVsdCkucnVuKFNldHVwKTtcblx0XG5cdFx0U2V0dXAuJGluamVjdCA9IFsnJHRlbXBsYXRlQ2FjaGUnXTtcblx0XHRmdW5jdGlvbiBTZXR1cCgkdGVtcGxhdGVDYWNoZSkge1xuXHRcdFx0JHRlbXBsYXRlQ2FjaGUucHV0KCdxZ3JpZC5odG1sJywgX193ZWJwYWNrX3JlcXVpcmVfXyg3KSk7XG5cdFx0fVxuXHR9KShhbmd1bGFyKTtcblxuLyoqKi8gfSxcbi8qIDUgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdGV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX18oNikoKTtcblx0Ly8gaW1wb3J0c1xuXHRcblx0XG5cdC8vIG1vZHVsZVxuXHRleHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCIucWdyaWQudGhlbWUtZGVmYXVsdD50YWJsZSB0aGVhZCB0cj50aHtib3JkZXItYm90dG9tOjFweCBzb2xpZCAjMDAwO3doaXRlLXNwYWNlOm5vd3JhcH0ucWdyaWQudGhlbWUtZGVmYXVsdD50YWJsZSB0Ym9keXtvdmVyZmxvdy15OmF1dG87b3ZlcmZsb3cteDpzY3JvbGx9XCIsIFwiXCIsIHtcInZlcnNpb25cIjozLFwic291cmNlc1wiOltcIi8uL3NyYy90aGVtZXMvZGVmYXVsdC9zcmMvdGhlbWVzL2RlZmF1bHQvYm9keS5zY3NzXCJdLFwibmFtZXNcIjpbXSxcIm1hcHBpbmdzXCI6XCJBQUFBLHVDQUlJLDZCQUNBLGtCQUFtQixDQUx2QixpQ0FVRyxnQkFDQSxpQkFBa0IsQ0FDbEJcIixcImZpbGVcIjpcImJvZHkuc2Nzc1wiLFwic291cmNlc0NvbnRlbnRcIjpbXCIucWdyaWQudGhlbWUtZGVmYXVsdCB7XFxuXFx0PiB0YWJsZSB7XFxuXFx0XFx0dGhlYWQge1xcblxcdFxcdFxcdHRyID4gdGgge1xcblxcdFxcdFxcdFxcdGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjMDAwO1xcblxcdFxcdFxcdFxcdHdoaXRlLXNwYWNlOiBub3dyYXA7XFxuXFx0XFx0XFx0fVxcblxcdFxcdH1cXG5cXG5cXHRcXHR0Ym9keSB7XFxuXFx0XFx0XFx0b3ZlcmZsb3cteTogYXV0bztcXG5cXHRcXHRcXHRvdmVyZmxvdy14OiBzY3JvbGw7XFxuXFx0XFx0fVxcblxcblxcdFxcdHRmb290IHtcXG5cXG5cXHRcXHR9XFxuXFx0fVxcbn1cIl0sXCJzb3VyY2VSb290XCI6XCJ3ZWJwYWNrOi8vXCJ9XSk7XG5cdFxuXHQvLyBleHBvcnRzXG5cblxuLyoqKi8gfSxcbi8qIDYgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdC8qXHJcblx0XHRNSVQgTGljZW5zZSBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlLnBocFxyXG5cdFx0QXV0aG9yIFRvYmlhcyBLb3BwZXJzIEBzb2tyYVxyXG5cdCovXHJcblx0Ly8gY3NzIGJhc2UgY29kZSwgaW5qZWN0ZWQgYnkgdGhlIGNzcy1sb2FkZXJcclxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKCkge1xyXG5cdFx0dmFyIGxpc3QgPSBbXTtcclxuXHRcclxuXHRcdC8vIHJldHVybiB0aGUgbGlzdCBvZiBtb2R1bGVzIGFzIGNzcyBzdHJpbmdcclxuXHRcdGxpc3QudG9TdHJpbmcgPSBmdW5jdGlvbiB0b1N0cmluZygpIHtcclxuXHRcdFx0dmFyIHJlc3VsdCA9IFtdO1xyXG5cdFx0XHRmb3IodmFyIGkgPSAwOyBpIDwgdGhpcy5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHRcdHZhciBpdGVtID0gdGhpc1tpXTtcclxuXHRcdFx0XHRpZihpdGVtWzJdKSB7XHJcblx0XHRcdFx0XHRyZXN1bHQucHVzaChcIkBtZWRpYSBcIiArIGl0ZW1bMl0gKyBcIntcIiArIGl0ZW1bMV0gKyBcIn1cIik7XHJcblx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdHJlc3VsdC5wdXNoKGl0ZW1bMV0pO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0XHRyZXR1cm4gcmVzdWx0LmpvaW4oXCJcIik7XHJcblx0XHR9O1xyXG5cdFxyXG5cdFx0Ly8gaW1wb3J0IGEgbGlzdCBvZiBtb2R1bGVzIGludG8gdGhlIGxpc3RcclxuXHRcdGxpc3QuaSA9IGZ1bmN0aW9uKG1vZHVsZXMsIG1lZGlhUXVlcnkpIHtcclxuXHRcdFx0aWYodHlwZW9mIG1vZHVsZXMgPT09IFwic3RyaW5nXCIpXHJcblx0XHRcdFx0bW9kdWxlcyA9IFtbbnVsbCwgbW9kdWxlcywgXCJcIl1dO1xyXG5cdFx0XHR2YXIgYWxyZWFkeUltcG9ydGVkTW9kdWxlcyA9IHt9O1xyXG5cdFx0XHRmb3IodmFyIGkgPSAwOyBpIDwgdGhpcy5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHRcdHZhciBpZCA9IHRoaXNbaV1bMF07XHJcblx0XHRcdFx0aWYodHlwZW9mIGlkID09PSBcIm51bWJlclwiKVxyXG5cdFx0XHRcdFx0YWxyZWFkeUltcG9ydGVkTW9kdWxlc1tpZF0gPSB0cnVlO1xyXG5cdFx0XHR9XHJcblx0XHRcdGZvcihpID0gMDsgaSA8IG1vZHVsZXMubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0XHR2YXIgaXRlbSA9IG1vZHVsZXNbaV07XHJcblx0XHRcdFx0Ly8gc2tpcCBhbHJlYWR5IGltcG9ydGVkIG1vZHVsZVxyXG5cdFx0XHRcdC8vIHRoaXMgaW1wbGVtZW50YXRpb24gaXMgbm90IDEwMCUgcGVyZmVjdCBmb3Igd2VpcmQgbWVkaWEgcXVlcnkgY29tYmluYXRpb25zXHJcblx0XHRcdFx0Ly8gIHdoZW4gYSBtb2R1bGUgaXMgaW1wb3J0ZWQgbXVsdGlwbGUgdGltZXMgd2l0aCBkaWZmZXJlbnQgbWVkaWEgcXVlcmllcy5cclxuXHRcdFx0XHQvLyAgSSBob3BlIHRoaXMgd2lsbCBuZXZlciBvY2N1ciAoSGV5IHRoaXMgd2F5IHdlIGhhdmUgc21hbGxlciBidW5kbGVzKVxyXG5cdFx0XHRcdGlmKHR5cGVvZiBpdGVtWzBdICE9PSBcIm51bWJlclwiIHx8ICFhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzW2l0ZW1bMF1dKSB7XHJcblx0XHRcdFx0XHRpZihtZWRpYVF1ZXJ5ICYmICFpdGVtWzJdKSB7XHJcblx0XHRcdFx0XHRcdGl0ZW1bMl0gPSBtZWRpYVF1ZXJ5O1xyXG5cdFx0XHRcdFx0fSBlbHNlIGlmKG1lZGlhUXVlcnkpIHtcclxuXHRcdFx0XHRcdFx0aXRlbVsyXSA9IFwiKFwiICsgaXRlbVsyXSArIFwiKSBhbmQgKFwiICsgbWVkaWFRdWVyeSArIFwiKVwiO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0bGlzdC5wdXNoKGl0ZW0pO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fTtcclxuXHRcdHJldHVybiBsaXN0O1xyXG5cdH07XHJcblxuXG4vKioqLyB9LFxuLyogNyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBcIjxkaXYgY2xhc3M9XFxcInFncmlkIHRoZW1lLWRlZmF1bHRcXFwiPlxcblxcdDx0YWJsZT5cXG5cXHRcXHQ8dGhlYWQ+XFxuXFx0XFx0PHRyPlxcblxcdFxcdFxcdDx0aCBuZy1yZXBlYXQ9XFxcIiRjb2x1bW4gaW4gJGN0cmwuY29sdW1ucyB0cmFjayBieSAkaW5kZXhcXFwiIGNsYXNzPVxcXCJ7ezo6JGNvbHVtbi5rZXl9fVxcXCI+XFxuXFx0XFx0XFx0XFx0PGxhYmVsPnt7JGNvbHVtbi50aXRsZX19PC9sYWJlbD5cXG5cXHRcXHRcXHQ8L3RoPlxcblxcdFxcdDwvdHI+XFxuXFx0XFx0PC90aGVhZD5cXG5cXHRcXHQ8dGJvZHk+XFxuXFx0XFx0PHRyIG5nLXJlcGVhdD1cXFwiJHJvdyBpbiAkY3RybC5yb3dzIHRyYWNrIGJ5ICRpbmRleFxcXCI+XFxuXFx0XFx0XFx0PHRkIG5nLXJlcGVhdD1cXFwiJGNvbHVtbiBpbiAkY3RybC5jb2x1bW5zIHRyYWNrIGJ5ICRpbmRleFxcXCIgY2xhc3M9XFxcInt7OjokY29sdW1uLmtleX19XFxcIj5cXG5cXHRcXHRcXHRcXHR7eyRjb2x1bW4udmFsdWUgPyAkY29sdW1uLnZhbHVlKCRyb3cpIDogJHJvd1skY29sdW1uLmtleV19fVxcblxcdFxcdFxcdDwvdGQ+XFxuXFx0XFx0PC90cj5cXG5cXHRcXHQ8L3Rib2R5PlxcblxcdFxcdDx0Zm9vdD5cXG5cXHRcXHQ8L3Rmb290PlxcblxcdDwvdGFibGU+XFxuPC9kaXY+XCJcblxuLyoqKi8gfSxcbi8qIDggKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8qXHJcblx0XHRNSVQgTGljZW5zZSBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlLnBocFxyXG5cdFx0QXV0aG9yIFRvYmlhcyBLb3BwZXJzIEBzb2tyYVxyXG5cdCovXHJcblx0dmFyIHN0eWxlc0luRG9tID0ge30sXHJcblx0XHRtZW1vaXplID0gZnVuY3Rpb24oZm4pIHtcclxuXHRcdFx0dmFyIG1lbW87XHJcblx0XHRcdHJldHVybiBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdFx0aWYgKHR5cGVvZiBtZW1vID09PSBcInVuZGVmaW5lZFwiKSBtZW1vID0gZm4uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxuXHRcdFx0XHRyZXR1cm4gbWVtbztcclxuXHRcdFx0fTtcclxuXHRcdH0sXHJcblx0XHRpc09sZElFID0gbWVtb2l6ZShmdW5jdGlvbigpIHtcclxuXHRcdFx0cmV0dXJuIC9tc2llIFs2LTldXFxiLy50ZXN0KHdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCkpO1xyXG5cdFx0fSksXHJcblx0XHRnZXRIZWFkRWxlbWVudCA9IG1lbW9pemUoZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRyZXR1cm4gZG9jdW1lbnQuaGVhZCB8fCBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcImhlYWRcIilbMF07XHJcblx0XHR9KSxcclxuXHRcdHNpbmdsZXRvbkVsZW1lbnQgPSBudWxsLFxyXG5cdFx0c2luZ2xldG9uQ291bnRlciA9IDAsXHJcblx0XHRzdHlsZUVsZW1lbnRzSW5zZXJ0ZWRBdFRvcCA9IFtdO1xyXG5cdFxyXG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24obGlzdCwgb3B0aW9ucykge1xyXG5cdFx0aWYoZmFsc2UpIHtcclxuXHRcdFx0aWYodHlwZW9mIGRvY3VtZW50ICE9PSBcIm9iamVjdFwiKSB0aHJvdyBuZXcgRXJyb3IoXCJUaGUgc3R5bGUtbG9hZGVyIGNhbm5vdCBiZSB1c2VkIGluIGEgbm9uLWJyb3dzZXIgZW52aXJvbm1lbnRcIik7XHJcblx0XHR9XHJcblx0XHJcblx0XHRvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcclxuXHRcdC8vIEZvcmNlIHNpbmdsZS10YWcgc29sdXRpb24gb24gSUU2LTksIHdoaWNoIGhhcyBhIGhhcmQgbGltaXQgb24gdGhlICMgb2YgPHN0eWxlPlxyXG5cdFx0Ly8gdGFncyBpdCB3aWxsIGFsbG93IG9uIGEgcGFnZVxyXG5cdFx0aWYgKHR5cGVvZiBvcHRpb25zLnNpbmdsZXRvbiA9PT0gXCJ1bmRlZmluZWRcIikgb3B0aW9ucy5zaW5nbGV0b24gPSBpc09sZElFKCk7XHJcblx0XHJcblx0XHQvLyBCeSBkZWZhdWx0LCBhZGQgPHN0eWxlPiB0YWdzIHRvIHRoZSBib3R0b20gb2YgPGhlYWQ+LlxyXG5cdFx0aWYgKHR5cGVvZiBvcHRpb25zLmluc2VydEF0ID09PSBcInVuZGVmaW5lZFwiKSBvcHRpb25zLmluc2VydEF0ID0gXCJib3R0b21cIjtcclxuXHRcclxuXHRcdHZhciBzdHlsZXMgPSBsaXN0VG9TdHlsZXMobGlzdCk7XHJcblx0XHRhZGRTdHlsZXNUb0RvbShzdHlsZXMsIG9wdGlvbnMpO1xyXG5cdFxyXG5cdFx0cmV0dXJuIGZ1bmN0aW9uIHVwZGF0ZShuZXdMaXN0KSB7XHJcblx0XHRcdHZhciBtYXlSZW1vdmUgPSBbXTtcclxuXHRcdFx0Zm9yKHZhciBpID0gMDsgaSA8IHN0eWxlcy5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHRcdHZhciBpdGVtID0gc3R5bGVzW2ldO1xyXG5cdFx0XHRcdHZhciBkb21TdHlsZSA9IHN0eWxlc0luRG9tW2l0ZW0uaWRdO1xyXG5cdFx0XHRcdGRvbVN0eWxlLnJlZnMtLTtcclxuXHRcdFx0XHRtYXlSZW1vdmUucHVzaChkb21TdHlsZSk7XHJcblx0XHRcdH1cclxuXHRcdFx0aWYobmV3TGlzdCkge1xyXG5cdFx0XHRcdHZhciBuZXdTdHlsZXMgPSBsaXN0VG9TdHlsZXMobmV3TGlzdCk7XHJcblx0XHRcdFx0YWRkU3R5bGVzVG9Eb20obmV3U3R5bGVzLCBvcHRpb25zKTtcclxuXHRcdFx0fVxyXG5cdFx0XHRmb3IodmFyIGkgPSAwOyBpIDwgbWF5UmVtb3ZlLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdFx0dmFyIGRvbVN0eWxlID0gbWF5UmVtb3ZlW2ldO1xyXG5cdFx0XHRcdGlmKGRvbVN0eWxlLnJlZnMgPT09IDApIHtcclxuXHRcdFx0XHRcdGZvcih2YXIgaiA9IDA7IGogPCBkb21TdHlsZS5wYXJ0cy5sZW5ndGg7IGorKylcclxuXHRcdFx0XHRcdFx0ZG9tU3R5bGUucGFydHNbal0oKTtcclxuXHRcdFx0XHRcdGRlbGV0ZSBzdHlsZXNJbkRvbVtkb21TdHlsZS5pZF07XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9O1xyXG5cdH1cclxuXHRcclxuXHRmdW5jdGlvbiBhZGRTdHlsZXNUb0RvbShzdHlsZXMsIG9wdGlvbnMpIHtcclxuXHRcdGZvcih2YXIgaSA9IDA7IGkgPCBzdHlsZXMubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0dmFyIGl0ZW0gPSBzdHlsZXNbaV07XHJcblx0XHRcdHZhciBkb21TdHlsZSA9IHN0eWxlc0luRG9tW2l0ZW0uaWRdO1xyXG5cdFx0XHRpZihkb21TdHlsZSkge1xyXG5cdFx0XHRcdGRvbVN0eWxlLnJlZnMrKztcclxuXHRcdFx0XHRmb3IodmFyIGogPSAwOyBqIDwgZG9tU3R5bGUucGFydHMubGVuZ3RoOyBqKyspIHtcclxuXHRcdFx0XHRcdGRvbVN0eWxlLnBhcnRzW2pdKGl0ZW0ucGFydHNbal0pO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRmb3IoOyBqIDwgaXRlbS5wYXJ0cy5sZW5ndGg7IGorKykge1xyXG5cdFx0XHRcdFx0ZG9tU3R5bGUucGFydHMucHVzaChhZGRTdHlsZShpdGVtLnBhcnRzW2pdLCBvcHRpb25zKSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdHZhciBwYXJ0cyA9IFtdO1xyXG5cdFx0XHRcdGZvcih2YXIgaiA9IDA7IGogPCBpdGVtLnBhcnRzLmxlbmd0aDsgaisrKSB7XHJcblx0XHRcdFx0XHRwYXJ0cy5wdXNoKGFkZFN0eWxlKGl0ZW0ucGFydHNbal0sIG9wdGlvbnMpKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0c3R5bGVzSW5Eb21baXRlbS5pZF0gPSB7aWQ6IGl0ZW0uaWQsIHJlZnM6IDEsIHBhcnRzOiBwYXJ0c307XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcblx0XHJcblx0ZnVuY3Rpb24gbGlzdFRvU3R5bGVzKGxpc3QpIHtcclxuXHRcdHZhciBzdHlsZXMgPSBbXTtcclxuXHRcdHZhciBuZXdTdHlsZXMgPSB7fTtcclxuXHRcdGZvcih2YXIgaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdHZhciBpdGVtID0gbGlzdFtpXTtcclxuXHRcdFx0dmFyIGlkID0gaXRlbVswXTtcclxuXHRcdFx0dmFyIGNzcyA9IGl0ZW1bMV07XHJcblx0XHRcdHZhciBtZWRpYSA9IGl0ZW1bMl07XHJcblx0XHRcdHZhciBzb3VyY2VNYXAgPSBpdGVtWzNdO1xyXG5cdFx0XHR2YXIgcGFydCA9IHtjc3M6IGNzcywgbWVkaWE6IG1lZGlhLCBzb3VyY2VNYXA6IHNvdXJjZU1hcH07XHJcblx0XHRcdGlmKCFuZXdTdHlsZXNbaWRdKVxyXG5cdFx0XHRcdHN0eWxlcy5wdXNoKG5ld1N0eWxlc1tpZF0gPSB7aWQ6IGlkLCBwYXJ0czogW3BhcnRdfSk7XHJcblx0XHRcdGVsc2VcclxuXHRcdFx0XHRuZXdTdHlsZXNbaWRdLnBhcnRzLnB1c2gocGFydCk7XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gc3R5bGVzO1xyXG5cdH1cclxuXHRcclxuXHRmdW5jdGlvbiBpbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucywgc3R5bGVFbGVtZW50KSB7XHJcblx0XHR2YXIgaGVhZCA9IGdldEhlYWRFbGVtZW50KCk7XHJcblx0XHR2YXIgbGFzdFN0eWxlRWxlbWVudEluc2VydGVkQXRUb3AgPSBzdHlsZUVsZW1lbnRzSW5zZXJ0ZWRBdFRvcFtzdHlsZUVsZW1lbnRzSW5zZXJ0ZWRBdFRvcC5sZW5ndGggLSAxXTtcclxuXHRcdGlmIChvcHRpb25zLmluc2VydEF0ID09PSBcInRvcFwiKSB7XHJcblx0XHRcdGlmKCFsYXN0U3R5bGVFbGVtZW50SW5zZXJ0ZWRBdFRvcCkge1xyXG5cdFx0XHRcdGhlYWQuaW5zZXJ0QmVmb3JlKHN0eWxlRWxlbWVudCwgaGVhZC5maXJzdENoaWxkKTtcclxuXHRcdFx0fSBlbHNlIGlmKGxhc3RTdHlsZUVsZW1lbnRJbnNlcnRlZEF0VG9wLm5leHRTaWJsaW5nKSB7XHJcblx0XHRcdFx0aGVhZC5pbnNlcnRCZWZvcmUoc3R5bGVFbGVtZW50LCBsYXN0U3R5bGVFbGVtZW50SW5zZXJ0ZWRBdFRvcC5uZXh0U2libGluZyk7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0aGVhZC5hcHBlbmRDaGlsZChzdHlsZUVsZW1lbnQpO1xyXG5cdFx0XHR9XHJcblx0XHRcdHN0eWxlRWxlbWVudHNJbnNlcnRlZEF0VG9wLnB1c2goc3R5bGVFbGVtZW50KTtcclxuXHRcdH0gZWxzZSBpZiAob3B0aW9ucy5pbnNlcnRBdCA9PT0gXCJib3R0b21cIikge1xyXG5cdFx0XHRoZWFkLmFwcGVuZENoaWxkKHN0eWxlRWxlbWVudCk7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIHZhbHVlIGZvciBwYXJhbWV0ZXIgJ2luc2VydEF0Jy4gTXVzdCBiZSAndG9wJyBvciAnYm90dG9tJy5cIik7XHJcblx0XHR9XHJcblx0fVxyXG5cdFxyXG5cdGZ1bmN0aW9uIHJlbW92ZVN0eWxlRWxlbWVudChzdHlsZUVsZW1lbnQpIHtcclxuXHRcdHN0eWxlRWxlbWVudC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHN0eWxlRWxlbWVudCk7XHJcblx0XHR2YXIgaWR4ID0gc3R5bGVFbGVtZW50c0luc2VydGVkQXRUb3AuaW5kZXhPZihzdHlsZUVsZW1lbnQpO1xyXG5cdFx0aWYoaWR4ID49IDApIHtcclxuXHRcdFx0c3R5bGVFbGVtZW50c0luc2VydGVkQXRUb3Auc3BsaWNlKGlkeCwgMSk7XHJcblx0XHR9XHJcblx0fVxyXG5cdFxyXG5cdGZ1bmN0aW9uIGNyZWF0ZVN0eWxlRWxlbWVudChvcHRpb25zKSB7XHJcblx0XHR2YXIgc3R5bGVFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInN0eWxlXCIpO1xyXG5cdFx0c3R5bGVFbGVtZW50LnR5cGUgPSBcInRleHQvY3NzXCI7XHJcblx0XHRpbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucywgc3R5bGVFbGVtZW50KTtcclxuXHRcdHJldHVybiBzdHlsZUVsZW1lbnQ7XHJcblx0fVxyXG5cdFxyXG5cdGZ1bmN0aW9uIGNyZWF0ZUxpbmtFbGVtZW50KG9wdGlvbnMpIHtcclxuXHRcdHZhciBsaW5rRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsaW5rXCIpO1xyXG5cdFx0bGlua0VsZW1lbnQucmVsID0gXCJzdHlsZXNoZWV0XCI7XHJcblx0XHRpbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucywgbGlua0VsZW1lbnQpO1xyXG5cdFx0cmV0dXJuIGxpbmtFbGVtZW50O1xyXG5cdH1cclxuXHRcclxuXHRmdW5jdGlvbiBhZGRTdHlsZShvYmosIG9wdGlvbnMpIHtcclxuXHRcdHZhciBzdHlsZUVsZW1lbnQsIHVwZGF0ZSwgcmVtb3ZlO1xyXG5cdFxyXG5cdFx0aWYgKG9wdGlvbnMuc2luZ2xldG9uKSB7XHJcblx0XHRcdHZhciBzdHlsZUluZGV4ID0gc2luZ2xldG9uQ291bnRlcisrO1xyXG5cdFx0XHRzdHlsZUVsZW1lbnQgPSBzaW5nbGV0b25FbGVtZW50IHx8IChzaW5nbGV0b25FbGVtZW50ID0gY3JlYXRlU3R5bGVFbGVtZW50KG9wdGlvbnMpKTtcclxuXHRcdFx0dXBkYXRlID0gYXBwbHlUb1NpbmdsZXRvblRhZy5iaW5kKG51bGwsIHN0eWxlRWxlbWVudCwgc3R5bGVJbmRleCwgZmFsc2UpO1xyXG5cdFx0XHRyZW1vdmUgPSBhcHBseVRvU2luZ2xldG9uVGFnLmJpbmQobnVsbCwgc3R5bGVFbGVtZW50LCBzdHlsZUluZGV4LCB0cnVlKTtcclxuXHRcdH0gZWxzZSBpZihvYmouc291cmNlTWFwICYmXHJcblx0XHRcdHR5cGVvZiBVUkwgPT09IFwiZnVuY3Rpb25cIiAmJlxyXG5cdFx0XHR0eXBlb2YgVVJMLmNyZWF0ZU9iamVjdFVSTCA9PT0gXCJmdW5jdGlvblwiICYmXHJcblx0XHRcdHR5cGVvZiBVUkwucmV2b2tlT2JqZWN0VVJMID09PSBcImZ1bmN0aW9uXCIgJiZcclxuXHRcdFx0dHlwZW9mIEJsb2IgPT09IFwiZnVuY3Rpb25cIiAmJlxyXG5cdFx0XHR0eXBlb2YgYnRvYSA9PT0gXCJmdW5jdGlvblwiKSB7XHJcblx0XHRcdHN0eWxlRWxlbWVudCA9IGNyZWF0ZUxpbmtFbGVtZW50KG9wdGlvbnMpO1xyXG5cdFx0XHR1cGRhdGUgPSB1cGRhdGVMaW5rLmJpbmQobnVsbCwgc3R5bGVFbGVtZW50KTtcclxuXHRcdFx0cmVtb3ZlID0gZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0cmVtb3ZlU3R5bGVFbGVtZW50KHN0eWxlRWxlbWVudCk7XHJcblx0XHRcdFx0aWYoc3R5bGVFbGVtZW50LmhyZWYpXHJcblx0XHRcdFx0XHRVUkwucmV2b2tlT2JqZWN0VVJMKHN0eWxlRWxlbWVudC5ocmVmKTtcclxuXHRcdFx0fTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdHN0eWxlRWxlbWVudCA9IGNyZWF0ZVN0eWxlRWxlbWVudChvcHRpb25zKTtcclxuXHRcdFx0dXBkYXRlID0gYXBwbHlUb1RhZy5iaW5kKG51bGwsIHN0eWxlRWxlbWVudCk7XHJcblx0XHRcdHJlbW92ZSA9IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdHJlbW92ZVN0eWxlRWxlbWVudChzdHlsZUVsZW1lbnQpO1xyXG5cdFx0XHR9O1xyXG5cdFx0fVxyXG5cdFxyXG5cdFx0dXBkYXRlKG9iaik7XHJcblx0XHJcblx0XHRyZXR1cm4gZnVuY3Rpb24gdXBkYXRlU3R5bGUobmV3T2JqKSB7XHJcblx0XHRcdGlmKG5ld09iaikge1xyXG5cdFx0XHRcdGlmKG5ld09iai5jc3MgPT09IG9iai5jc3MgJiYgbmV3T2JqLm1lZGlhID09PSBvYmoubWVkaWEgJiYgbmV3T2JqLnNvdXJjZU1hcCA9PT0gb2JqLnNvdXJjZU1hcClcclxuXHRcdFx0XHRcdHJldHVybjtcclxuXHRcdFx0XHR1cGRhdGUob2JqID0gbmV3T2JqKTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRyZW1vdmUoKTtcclxuXHRcdFx0fVxyXG5cdFx0fTtcclxuXHR9XHJcblx0XHJcblx0dmFyIHJlcGxhY2VUZXh0ID0gKGZ1bmN0aW9uICgpIHtcclxuXHRcdHZhciB0ZXh0U3RvcmUgPSBbXTtcclxuXHRcclxuXHRcdHJldHVybiBmdW5jdGlvbiAoaW5kZXgsIHJlcGxhY2VtZW50KSB7XHJcblx0XHRcdHRleHRTdG9yZVtpbmRleF0gPSByZXBsYWNlbWVudDtcclxuXHRcdFx0cmV0dXJuIHRleHRTdG9yZS5maWx0ZXIoQm9vbGVhbikuam9pbignXFxuJyk7XHJcblx0XHR9O1xyXG5cdH0pKCk7XHJcblx0XHJcblx0ZnVuY3Rpb24gYXBwbHlUb1NpbmdsZXRvblRhZyhzdHlsZUVsZW1lbnQsIGluZGV4LCByZW1vdmUsIG9iaikge1xyXG5cdFx0dmFyIGNzcyA9IHJlbW92ZSA/IFwiXCIgOiBvYmouY3NzO1xyXG5cdFxyXG5cdFx0aWYgKHN0eWxlRWxlbWVudC5zdHlsZVNoZWV0KSB7XHJcblx0XHRcdHN0eWxlRWxlbWVudC5zdHlsZVNoZWV0LmNzc1RleHQgPSByZXBsYWNlVGV4dChpbmRleCwgY3NzKTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdHZhciBjc3NOb2RlID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY3NzKTtcclxuXHRcdFx0dmFyIGNoaWxkTm9kZXMgPSBzdHlsZUVsZW1lbnQuY2hpbGROb2RlcztcclxuXHRcdFx0aWYgKGNoaWxkTm9kZXNbaW5kZXhdKSBzdHlsZUVsZW1lbnQucmVtb3ZlQ2hpbGQoY2hpbGROb2Rlc1tpbmRleF0pO1xyXG5cdFx0XHRpZiAoY2hpbGROb2Rlcy5sZW5ndGgpIHtcclxuXHRcdFx0XHRzdHlsZUVsZW1lbnQuaW5zZXJ0QmVmb3JlKGNzc05vZGUsIGNoaWxkTm9kZXNbaW5kZXhdKTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRzdHlsZUVsZW1lbnQuYXBwZW5kQ2hpbGQoY3NzTm9kZSk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcblx0XHJcblx0ZnVuY3Rpb24gYXBwbHlUb1RhZyhzdHlsZUVsZW1lbnQsIG9iaikge1xyXG5cdFx0dmFyIGNzcyA9IG9iai5jc3M7XHJcblx0XHR2YXIgbWVkaWEgPSBvYmoubWVkaWE7XHJcblx0XHJcblx0XHRpZihtZWRpYSkge1xyXG5cdFx0XHRzdHlsZUVsZW1lbnQuc2V0QXR0cmlidXRlKFwibWVkaWFcIiwgbWVkaWEpXHJcblx0XHR9XHJcblx0XHJcblx0XHRpZihzdHlsZUVsZW1lbnQuc3R5bGVTaGVldCkge1xyXG5cdFx0XHRzdHlsZUVsZW1lbnQuc3R5bGVTaGVldC5jc3NUZXh0ID0gY3NzO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0d2hpbGUoc3R5bGVFbGVtZW50LmZpcnN0Q2hpbGQpIHtcclxuXHRcdFx0XHRzdHlsZUVsZW1lbnQucmVtb3ZlQ2hpbGQoc3R5bGVFbGVtZW50LmZpcnN0Q2hpbGQpO1xyXG5cdFx0XHR9XHJcblx0XHRcdHN0eWxlRWxlbWVudC5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjc3MpKTtcclxuXHRcdH1cclxuXHR9XHJcblx0XHJcblx0ZnVuY3Rpb24gdXBkYXRlTGluayhsaW5rRWxlbWVudCwgb2JqKSB7XHJcblx0XHR2YXIgY3NzID0gb2JqLmNzcztcclxuXHRcdHZhciBzb3VyY2VNYXAgPSBvYmouc291cmNlTWFwO1xyXG5cdFxyXG5cdFx0aWYoc291cmNlTWFwKSB7XHJcblx0XHRcdC8vIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9hLzI2NjAzODc1XHJcblx0XHRcdGNzcyArPSBcIlxcbi8qIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtiYXNlNjQsXCIgKyBidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShzb3VyY2VNYXApKSkpICsgXCIgKi9cIjtcclxuXHRcdH1cclxuXHRcclxuXHRcdHZhciBibG9iID0gbmV3IEJsb2IoW2Nzc10sIHsgdHlwZTogXCJ0ZXh0L2Nzc1wiIH0pO1xyXG5cdFxyXG5cdFx0dmFyIG9sZFNyYyA9IGxpbmtFbGVtZW50LmhyZWY7XHJcblx0XHJcblx0XHRsaW5rRWxlbWVudC5ocmVmID0gVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKTtcclxuXHRcclxuXHRcdGlmKG9sZFNyYylcclxuXHRcdFx0VVJMLnJldm9rZU9iamVjdFVSTChvbGRTcmMpO1xyXG5cdH1cclxuXG5cbi8qKiovIH0sXG4vKiA5ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvLyBzdHlsZS1sb2FkZXI6IEFkZHMgc29tZSBjc3MgdG8gdGhlIERPTSBieSBhZGRpbmcgYSA8c3R5bGU+IHRhZ1xuXHRcblx0Ly8gbG9hZCB0aGUgc3R5bGVzXG5cdHZhciBjb250ZW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1KTtcblx0aWYodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG5cdC8vIGFkZCB0aGUgc3R5bGVzIHRvIHRoZSBET01cblx0dmFyIHVwZGF0ZSA9IF9fd2VicGFja19yZXF1aXJlX18oOCkoY29udGVudCwge30pO1xuXHRpZihjb250ZW50LmxvY2FscykgbW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2Fscztcblx0Ly8gSG90IE1vZHVsZSBSZXBsYWNlbWVudFxuXHRpZihmYWxzZSkge1xuXHRcdC8vIFdoZW4gdGhlIHN0eWxlcyBjaGFuZ2UsIHVwZGF0ZSB0aGUgPHN0eWxlPiB0YWdzXG5cdFx0aWYoIWNvbnRlbnQubG9jYWxzKSB7XG5cdFx0XHRtb2R1bGUuaG90LmFjY2VwdChcIiEhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcz9zb3VyY2VNYXAhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc2Fzcy1sb2FkZXIvaW5kZXguanM/c291cmNlTWFwIS4vYm9keS5zY3NzXCIsIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHR2YXIgbmV3Q29udGVudCA9IHJlcXVpcmUoXCIhIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanM/c291cmNlTWFwIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Nhc3MtbG9hZGVyL2luZGV4LmpzP3NvdXJjZU1hcCEuL2JvZHkuc2Nzc1wiKTtcblx0XHRcdFx0aWYodHlwZW9mIG5ld0NvbnRlbnQgPT09ICdzdHJpbmcnKSBuZXdDb250ZW50ID0gW1ttb2R1bGUuaWQsIG5ld0NvbnRlbnQsICcnXV07XG5cdFx0XHRcdHVwZGF0ZShuZXdDb250ZW50KTtcblx0XHRcdH0pO1xuXHRcdH1cblx0XHQvLyBXaGVuIHRoZSBtb2R1bGUgaXMgZGlzcG9zZWQsIHJlbW92ZSB0aGUgPHN0eWxlPiB0YWdzXG5cdFx0bW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uKCkgeyB1cGRhdGUoKTsgfSk7XG5cdH1cblxuLyoqKi8gfVxuLyoqKioqKi8gXSk7XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIGJ1bmRsZS5qcyIsIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKVxuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuXG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRleHBvcnRzOiB7fSxcbiBcdFx0XHRpZDogbW9kdWxlSWQsXG4gXHRcdFx0bG9hZGVkOiBmYWxzZVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sb2FkZWQgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIi9zY3JpcHRzL1wiO1xuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHdlYnBhY2svYm9vdHN0cmFwIDg1NWRkZGRlOTZmZjAwZjI3MTMyIiwiJ3VzZSBzdHJpY3QnO1xuaW1wb3J0IFNhbmRib3ggZnJvbSAnLi9zYW5kYm94L2luZGV4JztcblxucmVxdWlyZSgnLi4vc3JjL3RoZW1lcy9kZWZhdWx0L2luZGV4Jyk7XG5yZXF1aXJlKCcuLi9zcmMvaW5kZXgnKTtcbnJlcXVpcmUoJy4uL3NyYy90aGVtZXMvZGVmYXVsdC9pbmRleCcpO1xuXG4oZnVuY3Rpb24gKGFuZ3VsYXIpIHtcblx0YW5ndWxhci5tb2R1bGUoJ2RlbW8nLCBbJ25nUm91dGUnLCAncWdyaWQnXSlcblx0XHQuY29uZmlnKFNldHVwKVxuXHRcdC5jb250cm9sbGVyKCdEZW1vLkNvbnRyb2xsZXInLCBDb250cm9sbGVyKTtcblxuXHRTZXR1cC4kaW5qZWN0ID0gWyckcm91dGVQcm92aWRlcicsICckbG9jYXRpb25Qcm92aWRlciddO1xuXHRmdW5jdGlvbiBTZXR1cCgkcm91dGVQcm92aWRlciwgJGxvY2F0aW9uUHJvdmlkZXIpIHtcblx0XHQkcm91dGVQcm92aWRlclxuXHRcdFx0LndoZW4oJy8nLCB7XG5cdFx0XHRcdHRlbXBsYXRlOiAncWdyaWQgZGVtbyBwYWdlJ1xuXHRcdFx0fSlcblx0XHRcdC53aGVuKCcvc2FuZGJveCcsIHtcblx0XHRcdFx0dGVtcGxhdGVVcmw6ICdzYW5kYm94L2luZGV4Lmh0bWwnLFxuXHRcdFx0XHRjb250cm9sbGVyOiBTYW5kYm94LFxuXHRcdFx0XHRjb250cm9sbGVyQXM6ICckY3RybCdcblx0XHRcdH0pO1xuXG5cdFx0JGxvY2F0aW9uUHJvdmlkZXJcblx0XHRcdC5odG1sNU1vZGUoZmFsc2UpXG5cdFx0XHQuaGFzaFByZWZpeCgnIScpO1xuXHR9XG5cblx0Q29udHJvbGxlci4kaW5qZWN0ID0gW107XG5cdGZ1bmN0aW9uIENvbnRyb2xsZXIoKSB7XG5cdH1cblxufSkoYW5ndWxhcik7XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi9lc2xpbnQtbG9hZGVyIS4vZGVtby9pbmRleC5qcyIsIid1c2Ugc3RyaWN0JztcblxucmVxdWlyZSgnLi9ib2R5LnNjc3MnKTtcblxuKGZ1bmN0aW9uIChhbmd1bGFyKSB7XG5cblx0YW5ndWxhci5tb2R1bGUoJ3FncmlkJylcblx0XHQucnVuKFNldHVwKTtcblxuXHRTZXR1cC4kaW5qZWN0ID0gWyckdGVtcGxhdGVDYWNoZSddO1xuXHRmdW5jdGlvbiBTZXR1cCgvKiR0ZW1wbGF0ZUNhY2hlKi8pIHtcblx0XHQvLyBoZXJlJ2xsIGJlIGN1c3RvbSB0ZW1wbGF0ZXNcblx0fVxuXG59KShhbmd1bGFyKTtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L2VzbGludC1sb2FkZXIhLi9zcmMvdGhlbWVzL2RlZmF1bHQvaW5kZXguanMiLCIndXNlIHN0cmljdCc7XG5cbkNvbnRyb2xsZXIuJGluamVjdCA9IFsnJGh0dHAnXTtcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIENvbnRyb2xsZXIoJGh0dHApIHtcblx0Y29uc3QgY3RybCA9IHRoaXM7XG5cblx0dGhpcy5yb3dzID0gW107XG5cdHRoaXMuY29sdW1ucyA9IFtcblx0XHR7XG5cdFx0XHRrZXk6ICduYW1lLmxhc3QnLFxuXHRcdFx0dGl0bGU6ICdMYXN0IE5hbWUnLFxuXHRcdFx0dmFsdWU6IGZ1bmN0aW9uIChpdGVtKSB7XG5cdFx0XHRcdHJldHVybiBpdGVtLm5hbWUubGFzdDtcblx0XHRcdH1cblx0XHR9LFxuXHRcdHtcblx0XHRcdGtleTogJ25hbWUuZmlyc3QnLFxuXHRcdFx0dGl0bGU6ICdGaXJzdCBOYW1lJyxcblx0XHRcdHZhbHVlOiBmdW5jdGlvbiAoaXRlbSkge1xuXHRcdFx0XHRyZXR1cm4gaXRlbS5uYW1lLmZpcnN0O1xuXHRcdFx0fVxuXHRcdH0sXG5cdFx0e1xuXHRcdFx0a2V5OiAnZ2VuZGVyJyxcblx0XHRcdHRpdGxlOiAnR2VuZGVyJ1xuXHRcdH0sXG5cdFx0e1xuXHRcdFx0a2V5OiAnYmlydGhkYXknLFxuXHRcdFx0dGl0bGU6ICdCaXJ0aGRheSdcblx0XHR9LFxuXHRcdHtcblx0XHRcdGtleTogJ2NvbnRhY3QuYWRkcmVzcy56aXAnLFxuXHRcdFx0dGl0bGU6ICdaaXAnLFxuXHRcdFx0dmFsdWU6IGZ1bmN0aW9uIChpdGVtKSB7XG5cdFx0XHRcdHJldHVybiBpdGVtLmNvbnRhY3QuYWRkcmVzcy56aXA7XG5cdFx0XHR9XG5cdFx0fSxcblx0XHR7XG5cdFx0XHRrZXk6ICdjb250YWN0LmFkZHJlc3Muc3RhdGUnLFxuXHRcdFx0dGl0bGU6ICdTdGF0ZScsXG5cdFx0XHR2YWx1ZTogZnVuY3Rpb24gKGl0ZW0pIHtcblx0XHRcdFx0cmV0dXJuIGl0ZW0uY29udGFjdC5hZGRyZXNzLnN0YXRlO1xuXHRcdFx0fVxuXHRcdH0sXG5cdFx0e1xuXHRcdFx0a2V5OiAnY29udGFjdC5hZGRyZXNzLmNpdHknLFxuXHRcdFx0dGl0bGU6ICdDaXR5Jyxcblx0XHRcdHZhbHVlOiBmdW5jdGlvbiAoaXRlbSkge1xuXHRcdFx0XHRyZXR1cm4gaXRlbS5jb250YWN0LmFkZHJlc3MuY2l0eTtcblx0XHRcdH1cblx0XHR9LFxuXHRcdHtcblx0XHRcdGtleTogJ2NvbnRhY3QucGhvbmUucHJpbWFyeScsXG5cdFx0XHR0aXRsZTogJ1ByaW1hcnkgUGhvbmUnLFxuXHRcdFx0dmFsdWU6IGZ1bmN0aW9uIChpdGVtKSB7XG5cdFx0XHRcdHJldHVybiBpdGVtLmNvbnRhY3QucGhvbmVbMF07XG5cdFx0XHR9XG5cdFx0fSxcblx0XHR7XG5cdFx0XHRrZXk6ICdjb250YWN0LmVtYWlsLnByaW1hcnknLFxuXHRcdFx0dGl0bGU6ICdQcmltYXJ5IEVtYWlsJyxcblx0XHRcdHZhbHVlOiBmdW5jdGlvbiAoaXRlbSkge1xuXHRcdFx0XHRyZXR1cm4gaXRlbS5jb250YWN0LmVtYWlsWzBdO1xuXHRcdFx0fVxuXHRcdH0sXG5cdFx0e1xuXHRcdFx0a2V5OiAnbGlrZXMnLFxuXHRcdFx0dGl0bGU6ICdMaWtlcycsXG5cdFx0XHR2YWx1ZTogZnVuY3Rpb24gKGl0ZW0pIHtcblx0XHRcdFx0cmV0dXJuIGl0ZW0ubGlrZXMuam9pbignLCAnKTtcblx0XHRcdH1cblx0XHR9LFxuXHRcdHtcblx0XHRcdGtleTogJ21lbWJlclNpbmNlJyxcblx0XHRcdHRpdGxlOiAnTWVtYmVyIFNpbmNlJ1xuXHRcdH1cblx0XTtcblxuXHQkaHR0cC5nZXQoJ2RhdGEvcGVvcGxlLzEwMC5qc29uJylcblx0XHQudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcblx0XHRcdGN0cmwucm93cyA9IHJlc3BvbnNlLmRhdGE7XG5cdFx0fSk7XG59XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi9lc2xpbnQtbG9hZGVyIS4vZGVtby9zYW5kYm94L2luZGV4LmpzIiwiJ3VzZSBzdHJpY3QnO1xuXG4vLyBpbXBvcnQgR3JpZE1vZGVsIGZyb20gJy4vZ3JpZC5tb2RlbCc7XG4vLyBpbXBvcnQgVXRpbGl0eSBmcm9tICcuLi8uLi9zZXJ2aWNlcy91dGlsaXR5JztcblxuZXhwb3J0IGRlZmF1bHQge1xuXHR0ZW1wbGF0ZVVybDogJ3FncmlkLmh0bWwnLFxuXHRjb250cm9sbGVyOiBDb250cm9sbGVyLFxuXHRiaW5kaW5nczoge1xuXHRcdHJvd3M6ICc8Jyxcblx0XHRjb2x1bW5zOiAnPCdcblx0fVxufTtcblxuQ29udHJvbGxlci4kaW5qZWN0ID0gW107XG5mdW5jdGlvbiBDb250cm9sbGVyKCkge1xuXHQvL3RoaXMubW9kZWwgPSBuZXcgR3JpZE1vZGVsKCk7XG5cdC8vIFRPRE86IGludmVzdGlnYXRlIGhvdyB0byB0cmFjayBjaGFuZ2VzIGluIHRoaXMgY2FzZVxuXHQvLyBvciBnZXQgcmlkIG9mICRzY29wZSBvciBvZiBHcmlkTW9kZWxcblx0Ly9VdGlsaXR5LmFzc2lnbih0aGlzLm1vZGVsLCAkc2NvcGUpO1xufVxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vZXNsaW50LWxvYWRlciEuL3NyYy9jb21wb25lbnRzL2dyaWQvZ3JpZC5qcyIsIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IEdyaWQgZnJvbSAnLi9jb21wb25lbnRzL2dyaWQvZ3JpZCc7XG5cbihmdW5jdGlvbiAoYW5ndWxhcikge1xuXHRhbmd1bGFyLm1vZHVsZSgncWdyaWQnLCBbXSlcblx0XHQuY29tcG9uZW50KCdxR3JpZCcsIEdyaWQpXG5cdFx0LnJ1bihTZXR1cCk7XG5cblx0U2V0dXAuJGluamVjdCA9IFsnJHRlbXBsYXRlQ2FjaGUnXTtcblx0ZnVuY3Rpb24gU2V0dXAoJHRlbXBsYXRlQ2FjaGUpIHtcblx0XHQkdGVtcGxhdGVDYWNoZS5wdXQoJ3FncmlkLmh0bWwnLCByZXF1aXJlKCcuL2NvbXBvbmVudHMvZ3JpZC9ncmlkLmh0bWwnKSk7XG5cdH1cbn0pKGFuZ3VsYXIpO1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vZXNsaW50LWxvYWRlciEuL3NyYy9pbmRleC5qcyIsImV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCIuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2xpYi9jc3MtYmFzZS5qc1wiKSgpO1xuLy8gaW1wb3J0c1xuXG5cbi8vIG1vZHVsZVxuZXhwb3J0cy5wdXNoKFttb2R1bGUuaWQsIFwiLnFncmlkLnRoZW1lLWRlZmF1bHQ+dGFibGUgdGhlYWQgdHI+dGh7Ym9yZGVyLWJvdHRvbToxcHggc29saWQgIzAwMDt3aGl0ZS1zcGFjZTpub3dyYXB9LnFncmlkLnRoZW1lLWRlZmF1bHQ+dGFibGUgdGJvZHl7b3ZlcmZsb3cteTphdXRvO292ZXJmbG93LXg6c2Nyb2xsfVwiLCBcIlwiLCB7XCJ2ZXJzaW9uXCI6MyxcInNvdXJjZXNcIjpbXCIvLi9zcmMvdGhlbWVzL2RlZmF1bHQvc3JjL3RoZW1lcy9kZWZhdWx0L2JvZHkuc2Nzc1wiXSxcIm5hbWVzXCI6W10sXCJtYXBwaW5nc1wiOlwiQUFBQSx1Q0FJSSw2QkFDQSxrQkFBbUIsQ0FMdkIsaUNBVUcsZ0JBQ0EsaUJBQWtCLENBQ2xCXCIsXCJmaWxlXCI6XCJib2R5LnNjc3NcIixcInNvdXJjZXNDb250ZW50XCI6W1wiLnFncmlkLnRoZW1lLWRlZmF1bHQge1xcblxcdD4gdGFibGUge1xcblxcdFxcdHRoZWFkIHtcXG5cXHRcXHRcXHR0ciA+IHRoIHtcXG5cXHRcXHRcXHRcXHRib3JkZXItYm90dG9tOiAxcHggc29saWQgIzAwMDtcXG5cXHRcXHRcXHRcXHR3aGl0ZS1zcGFjZTogbm93cmFwO1xcblxcdFxcdFxcdH1cXG5cXHRcXHR9XFxuXFxuXFx0XFx0dGJvZHkge1xcblxcdFxcdFxcdG92ZXJmbG93LXk6IGF1dG87XFxuXFx0XFx0XFx0b3ZlcmZsb3cteDogc2Nyb2xsO1xcblxcdFxcdH1cXG5cXG5cXHRcXHR0Zm9vdCB7XFxuXFxuXFx0XFx0fVxcblxcdH1cXG59XCJdLFwic291cmNlUm9vdFwiOlwid2VicGFjazovL1wifV0pO1xuXG4vLyBleHBvcnRzXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vY3NzLWxvYWRlcj9zb3VyY2VNYXAhLi9+L3Nhc3MtbG9hZGVyP3NvdXJjZU1hcCEuL3NyYy90aGVtZXMvZGVmYXVsdC9ib2R5LnNjc3Ncbi8vIG1vZHVsZSBpZCA9IDVcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiLypcclxuXHRNSVQgTGljZW5zZSBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlLnBocFxyXG5cdEF1dGhvciBUb2JpYXMgS29wcGVycyBAc29rcmFcclxuKi9cclxuLy8gY3NzIGJhc2UgY29kZSwgaW5qZWN0ZWQgYnkgdGhlIGNzcy1sb2FkZXJcclxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbigpIHtcclxuXHR2YXIgbGlzdCA9IFtdO1xyXG5cclxuXHQvLyByZXR1cm4gdGhlIGxpc3Qgb2YgbW9kdWxlcyBhcyBjc3Mgc3RyaW5nXHJcblx0bGlzdC50b1N0cmluZyA9IGZ1bmN0aW9uIHRvU3RyaW5nKCkge1xyXG5cdFx0dmFyIHJlc3VsdCA9IFtdO1xyXG5cdFx0Zm9yKHZhciBpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0dmFyIGl0ZW0gPSB0aGlzW2ldO1xyXG5cdFx0XHRpZihpdGVtWzJdKSB7XHJcblx0XHRcdFx0cmVzdWx0LnB1c2goXCJAbWVkaWEgXCIgKyBpdGVtWzJdICsgXCJ7XCIgKyBpdGVtWzFdICsgXCJ9XCIpO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdHJlc3VsdC5wdXNoKGl0ZW1bMV0pO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gcmVzdWx0LmpvaW4oXCJcIik7XHJcblx0fTtcclxuXHJcblx0Ly8gaW1wb3J0IGEgbGlzdCBvZiBtb2R1bGVzIGludG8gdGhlIGxpc3RcclxuXHRsaXN0LmkgPSBmdW5jdGlvbihtb2R1bGVzLCBtZWRpYVF1ZXJ5KSB7XHJcblx0XHRpZih0eXBlb2YgbW9kdWxlcyA9PT0gXCJzdHJpbmdcIilcclxuXHRcdFx0bW9kdWxlcyA9IFtbbnVsbCwgbW9kdWxlcywgXCJcIl1dO1xyXG5cdFx0dmFyIGFscmVhZHlJbXBvcnRlZE1vZHVsZXMgPSB7fTtcclxuXHRcdGZvcih2YXIgaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdHZhciBpZCA9IHRoaXNbaV1bMF07XHJcblx0XHRcdGlmKHR5cGVvZiBpZCA9PT0gXCJudW1iZXJcIilcclxuXHRcdFx0XHRhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzW2lkXSA9IHRydWU7XHJcblx0XHR9XHJcblx0XHRmb3IoaSA9IDA7IGkgPCBtb2R1bGVzLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdHZhciBpdGVtID0gbW9kdWxlc1tpXTtcclxuXHRcdFx0Ly8gc2tpcCBhbHJlYWR5IGltcG9ydGVkIG1vZHVsZVxyXG5cdFx0XHQvLyB0aGlzIGltcGxlbWVudGF0aW9uIGlzIG5vdCAxMDAlIHBlcmZlY3QgZm9yIHdlaXJkIG1lZGlhIHF1ZXJ5IGNvbWJpbmF0aW9uc1xyXG5cdFx0XHQvLyAgd2hlbiBhIG1vZHVsZSBpcyBpbXBvcnRlZCBtdWx0aXBsZSB0aW1lcyB3aXRoIGRpZmZlcmVudCBtZWRpYSBxdWVyaWVzLlxyXG5cdFx0XHQvLyAgSSBob3BlIHRoaXMgd2lsbCBuZXZlciBvY2N1ciAoSGV5IHRoaXMgd2F5IHdlIGhhdmUgc21hbGxlciBidW5kbGVzKVxyXG5cdFx0XHRpZih0eXBlb2YgaXRlbVswXSAhPT0gXCJudW1iZXJcIiB8fCAhYWxyZWFkeUltcG9ydGVkTW9kdWxlc1tpdGVtWzBdXSkge1xyXG5cdFx0XHRcdGlmKG1lZGlhUXVlcnkgJiYgIWl0ZW1bMl0pIHtcclxuXHRcdFx0XHRcdGl0ZW1bMl0gPSBtZWRpYVF1ZXJ5O1xyXG5cdFx0XHRcdH0gZWxzZSBpZihtZWRpYVF1ZXJ5KSB7XHJcblx0XHRcdFx0XHRpdGVtWzJdID0gXCIoXCIgKyBpdGVtWzJdICsgXCIpIGFuZCAoXCIgKyBtZWRpYVF1ZXJ5ICsgXCIpXCI7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGxpc3QucHVzaChpdGVtKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH07XHJcblx0cmV0dXJuIGxpc3Q7XHJcbn07XHJcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9jc3MtbG9hZGVyL2xpYi9jc3MtYmFzZS5qc1xuLy8gbW9kdWxlIGlkID0gNlxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJtb2R1bGUuZXhwb3J0cyA9IFwiPGRpdiBjbGFzcz1cXFwicWdyaWQgdGhlbWUtZGVmYXVsdFxcXCI+XFxuXFx0PHRhYmxlPlxcblxcdFxcdDx0aGVhZD5cXG5cXHRcXHQ8dHI+XFxuXFx0XFx0XFx0PHRoIG5nLXJlcGVhdD1cXFwiJGNvbHVtbiBpbiAkY3RybC5jb2x1bW5zIHRyYWNrIGJ5ICRpbmRleFxcXCIgY2xhc3M9XFxcInt7OjokY29sdW1uLmtleX19XFxcIj5cXG5cXHRcXHRcXHRcXHQ8bGFiZWw+e3skY29sdW1uLnRpdGxlfX08L2xhYmVsPlxcblxcdFxcdFxcdDwvdGg+XFxuXFx0XFx0PC90cj5cXG5cXHRcXHQ8L3RoZWFkPlxcblxcdFxcdDx0Ym9keT5cXG5cXHRcXHQ8dHIgbmctcmVwZWF0PVxcXCIkcm93IGluICRjdHJsLnJvd3MgdHJhY2sgYnkgJGluZGV4XFxcIj5cXG5cXHRcXHRcXHQ8dGQgbmctcmVwZWF0PVxcXCIkY29sdW1uIGluICRjdHJsLmNvbHVtbnMgdHJhY2sgYnkgJGluZGV4XFxcIiBjbGFzcz1cXFwie3s6OiRjb2x1bW4ua2V5fX1cXFwiPlxcblxcdFxcdFxcdFxcdHt7JGNvbHVtbi52YWx1ZSA/ICRjb2x1bW4udmFsdWUoJHJvdykgOiAkcm93WyRjb2x1bW4ua2V5XX19XFxuXFx0XFx0XFx0PC90ZD5cXG5cXHRcXHQ8L3RyPlxcblxcdFxcdDwvdGJvZHk+XFxuXFx0XFx0PHRmb290PlxcblxcdFxcdDwvdGZvb3Q+XFxuXFx0PC90YWJsZT5cXG48L2Rpdj5cIlxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vc3JjL2NvbXBvbmVudHMvZ3JpZC9ncmlkLmh0bWxcbi8vIG1vZHVsZSBpZCA9IDdcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiLypcclxuXHRNSVQgTGljZW5zZSBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlLnBocFxyXG5cdEF1dGhvciBUb2JpYXMgS29wcGVycyBAc29rcmFcclxuKi9cclxudmFyIHN0eWxlc0luRG9tID0ge30sXHJcblx0bWVtb2l6ZSA9IGZ1bmN0aW9uKGZuKSB7XHJcblx0XHR2YXIgbWVtbztcclxuXHRcdHJldHVybiBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdGlmICh0eXBlb2YgbWVtbyA9PT0gXCJ1bmRlZmluZWRcIikgbWVtbyA9IGZuLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcblx0XHRcdHJldHVybiBtZW1vO1xyXG5cdFx0fTtcclxuXHR9LFxyXG5cdGlzT2xkSUUgPSBtZW1vaXplKGZ1bmN0aW9uKCkge1xyXG5cdFx0cmV0dXJuIC9tc2llIFs2LTldXFxiLy50ZXN0KHdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCkpO1xyXG5cdH0pLFxyXG5cdGdldEhlYWRFbGVtZW50ID0gbWVtb2l6ZShmdW5jdGlvbiAoKSB7XHJcblx0XHRyZXR1cm4gZG9jdW1lbnQuaGVhZCB8fCBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcImhlYWRcIilbMF07XHJcblx0fSksXHJcblx0c2luZ2xldG9uRWxlbWVudCA9IG51bGwsXHJcblx0c2luZ2xldG9uQ291bnRlciA9IDAsXHJcblx0c3R5bGVFbGVtZW50c0luc2VydGVkQXRUb3AgPSBbXTtcclxuXHJcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24obGlzdCwgb3B0aW9ucykge1xyXG5cdGlmKHR5cGVvZiBERUJVRyAhPT0gXCJ1bmRlZmluZWRcIiAmJiBERUJVRykge1xyXG5cdFx0aWYodHlwZW9mIGRvY3VtZW50ICE9PSBcIm9iamVjdFwiKSB0aHJvdyBuZXcgRXJyb3IoXCJUaGUgc3R5bGUtbG9hZGVyIGNhbm5vdCBiZSB1c2VkIGluIGEgbm9uLWJyb3dzZXIgZW52aXJvbm1lbnRcIik7XHJcblx0fVxyXG5cclxuXHRvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcclxuXHQvLyBGb3JjZSBzaW5nbGUtdGFnIHNvbHV0aW9uIG9uIElFNi05LCB3aGljaCBoYXMgYSBoYXJkIGxpbWl0IG9uIHRoZSAjIG9mIDxzdHlsZT5cclxuXHQvLyB0YWdzIGl0IHdpbGwgYWxsb3cgb24gYSBwYWdlXHJcblx0aWYgKHR5cGVvZiBvcHRpb25zLnNpbmdsZXRvbiA9PT0gXCJ1bmRlZmluZWRcIikgb3B0aW9ucy5zaW5nbGV0b24gPSBpc09sZElFKCk7XHJcblxyXG5cdC8vIEJ5IGRlZmF1bHQsIGFkZCA8c3R5bGU+IHRhZ3MgdG8gdGhlIGJvdHRvbSBvZiA8aGVhZD4uXHJcblx0aWYgKHR5cGVvZiBvcHRpb25zLmluc2VydEF0ID09PSBcInVuZGVmaW5lZFwiKSBvcHRpb25zLmluc2VydEF0ID0gXCJib3R0b21cIjtcclxuXHJcblx0dmFyIHN0eWxlcyA9IGxpc3RUb1N0eWxlcyhsaXN0KTtcclxuXHRhZGRTdHlsZXNUb0RvbShzdHlsZXMsIG9wdGlvbnMpO1xyXG5cclxuXHRyZXR1cm4gZnVuY3Rpb24gdXBkYXRlKG5ld0xpc3QpIHtcclxuXHRcdHZhciBtYXlSZW1vdmUgPSBbXTtcclxuXHRcdGZvcih2YXIgaSA9IDA7IGkgPCBzdHlsZXMubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0dmFyIGl0ZW0gPSBzdHlsZXNbaV07XHJcblx0XHRcdHZhciBkb21TdHlsZSA9IHN0eWxlc0luRG9tW2l0ZW0uaWRdO1xyXG5cdFx0XHRkb21TdHlsZS5yZWZzLS07XHJcblx0XHRcdG1heVJlbW92ZS5wdXNoKGRvbVN0eWxlKTtcclxuXHRcdH1cclxuXHRcdGlmKG5ld0xpc3QpIHtcclxuXHRcdFx0dmFyIG5ld1N0eWxlcyA9IGxpc3RUb1N0eWxlcyhuZXdMaXN0KTtcclxuXHRcdFx0YWRkU3R5bGVzVG9Eb20obmV3U3R5bGVzLCBvcHRpb25zKTtcclxuXHRcdH1cclxuXHRcdGZvcih2YXIgaSA9IDA7IGkgPCBtYXlSZW1vdmUubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0dmFyIGRvbVN0eWxlID0gbWF5UmVtb3ZlW2ldO1xyXG5cdFx0XHRpZihkb21TdHlsZS5yZWZzID09PSAwKSB7XHJcblx0XHRcdFx0Zm9yKHZhciBqID0gMDsgaiA8IGRvbVN0eWxlLnBhcnRzLmxlbmd0aDsgaisrKVxyXG5cdFx0XHRcdFx0ZG9tU3R5bGUucGFydHNbal0oKTtcclxuXHRcdFx0XHRkZWxldGUgc3R5bGVzSW5Eb21bZG9tU3R5bGUuaWRdO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fTtcclxufVxyXG5cclxuZnVuY3Rpb24gYWRkU3R5bGVzVG9Eb20oc3R5bGVzLCBvcHRpb25zKSB7XHJcblx0Zm9yKHZhciBpID0gMDsgaSA8IHN0eWxlcy5sZW5ndGg7IGkrKykge1xyXG5cdFx0dmFyIGl0ZW0gPSBzdHlsZXNbaV07XHJcblx0XHR2YXIgZG9tU3R5bGUgPSBzdHlsZXNJbkRvbVtpdGVtLmlkXTtcclxuXHRcdGlmKGRvbVN0eWxlKSB7XHJcblx0XHRcdGRvbVN0eWxlLnJlZnMrKztcclxuXHRcdFx0Zm9yKHZhciBqID0gMDsgaiA8IGRvbVN0eWxlLnBhcnRzLmxlbmd0aDsgaisrKSB7XHJcblx0XHRcdFx0ZG9tU3R5bGUucGFydHNbal0oaXRlbS5wYXJ0c1tqXSk7XHJcblx0XHRcdH1cclxuXHRcdFx0Zm9yKDsgaiA8IGl0ZW0ucGFydHMubGVuZ3RoOyBqKyspIHtcclxuXHRcdFx0XHRkb21TdHlsZS5wYXJ0cy5wdXNoKGFkZFN0eWxlKGl0ZW0ucGFydHNbal0sIG9wdGlvbnMpKTtcclxuXHRcdFx0fVxyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0dmFyIHBhcnRzID0gW107XHJcblx0XHRcdGZvcih2YXIgaiA9IDA7IGogPCBpdGVtLnBhcnRzLmxlbmd0aDsgaisrKSB7XHJcblx0XHRcdFx0cGFydHMucHVzaChhZGRTdHlsZShpdGVtLnBhcnRzW2pdLCBvcHRpb25zKSk7XHJcblx0XHRcdH1cclxuXHRcdFx0c3R5bGVzSW5Eb21baXRlbS5pZF0gPSB7aWQ6IGl0ZW0uaWQsIHJlZnM6IDEsIHBhcnRzOiBwYXJ0c307XHJcblx0XHR9XHJcblx0fVxyXG59XHJcblxyXG5mdW5jdGlvbiBsaXN0VG9TdHlsZXMobGlzdCkge1xyXG5cdHZhciBzdHlsZXMgPSBbXTtcclxuXHR2YXIgbmV3U3R5bGVzID0ge307XHJcblx0Zm9yKHZhciBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHtcclxuXHRcdHZhciBpdGVtID0gbGlzdFtpXTtcclxuXHRcdHZhciBpZCA9IGl0ZW1bMF07XHJcblx0XHR2YXIgY3NzID0gaXRlbVsxXTtcclxuXHRcdHZhciBtZWRpYSA9IGl0ZW1bMl07XHJcblx0XHR2YXIgc291cmNlTWFwID0gaXRlbVszXTtcclxuXHRcdHZhciBwYXJ0ID0ge2NzczogY3NzLCBtZWRpYTogbWVkaWEsIHNvdXJjZU1hcDogc291cmNlTWFwfTtcclxuXHRcdGlmKCFuZXdTdHlsZXNbaWRdKVxyXG5cdFx0XHRzdHlsZXMucHVzaChuZXdTdHlsZXNbaWRdID0ge2lkOiBpZCwgcGFydHM6IFtwYXJ0XX0pO1xyXG5cdFx0ZWxzZVxyXG5cdFx0XHRuZXdTdHlsZXNbaWRdLnBhcnRzLnB1c2gocGFydCk7XHJcblx0fVxyXG5cdHJldHVybiBzdHlsZXM7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zLCBzdHlsZUVsZW1lbnQpIHtcclxuXHR2YXIgaGVhZCA9IGdldEhlYWRFbGVtZW50KCk7XHJcblx0dmFyIGxhc3RTdHlsZUVsZW1lbnRJbnNlcnRlZEF0VG9wID0gc3R5bGVFbGVtZW50c0luc2VydGVkQXRUb3Bbc3R5bGVFbGVtZW50c0luc2VydGVkQXRUb3AubGVuZ3RoIC0gMV07XHJcblx0aWYgKG9wdGlvbnMuaW5zZXJ0QXQgPT09IFwidG9wXCIpIHtcclxuXHRcdGlmKCFsYXN0U3R5bGVFbGVtZW50SW5zZXJ0ZWRBdFRvcCkge1xyXG5cdFx0XHRoZWFkLmluc2VydEJlZm9yZShzdHlsZUVsZW1lbnQsIGhlYWQuZmlyc3RDaGlsZCk7XHJcblx0XHR9IGVsc2UgaWYobGFzdFN0eWxlRWxlbWVudEluc2VydGVkQXRUb3AubmV4dFNpYmxpbmcpIHtcclxuXHRcdFx0aGVhZC5pbnNlcnRCZWZvcmUoc3R5bGVFbGVtZW50LCBsYXN0U3R5bGVFbGVtZW50SW5zZXJ0ZWRBdFRvcC5uZXh0U2libGluZyk7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRoZWFkLmFwcGVuZENoaWxkKHN0eWxlRWxlbWVudCk7XHJcblx0XHR9XHJcblx0XHRzdHlsZUVsZW1lbnRzSW5zZXJ0ZWRBdFRvcC5wdXNoKHN0eWxlRWxlbWVudCk7XHJcblx0fSBlbHNlIGlmIChvcHRpb25zLmluc2VydEF0ID09PSBcImJvdHRvbVwiKSB7XHJcblx0XHRoZWFkLmFwcGVuZENoaWxkKHN0eWxlRWxlbWVudCk7XHJcblx0fSBlbHNlIHtcclxuXHRcdHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgdmFsdWUgZm9yIHBhcmFtZXRlciAnaW5zZXJ0QXQnLiBNdXN0IGJlICd0b3AnIG9yICdib3R0b20nLlwiKTtcclxuXHR9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHJlbW92ZVN0eWxlRWxlbWVudChzdHlsZUVsZW1lbnQpIHtcclxuXHRzdHlsZUVsZW1lbnQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChzdHlsZUVsZW1lbnQpO1xyXG5cdHZhciBpZHggPSBzdHlsZUVsZW1lbnRzSW5zZXJ0ZWRBdFRvcC5pbmRleE9mKHN0eWxlRWxlbWVudCk7XHJcblx0aWYoaWR4ID49IDApIHtcclxuXHRcdHN0eWxlRWxlbWVudHNJbnNlcnRlZEF0VG9wLnNwbGljZShpZHgsIDEpO1xyXG5cdH1cclxufVxyXG5cclxuZnVuY3Rpb24gY3JlYXRlU3R5bGVFbGVtZW50KG9wdGlvbnMpIHtcclxuXHR2YXIgc3R5bGVFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInN0eWxlXCIpO1xyXG5cdHN0eWxlRWxlbWVudC50eXBlID0gXCJ0ZXh0L2Nzc1wiO1xyXG5cdGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zLCBzdHlsZUVsZW1lbnQpO1xyXG5cdHJldHVybiBzdHlsZUVsZW1lbnQ7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNyZWF0ZUxpbmtFbGVtZW50KG9wdGlvbnMpIHtcclxuXHR2YXIgbGlua0VsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGlua1wiKTtcclxuXHRsaW5rRWxlbWVudC5yZWwgPSBcInN0eWxlc2hlZXRcIjtcclxuXHRpbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucywgbGlua0VsZW1lbnQpO1xyXG5cdHJldHVybiBsaW5rRWxlbWVudDtcclxufVxyXG5cclxuZnVuY3Rpb24gYWRkU3R5bGUob2JqLCBvcHRpb25zKSB7XHJcblx0dmFyIHN0eWxlRWxlbWVudCwgdXBkYXRlLCByZW1vdmU7XHJcblxyXG5cdGlmIChvcHRpb25zLnNpbmdsZXRvbikge1xyXG5cdFx0dmFyIHN0eWxlSW5kZXggPSBzaW5nbGV0b25Db3VudGVyKys7XHJcblx0XHRzdHlsZUVsZW1lbnQgPSBzaW5nbGV0b25FbGVtZW50IHx8IChzaW5nbGV0b25FbGVtZW50ID0gY3JlYXRlU3R5bGVFbGVtZW50KG9wdGlvbnMpKTtcclxuXHRcdHVwZGF0ZSA9IGFwcGx5VG9TaW5nbGV0b25UYWcuYmluZChudWxsLCBzdHlsZUVsZW1lbnQsIHN0eWxlSW5kZXgsIGZhbHNlKTtcclxuXHRcdHJlbW92ZSA9IGFwcGx5VG9TaW5nbGV0b25UYWcuYmluZChudWxsLCBzdHlsZUVsZW1lbnQsIHN0eWxlSW5kZXgsIHRydWUpO1xyXG5cdH0gZWxzZSBpZihvYmouc291cmNlTWFwICYmXHJcblx0XHR0eXBlb2YgVVJMID09PSBcImZ1bmN0aW9uXCIgJiZcclxuXHRcdHR5cGVvZiBVUkwuY3JlYXRlT2JqZWN0VVJMID09PSBcImZ1bmN0aW9uXCIgJiZcclxuXHRcdHR5cGVvZiBVUkwucmV2b2tlT2JqZWN0VVJMID09PSBcImZ1bmN0aW9uXCIgJiZcclxuXHRcdHR5cGVvZiBCbG9iID09PSBcImZ1bmN0aW9uXCIgJiZcclxuXHRcdHR5cGVvZiBidG9hID09PSBcImZ1bmN0aW9uXCIpIHtcclxuXHRcdHN0eWxlRWxlbWVudCA9IGNyZWF0ZUxpbmtFbGVtZW50KG9wdGlvbnMpO1xyXG5cdFx0dXBkYXRlID0gdXBkYXRlTGluay5iaW5kKG51bGwsIHN0eWxlRWxlbWVudCk7XHJcblx0XHRyZW1vdmUgPSBmdW5jdGlvbigpIHtcclxuXHRcdFx0cmVtb3ZlU3R5bGVFbGVtZW50KHN0eWxlRWxlbWVudCk7XHJcblx0XHRcdGlmKHN0eWxlRWxlbWVudC5ocmVmKVxyXG5cdFx0XHRcdFVSTC5yZXZva2VPYmplY3RVUkwoc3R5bGVFbGVtZW50LmhyZWYpO1xyXG5cdFx0fTtcclxuXHR9IGVsc2Uge1xyXG5cdFx0c3R5bGVFbGVtZW50ID0gY3JlYXRlU3R5bGVFbGVtZW50KG9wdGlvbnMpO1xyXG5cdFx0dXBkYXRlID0gYXBwbHlUb1RhZy5iaW5kKG51bGwsIHN0eWxlRWxlbWVudCk7XHJcblx0XHRyZW1vdmUgPSBmdW5jdGlvbigpIHtcclxuXHRcdFx0cmVtb3ZlU3R5bGVFbGVtZW50KHN0eWxlRWxlbWVudCk7XHJcblx0XHR9O1xyXG5cdH1cclxuXHJcblx0dXBkYXRlKG9iaik7XHJcblxyXG5cdHJldHVybiBmdW5jdGlvbiB1cGRhdGVTdHlsZShuZXdPYmopIHtcclxuXHRcdGlmKG5ld09iaikge1xyXG5cdFx0XHRpZihuZXdPYmouY3NzID09PSBvYmouY3NzICYmIG5ld09iai5tZWRpYSA9PT0gb2JqLm1lZGlhICYmIG5ld09iai5zb3VyY2VNYXAgPT09IG9iai5zb3VyY2VNYXApXHJcblx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHR1cGRhdGUob2JqID0gbmV3T2JqKTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdHJlbW92ZSgpO1xyXG5cdFx0fVxyXG5cdH07XHJcbn1cclxuXHJcbnZhciByZXBsYWNlVGV4dCA9IChmdW5jdGlvbiAoKSB7XHJcblx0dmFyIHRleHRTdG9yZSA9IFtdO1xyXG5cclxuXHRyZXR1cm4gZnVuY3Rpb24gKGluZGV4LCByZXBsYWNlbWVudCkge1xyXG5cdFx0dGV4dFN0b3JlW2luZGV4XSA9IHJlcGxhY2VtZW50O1xyXG5cdFx0cmV0dXJuIHRleHRTdG9yZS5maWx0ZXIoQm9vbGVhbikuam9pbignXFxuJyk7XHJcblx0fTtcclxufSkoKTtcclxuXHJcbmZ1bmN0aW9uIGFwcGx5VG9TaW5nbGV0b25UYWcoc3R5bGVFbGVtZW50LCBpbmRleCwgcmVtb3ZlLCBvYmopIHtcclxuXHR2YXIgY3NzID0gcmVtb3ZlID8gXCJcIiA6IG9iai5jc3M7XHJcblxyXG5cdGlmIChzdHlsZUVsZW1lbnQuc3R5bGVTaGVldCkge1xyXG5cdFx0c3R5bGVFbGVtZW50LnN0eWxlU2hlZXQuY3NzVGV4dCA9IHJlcGxhY2VUZXh0KGluZGV4LCBjc3MpO1xyXG5cdH0gZWxzZSB7XHJcblx0XHR2YXIgY3NzTm9kZSA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNzcyk7XHJcblx0XHR2YXIgY2hpbGROb2RlcyA9IHN0eWxlRWxlbWVudC5jaGlsZE5vZGVzO1xyXG5cdFx0aWYgKGNoaWxkTm9kZXNbaW5kZXhdKSBzdHlsZUVsZW1lbnQucmVtb3ZlQ2hpbGQoY2hpbGROb2Rlc1tpbmRleF0pO1xyXG5cdFx0aWYgKGNoaWxkTm9kZXMubGVuZ3RoKSB7XHJcblx0XHRcdHN0eWxlRWxlbWVudC5pbnNlcnRCZWZvcmUoY3NzTm9kZSwgY2hpbGROb2Rlc1tpbmRleF0pO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0c3R5bGVFbGVtZW50LmFwcGVuZENoaWxkKGNzc05vZGUpO1xyXG5cdFx0fVxyXG5cdH1cclxufVxyXG5cclxuZnVuY3Rpb24gYXBwbHlUb1RhZyhzdHlsZUVsZW1lbnQsIG9iaikge1xyXG5cdHZhciBjc3MgPSBvYmouY3NzO1xyXG5cdHZhciBtZWRpYSA9IG9iai5tZWRpYTtcclxuXHJcblx0aWYobWVkaWEpIHtcclxuXHRcdHN0eWxlRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJtZWRpYVwiLCBtZWRpYSlcclxuXHR9XHJcblxyXG5cdGlmKHN0eWxlRWxlbWVudC5zdHlsZVNoZWV0KSB7XHJcblx0XHRzdHlsZUVsZW1lbnQuc3R5bGVTaGVldC5jc3NUZXh0ID0gY3NzO1xyXG5cdH0gZWxzZSB7XHJcblx0XHR3aGlsZShzdHlsZUVsZW1lbnQuZmlyc3RDaGlsZCkge1xyXG5cdFx0XHRzdHlsZUVsZW1lbnQucmVtb3ZlQ2hpbGQoc3R5bGVFbGVtZW50LmZpcnN0Q2hpbGQpO1xyXG5cdFx0fVxyXG5cdFx0c3R5bGVFbGVtZW50LmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNzcykpO1xyXG5cdH1cclxufVxyXG5cclxuZnVuY3Rpb24gdXBkYXRlTGluayhsaW5rRWxlbWVudCwgb2JqKSB7XHJcblx0dmFyIGNzcyA9IG9iai5jc3M7XHJcblx0dmFyIHNvdXJjZU1hcCA9IG9iai5zb3VyY2VNYXA7XHJcblxyXG5cdGlmKHNvdXJjZU1hcCkge1xyXG5cdFx0Ly8gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMjY2MDM4NzVcclxuXHRcdGNzcyArPSBcIlxcbi8qIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtiYXNlNjQsXCIgKyBidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShzb3VyY2VNYXApKSkpICsgXCIgKi9cIjtcclxuXHR9XHJcblxyXG5cdHZhciBibG9iID0gbmV3IEJsb2IoW2Nzc10sIHsgdHlwZTogXCJ0ZXh0L2Nzc1wiIH0pO1xyXG5cclxuXHR2YXIgb2xkU3JjID0gbGlua0VsZW1lbnQuaHJlZjtcclxuXHJcblx0bGlua0VsZW1lbnQuaHJlZiA9IFVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYik7XHJcblxyXG5cdGlmKG9sZFNyYylcclxuXHRcdFVSTC5yZXZva2VPYmplY3RVUkwob2xkU3JjKTtcclxufVxyXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vc3R5bGUtbG9hZGVyL2FkZFN0eWxlcy5qc1xuLy8gbW9kdWxlIGlkID0gOFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIvLyBzdHlsZS1sb2FkZXI6IEFkZHMgc29tZSBjc3MgdG8gdGhlIERPTSBieSBhZGRpbmcgYSA8c3R5bGU+IHRhZ1xuXG4vLyBsb2FkIHRoZSBzdHlsZXNcbnZhciBjb250ZW50ID0gcmVxdWlyZShcIiEhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcz9zb3VyY2VNYXAhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc2Fzcy1sb2FkZXIvaW5kZXguanM/c291cmNlTWFwIS4vYm9keS5zY3NzXCIpO1xuaWYodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG4vLyBhZGQgdGhlIHN0eWxlcyB0byB0aGUgRE9NXG52YXIgdXBkYXRlID0gcmVxdWlyZShcIiEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvYWRkU3R5bGVzLmpzXCIpKGNvbnRlbnQsIHt9KTtcbmlmKGNvbnRlbnQubG9jYWxzKSBtb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzO1xuLy8gSG90IE1vZHVsZSBSZXBsYWNlbWVudFxuaWYobW9kdWxlLmhvdCkge1xuXHQvLyBXaGVuIHRoZSBzdHlsZXMgY2hhbmdlLCB1cGRhdGUgdGhlIDxzdHlsZT4gdGFnc1xuXHRpZighY29udGVudC5sb2NhbHMpIHtcblx0XHRtb2R1bGUuaG90LmFjY2VwdChcIiEhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcz9zb3VyY2VNYXAhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc2Fzcy1sb2FkZXIvaW5kZXguanM/c291cmNlTWFwIS4vYm9keS5zY3NzXCIsIGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIG5ld0NvbnRlbnQgPSByZXF1aXJlKFwiISEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzP3NvdXJjZU1hcCEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9pbmRleC5qcz9zb3VyY2VNYXAhLi9ib2R5LnNjc3NcIik7XG5cdFx0XHRpZih0eXBlb2YgbmV3Q29udGVudCA9PT0gJ3N0cmluZycpIG5ld0NvbnRlbnQgPSBbW21vZHVsZS5pZCwgbmV3Q29udGVudCwgJyddXTtcblx0XHRcdHVwZGF0ZShuZXdDb250ZW50KTtcblx0XHR9KTtcblx0fVxuXHQvLyBXaGVuIHRoZSBtb2R1bGUgaXMgZGlzcG9zZWQsIHJlbW92ZSB0aGUgPHN0eWxlPiB0YWdzXG5cdG1vZHVsZS5ob3QuZGlzcG9zZShmdW5jdGlvbigpIHsgdXBkYXRlKCk7IH0pO1xufVxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vc3JjL3RoZW1lcy9kZWZhdWx0L2JvZHkuc2Nzc1xuLy8gbW9kdWxlIGlkID0gOVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwic291cmNlUm9vdCI6IiJ9