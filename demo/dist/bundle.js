!function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return t[r].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var n={};return e.m=t,e.c=n,e.p="/scripts/",e(0)}([function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}var o=n(2),i=r(o);n(4),n(1),function(t){function e(t,e){t.when("/",{template:"qgrid demo page"}).when("/sandbox",{templateUrl:"sandbox/index.html",controller:i.default,controllerAs:"$ctrl"}),e.html5Mode(!1).hashPrefix("!")}function n(){}t.module("demo",["ngRoute","qgrid"]).config(e).controller("Demo.Controller",n),e.$inject=["$routeProvider","$locationProvider"],n.$inject=[]}(angular)},function(t,e,n){"use strict";n(9),function(t){function e(){}t.module("qgrid").run(e),e.$inject=["$templateCache"]}(angular)},function(t,e){"use strict";function n(t){var e=this;this.rows=[],this.columns=[{key:"name.last",title:"Last Name",value:function(t){return t.name.last}},{key:"name.first",title:"First Name",value:function(t){return t.name.first}},{key:"gender",title:"Gender"},{key:"birthday",title:"Birthday"},{key:"contact.address.zip",title:"Zip",value:function(t){return t.contact.address.zip}},{key:"contact.address.state",title:"State",value:function(t){return t.contact.address.state}},{key:"contact.address.city",title:"City",value:function(t){return t.contact.address.city}},{key:"contact.phone.primary",title:"Primary Phone",value:function(t){return t.contact.phone[0]}},{key:"contact.email.primary",title:"Primary Email",value:function(t){return t.contact.email[0]}},{key:"likes",title:"Likes",value:function(t){return t.likes.join(", ")}},{key:"memberSince",title:"Member Since"}],t.get("data/people/100.json").then(function(t){e.rows=t.data})}Object.defineProperty(e,"__esModule",{value:!0}),e.default=n,n.$inject=["$http"]},function(t,e){"use strict";function n(){}Object.defineProperty(e,"__esModule",{value:!0}),e.default={templateUrl:"qgrid.html",controller:n,bindings:{rows:"<",columns:"<"}},n.$inject=[]},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}var o=n(3),i=r(o);n(1),function(t){function e(t){t.put("qgrid.html",n(7))}t.module("qgrid",[]).component("qGrid",i.default).run(e),e.$inject=["$templateCache"]}(angular)},function(t,e,n){e=t.exports=n(6)(),e.push([t.id,".qgrid.theme-default>table thead tr>th{border-bottom:1px solid #000;white-space:nowrap}.qgrid.theme-default>table tbody{overflow-y:auto;overflow-x:scroll}","",{version:3,sources:["/./src/themes/default/src/themes/default/body.scss"],names:[],mappings:"AAAA,uCAII,6BACA,kBAAmB,CALvB,iCAUG,gBACA,iBAAkB,CAClB",file:"body.scss",sourcesContent:[".qgrid.theme-default {\n\t> table {\n\t\tthead {\n\t\t\ttr > th {\n\t\t\t\tborder-bottom: 1px solid #000;\n\t\t\t\twhite-space: nowrap;\n\t\t\t}\n\t\t}\n\n\t\ttbody {\n\t\t\toverflow-y: auto;\n\t\t\toverflow-x: scroll;\n\t\t}\n\n\t\ttfoot {\n\n\t\t}\n\t}\n}"],sourceRoot:"webpack://"}])},function(t,e){t.exports=function(){var t=[];return t.toString=function(){for(var t=[],e=0;e<this.length;e++){var n=this[e];n[2]?t.push("@media "+n[2]+"{"+n[1]+"}"):t.push(n[1])}return t.join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var r={},o=0;o<this.length;o++){var i=this[o][0];"number"==typeof i&&(r[i]=!0)}for(o=0;o<e.length;o++){var a=e[o];"number"==typeof a[0]&&r[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),t.push(a))}},t}},function(t,e){t.exports='<div class="qgrid theme-default">\n\t<table>\n\t\t<thead>\n\t\t<tr>\n\t\t\t<th ng-repeat="$column in $ctrl.columns track by $index" class="{{::$column.key}}">\n\t\t\t\t<label>{{$column.title}}</label>\n\t\t\t</th>\n\t\t</tr>\n\t\t</thead>\n\t\t<tbody>\n\t\t<tr ng-repeat="$row in $ctrl.rows track by $index">\n\t\t\t<td ng-repeat="$column in $ctrl.columns track by $index" class="{{::$column.key}}">\n\t\t\t\t{{$column.value ? $column.value($row) : $row[$column.key]}}\n\t\t\t</td>\n\t\t</tr>\n\t\t</tbody>\n\t\t<tfoot>\n\t\t</tfoot>\n\t</table>\n</div>'},function(t,e,n){function r(t,e){for(var n=0;n<t.length;n++){var r=t[n],o=p[r.id];if(o){o.refs++;for(var i=0;i<o.parts.length;i++)o.parts[i](r.parts[i]);for(;i<r.parts.length;i++)o.parts.push(u(r.parts[i],e))}else{for(var a=[],i=0;i<r.parts.length;i++)a.push(u(r.parts[i],e));p[r.id]={id:r.id,refs:1,parts:a}}}}function o(t){for(var e=[],n={},r=0;r<t.length;r++){var o=t[r],i=o[0],a=o[1],s=o[2],l=o[3],u={css:a,media:s,sourceMap:l};n[i]?n[i].parts.push(u):e.push(n[i]={id:i,parts:[u]})}return e}function i(t,e){var n=v(),r=g[g.length-1];if("top"===t.insertAt)r?r.nextSibling?n.insertBefore(e,r.nextSibling):n.appendChild(e):n.insertBefore(e,n.firstChild),g.push(e);else{if("bottom"!==t.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");n.appendChild(e)}}function a(t){t.parentNode.removeChild(t);var e=g.indexOf(t);e>=0&&g.splice(e,1)}function s(t){var e=document.createElement("style");return e.type="text/css",i(t,e),e}function l(t){var e=document.createElement("link");return e.rel="stylesheet",i(t,e),e}function u(t,e){var n,r,o;if(e.singleton){var i=b++;n=y||(y=s(e)),r=c.bind(null,n,i,!1),o=c.bind(null,n,i,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=l(e),r=f.bind(null,n),o=function(){a(n),n.href&&URL.revokeObjectURL(n.href)}):(n=s(e),r=d.bind(null,n),o=function(){a(n)});return r(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;r(t=e)}else o()}}function c(t,e,n,r){var o=n?"":r.css;if(t.styleSheet)t.styleSheet.cssText=x(e,o);else{var i=document.createTextNode(o),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(i,a[e]):t.appendChild(i)}}function d(t,e){var n=e.css,r=e.media;if(r&&t.setAttribute("media",r),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}function f(t,e){var n=e.css,r=e.sourceMap;r&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var o=new Blob([n],{type:"text/css"}),i=t.href;t.href=URL.createObjectURL(o),i&&URL.revokeObjectURL(i)}var p={},h=function(t){var e;return function(){return"undefined"==typeof e&&(e=t.apply(this,arguments)),e}},m=h(function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())}),v=h(function(){return document.head||document.getElementsByTagName("head")[0]}),y=null,b=0,g=[];t.exports=function(t,e){e=e||{},"undefined"==typeof e.singleton&&(e.singleton=m()),"undefined"==typeof e.insertAt&&(e.insertAt="bottom");var n=o(t);return r(n,e),function(t){for(var i=[],a=0;a<n.length;a++){var s=n[a],l=p[s.id];l.refs--,i.push(l)}if(t){var u=o(t);r(u,e)}for(var a=0;a<i.length;a++){var l=i[a];if(0===l.refs){for(var c=0;c<l.parts.length;c++)l.parts[c]();delete p[l.id]}}}};var x=function(){var t=[];return function(e,n){return t[e]=n,t.filter(Boolean).join("\n")}}()},function(t,e,n){var r=n(5);"string"==typeof r&&(r=[[t.id,r,""]]);n(8)(r,{});r.locals&&(t.exports=r.locals)}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vYnVuZGxlLmpzIiwid2VicGFjazovLy93ZWJwYWNrL2Jvb3RzdHJhcCAzMTMwNjdmMmEzMjUyOGEzYjk3YiIsIndlYnBhY2s6Ly8vLi9kZW1vL2luZGV4LmpzIiwid2VicGFjazovLy8uL3NyYy90aGVtZXMvZGVmYXVsdC9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9kZW1vL3NhbmRib3gvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvZ3JpZC9ncmlkLmpzIiwid2VicGFjazovLy8uL3NyYy9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvdGhlbWVzL2RlZmF1bHQvYm9keS5zY3NzIiwid2VicGFjazovLy8uL34vY3NzLWxvYWRlci9saWIvY3NzLWJhc2UuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvZ3JpZC9ncmlkLmh0bWwiLCJ3ZWJwYWNrOi8vLy4vfi9zdHlsZS1sb2FkZXIvYWRkU3R5bGVzLmpzIiwid2VicGFjazovLy8uL3NyYy90aGVtZXMvZGVmYXVsdC9ib2R5LnNjc3M/ODAzYyJdLCJuYW1lcyI6WyJtb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiaW5zdGFsbGVkTW9kdWxlcyIsImV4cG9ydHMiLCJtb2R1bGUiLCJpZCIsImxvYWRlZCIsImNhbGwiLCJtIiwiYyIsInAiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0Iiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJfaW5kZXgiLCJfaW5kZXgyIiwiYW5ndWxhciIsIlNldHVwIiwiJHJvdXRlUHJvdmlkZXIiLCIkbG9jYXRpb25Qcm92aWRlciIsIndoZW4iLCJ0ZW1wbGF0ZSIsInRlbXBsYXRlVXJsIiwiY29udHJvbGxlciIsImNvbnRyb2xsZXJBcyIsImh0bWw1TW9kZSIsImhhc2hQcmVmaXgiLCJDb250cm9sbGVyIiwiY29uZmlnIiwiJGluamVjdCIsInJ1biIsIiRodHRwIiwiY3RybCIsInRoaXMiLCJyb3dzIiwiY29sdW1ucyIsImtleSIsInRpdGxlIiwidmFsdWUiLCJpdGVtIiwibmFtZSIsImxhc3QiLCJmaXJzdCIsImNvbnRhY3QiLCJhZGRyZXNzIiwiemlwIiwic3RhdGUiLCJjaXR5IiwicGhvbmUiLCJlbWFpbCIsImxpa2VzIiwiam9pbiIsImdldCIsInRoZW4iLCJyZXNwb25zZSIsImRhdGEiLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImJpbmRpbmdzIiwiX2dyaWQiLCJfZ3JpZDIiLCIkdGVtcGxhdGVDYWNoZSIsInB1dCIsImNvbXBvbmVudCIsInB1c2giLCJ2ZXJzaW9uIiwic291cmNlcyIsIm5hbWVzIiwibWFwcGluZ3MiLCJmaWxlIiwic291cmNlc0NvbnRlbnQiLCJzb3VyY2VSb290IiwibGlzdCIsInRvU3RyaW5nIiwicmVzdWx0IiwiaSIsImxlbmd0aCIsIm1lZGlhUXVlcnkiLCJhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzIiwiYWRkU3R5bGVzVG9Eb20iLCJzdHlsZXMiLCJvcHRpb25zIiwiZG9tU3R5bGUiLCJzdHlsZXNJbkRvbSIsInJlZnMiLCJqIiwicGFydHMiLCJhZGRTdHlsZSIsImxpc3RUb1N0eWxlcyIsIm5ld1N0eWxlcyIsImNzcyIsIm1lZGlhIiwic291cmNlTWFwIiwicGFydCIsImluc2VydFN0eWxlRWxlbWVudCIsInN0eWxlRWxlbWVudCIsImhlYWQiLCJnZXRIZWFkRWxlbWVudCIsImxhc3RTdHlsZUVsZW1lbnRJbnNlcnRlZEF0VG9wIiwic3R5bGVFbGVtZW50c0luc2VydGVkQXRUb3AiLCJpbnNlcnRBdCIsIm5leHRTaWJsaW5nIiwiaW5zZXJ0QmVmb3JlIiwiYXBwZW5kQ2hpbGQiLCJmaXJzdENoaWxkIiwiRXJyb3IiLCJyZW1vdmVTdHlsZUVsZW1lbnQiLCJwYXJlbnROb2RlIiwicmVtb3ZlQ2hpbGQiLCJpZHgiLCJpbmRleE9mIiwic3BsaWNlIiwiY3JlYXRlU3R5bGVFbGVtZW50IiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwidHlwZSIsImNyZWF0ZUxpbmtFbGVtZW50IiwibGlua0VsZW1lbnQiLCJyZWwiLCJ1cGRhdGUiLCJyZW1vdmUiLCJzaW5nbGV0b24iLCJzdHlsZUluZGV4Iiwic2luZ2xldG9uQ291bnRlciIsInNpbmdsZXRvbkVsZW1lbnQiLCJhcHBseVRvU2luZ2xldG9uVGFnIiwiYmluZCIsIlVSTCIsImNyZWF0ZU9iamVjdFVSTCIsInJldm9rZU9iamVjdFVSTCIsIkJsb2IiLCJidG9hIiwidXBkYXRlTGluayIsImhyZWYiLCJhcHBseVRvVGFnIiwibmV3T2JqIiwiaW5kZXgiLCJzdHlsZVNoZWV0IiwiY3NzVGV4dCIsInJlcGxhY2VUZXh0IiwiY3NzTm9kZSIsImNyZWF0ZVRleHROb2RlIiwiY2hpbGROb2RlcyIsInNldEF0dHJpYnV0ZSIsInVuZXNjYXBlIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwiSlNPTiIsInN0cmluZ2lmeSIsImJsb2IiLCJvbGRTcmMiLCJtZW1vaXplIiwiZm4iLCJtZW1vIiwiYXBwbHkiLCJhcmd1bWVudHMiLCJpc09sZElFIiwidGVzdCIsIndpbmRvdyIsIm5hdmlnYXRvciIsInVzZXJBZ2VudCIsInRvTG93ZXJDYXNlIiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJuZXdMaXN0IiwibWF5UmVtb3ZlIiwidGV4dFN0b3JlIiwicmVwbGFjZW1lbnQiLCJmaWx0ZXIiLCJCb29sZWFuIiwiY29udGVudCIsImxvY2FscyJdLCJtYXBwaW5ncyI6IkNBQVMsU0FBVUEsR0NJbkIsUUFBQUMsR0FBQUMsR0FHQSxHQUFBQyxFQUFBRCxHQUNBLE1BQUFDLEdBQUFELEdBQUFFLE9BR0EsSUFBQUMsR0FBQUYsRUFBQUQsSUFDQUUsV0FDQUUsR0FBQUosRUFDQUssUUFBQSxFQVVBLE9BTkFQLEdBQUFFLEdBQUFNLEtBQUFILEVBQUFELFFBQUFDLElBQUFELFFBQUFILEdBR0FJLEVBQUFFLFFBQUEsRUFHQUYsRUFBQUQsUUF2QkEsR0FBQUQsS0FxQ0EsT0FUQUYsR0FBQVEsRUFBQVQsRUFHQUMsRUFBQVMsRUFBQVAsRUFH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MkJTLElBQzdDSCxFQUFBSSxNQUFBRCxXQUNBRixHQUFBRCxFQUFBOUUsT0FpSUEsSUFBQXVJLEdBQUEsV0FDQSxHQUFBeUIsS0FFQSxpQkFBQTVCLEVBQUE2QixHQUVBLE1BREFELEdBQUE1QixHQUFBNkIsRUFDQUQsRUFBQUUsT0FBQUMsU0FBQXBILEtBQUEsV1ZnWE0sU0FBU2hELEVBQVFELEVBQVNILEdXMWlCaEMsR0FBQXlLLEdBQUF6SyxFQUFBLEVBQ0EsaUJBQUF5SyxTQUFBckssRUFBQUMsR0FBQW9LLEVBQUEsS0FFQXpLLEdBQUEsR0FBQXlLLEtBQ0FBLEdBQUFDLFNBQUF0SyxFQUFBRCxRQUFBc0ssRUFBQUMiLCJmaWxlIjoiYnVuZGxlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqKioqKi8gKGZ1bmN0aW9uKG1vZHVsZXMpIHsgLy8gd2VicGFja0Jvb3RzdHJhcFxuLyoqKioqKi8gXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4vKioqKioqLyBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuLyoqKioqKi8gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuLyoqKioqKi8gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKVxuLyoqKioqKi8gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4vKioqKioqLyBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuLyoqKioqKi8gXHRcdFx0ZXhwb3J0czoge30sXG4vKioqKioqLyBcdFx0XHRpZDogbW9kdWxlSWQsXG4vKioqKioqLyBcdFx0XHRsb2FkZWQ6IGZhbHNlXG4vKioqKioqLyBcdFx0fTtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4vKioqKioqLyBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbi8qKioqKiovIFx0XHRtb2R1bGUubG9hZGVkID0gdHJ1ZTtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbi8qKioqKiovIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4vKioqKioqLyBcdH1cbi8qKioqKiovXG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiL3NjcmlwdHMvXCI7XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbi8qKioqKiovIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oMCk7XG4vKioqKioqLyB9KVxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qKioqKiovIChbXG4vKiAwICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHR2YXIgX2luZGV4ID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcblx0XG5cdHZhciBfaW5kZXgyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW5kZXgpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdF9fd2VicGFja19yZXF1aXJlX18oNCk7XG5cdF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cdFxuXHQoZnVuY3Rpb24gKGFuZ3VsYXIpIHtcblx0XHRhbmd1bGFyLm1vZHVsZSgnZGVtbycsIFsnbmdSb3V0ZScsICdxZ3JpZCddKS5jb25maWcoU2V0dXApLmNvbnRyb2xsZXIoJ0RlbW8uQ29udHJvbGxlcicsIENvbnRyb2xsZXIpO1xuXHRcblx0XHRTZXR1cC4kaW5qZWN0ID0gWyckcm91dGVQcm92aWRlcicsICckbG9jYXRpb25Qcm92aWRlciddO1xuXHRcdGZ1bmN0aW9uIFNldHVwKCRyb3V0ZVByb3ZpZGVyLCAkbG9jYXRpb25Qcm92aWRlcikge1xuXHRcdFx0JHJvdXRlUHJvdmlkZXIud2hlbignLycsIHtcblx0XHRcdFx0dGVtcGxhdGU6ICdxZ3JpZCBkZW1vIHBhZ2UnXG5cdFx0XHR9KS53aGVuKCcvc2FuZGJveCcsIHtcblx0XHRcdFx0dGVtcGxhdGVVcmw6ICdzYW5kYm94L2luZGV4Lmh0bWwnLFxuXHRcdFx0XHRjb250cm9sbGVyOiBfaW5kZXgyLmRlZmF1bHQsXG5cdFx0XHRcdGNvbnRyb2xsZXJBczogJyRjdHJsJ1xuXHRcdFx0fSk7XG5cdFxuXHRcdFx0JGxvY2F0aW9uUHJvdmlkZXIuaHRtbDVNb2RlKGZhbHNlKS5oYXNoUHJlZml4KCchJyk7XG5cdFx0fVxuXHRcblx0XHRDb250cm9sbGVyLiRpbmplY3QgPSBbXTtcblx0XHRmdW5jdGlvbiBDb250cm9sbGVyKCkge31cblx0fSkoYW5ndWxhcik7XG5cbi8qKiovIH0sXG4vKiAxICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDkpO1xuXHRcblx0KGZ1bmN0aW9uIChhbmd1bGFyKSB7XG5cdFxuXHRcdGFuZ3VsYXIubW9kdWxlKCdxZ3JpZCcpLnJ1bihTZXR1cCk7XG5cdFxuXHRcdFNldHVwLiRpbmplY3QgPSBbJyR0ZW1wbGF0ZUNhY2hlJ107XG5cdFx0ZnVuY3Rpb24gU2V0dXAoKSAvKiR0ZW1wbGF0ZUNhY2hlKi97XG5cdFx0XHQvLyBoZXJlJ2xsIGJlIGN1c3RvbSB0ZW1wbGF0ZXNcblx0XHR9XG5cdH0pKGFuZ3VsYXIpO1xuXG4vKioqLyB9LFxuLyogMiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdFx0dmFsdWU6IHRydWVcblx0fSk7XG5cdGV4cG9ydHMuZGVmYXVsdCA9IENvbnRyb2xsZXI7XG5cdENvbnRyb2xsZXIuJGluamVjdCA9IFsnJGh0dHAnXTtcblx0ZnVuY3Rpb24gQ29udHJvbGxlcigkaHR0cCkge1xuXHRcdHZhciBjdHJsID0gdGhpcztcblx0XG5cdFx0dGhpcy5yb3dzID0gW107XG5cdFx0dGhpcy5jb2x1bW5zID0gW3tcblx0XHRcdGtleTogJ25hbWUubGFzdCcsXG5cdFx0XHR0aXRsZTogJ0xhc3QgTmFtZScsXG5cdFx0XHR2YWx1ZTogZnVuY3Rpb24gdmFsdWUoaXRlbSkge1xuXHRcdFx0XHRyZXR1cm4gaXRlbS5uYW1lLmxhc3Q7XG5cdFx0XHR9XG5cdFx0fSwge1xuXHRcdFx0a2V5OiAnbmFtZS5maXJzdCcsXG5cdFx0XHR0aXRsZTogJ0ZpcnN0IE5hbWUnLFxuXHRcdFx0dmFsdWU6IGZ1bmN0aW9uIHZhbHVlKGl0ZW0pIHtcblx0XHRcdFx0cmV0dXJuIGl0ZW0ubmFtZS5maXJzdDtcblx0XHRcdH1cblx0XHR9LCB7XG5cdFx0XHRrZXk6ICdnZW5kZXInLFxuXHRcdFx0dGl0bGU6ICdHZW5kZXInXG5cdFx0fSwge1xuXHRcdFx0a2V5OiAnYmlydGhkYXknLFxuXHRcdFx0dGl0bGU6ICdCaXJ0aGRheSdcblx0XHR9LCB7XG5cdFx0XHRrZXk6ICdjb250YWN0LmFkZHJlc3MuemlwJyxcblx0XHRcdHRpdGxlOiAnWmlwJyxcblx0XHRcdHZhbHVlOiBmdW5jdGlvbiB2YWx1ZShpdGVtKSB7XG5cdFx0XHRcdHJldHVybiBpdGVtLmNvbnRhY3QuYWRkcmVzcy56aXA7XG5cdFx0XHR9XG5cdFx0fSwge1xuXHRcdFx0a2V5OiAnY29udGFjdC5hZGRyZXNzLnN0YXRlJyxcblx0XHRcdHRpdGxlOiAnU3RhdGUnLFxuXHRcdFx0dmFsdWU6IGZ1bmN0aW9uIHZhbHVlKGl0ZW0pIHtcblx0XHRcdFx0cmV0dXJuIGl0ZW0uY29udGFjdC5hZGRyZXNzLnN0YXRlO1xuXHRcdFx0fVxuXHRcdH0sIHtcblx0XHRcdGtleTogJ2NvbnRhY3QuYWRkcmVzcy5jaXR5Jyxcblx0XHRcdHRpdGxlOiAnQ2l0eScsXG5cdFx0XHR2YWx1ZTogZnVuY3Rpb24gdmFsdWUoaXRlbSkge1xuXHRcdFx0XHRyZXR1cm4gaXRlbS5jb250YWN0LmFkZHJlc3MuY2l0eTtcblx0XHRcdH1cblx0XHR9LCB7XG5cdFx0XHRrZXk6ICdjb250YWN0LnBob25lLnByaW1hcnknLFxuXHRcdFx0dGl0bGU6ICdQcmltYXJ5IFBob25lJyxcblx0XHRcdHZhbHVlOiBmdW5jdGlvbiB2YWx1ZShpdGVtKSB7XG5cdFx0XHRcdHJldHVybiBpdGVtLmNvbnRhY3QucGhvbmVbMF07XG5cdFx0XHR9XG5cdFx0fSwge1xuXHRcdFx0a2V5OiAnY29udGFjdC5lbWFpbC5wcmltYXJ5Jyxcblx0XHRcdHRpdGxlOiAnUHJpbWFyeSBFbWFpbCcsXG5cdFx0XHR2YWx1ZTogZnVuY3Rpb24gdmFsdWUoaXRlbSkge1xuXHRcdFx0XHRyZXR1cm4gaXRlbS5jb250YWN0LmVtYWlsWzBdO1xuXHRcdFx0fVxuXHRcdH0sIHtcblx0XHRcdGtleTogJ2xpa2VzJyxcblx0XHRcdHRpdGxlOiAnTGlrZXMnLFxuXHRcdFx0dmFsdWU6IGZ1bmN0aW9uIHZhbHVlKGl0ZW0pIHtcblx0XHRcdFx0cmV0dXJuIGl0ZW0ubGlrZXMuam9pbignLCAnKTtcblx0XHRcdH1cblx0XHR9LCB7XG5cdFx0XHRrZXk6ICdtZW1iZXJTaW5jZScsXG5cdFx0XHR0aXRsZTogJ01lbWJlciBTaW5jZSdcblx0XHR9XTtcblx0XG5cdFx0JGh0dHAuZ2V0KCdkYXRhL3Blb3BsZS8xMDAuanNvbicpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG5cdFx0XHRjdHJsLnJvd3MgPSByZXNwb25zZS5kYXRhO1xuXHRcdH0pO1xuXHR9XG5cbi8qKiovIH0sXG4vKiAzICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHQvLyBpbXBvcnQgR3JpZE1vZGVsIGZyb20gJy4vZ3JpZC5tb2RlbCc7XG5cdC8vIGltcG9ydCBVdGlsaXR5IGZyb20gJy4uLy4uL3NlcnZpY2VzL3V0aWxpdHknO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdFx0dmFsdWU6IHRydWVcblx0fSk7XG5cdGV4cG9ydHMuZGVmYXVsdCA9IHtcblx0XHR0ZW1wbGF0ZVVybDogJ3FncmlkLmh0bWwnLFxuXHRcdGNvbnRyb2xsZXI6IENvbnRyb2xsZXIsXG5cdFx0YmluZGluZ3M6IHtcblx0XHRcdHJvd3M6ICc8Jyxcblx0XHRcdGNvbHVtbnM6ICc8J1xuXHRcdH1cblx0fTtcblx0XG5cdFxuXHRDb250cm9sbGVyLiRpbmplY3QgPSBbXTtcblx0ZnVuY3Rpb24gQ29udHJvbGxlcigpIHtcblx0XHQvL3RoaXMubW9kZWwgPSBuZXcgR3JpZE1vZGVsKCk7XG5cdFx0Ly8gVE9ETzogaW52ZXN0aWdhdGUgaG93IHRvIHRyYWNrIGNoYW5nZXMgaW4gdGhpcyBjYXNlXG5cdFx0Ly8gb3IgZ2V0IHJpZCBvZiAkc2NvcGUgb3Igb2YgR3JpZE1vZGVsXG5cdFx0Ly9VdGlsaXR5LmFzc2lnbih0aGlzLm1vZGVsLCAkc2NvcGUpO1xuXHR9XG5cbi8qKiovIH0sXG4vKiA0ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHR2YXIgX2dyaWQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xuXHRcblx0dmFyIF9ncmlkMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2dyaWQpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cdFxuXHQoZnVuY3Rpb24gKGFuZ3VsYXIpIHtcblx0XHRhbmd1bGFyLm1vZHVsZSgncWdyaWQnLCBbXSkuY29tcG9uZW50KCdxR3JpZCcsIF9ncmlkMi5kZWZhdWx0KS5ydW4oU2V0dXApO1xuXHRcblx0XHRTZXR1cC4kaW5qZWN0ID0gWyckdGVtcGxhdGVDYWNoZSddO1xuXHRcdGZ1bmN0aW9uIFNldHVwKCR0ZW1wbGF0ZUNhY2hlKSB7XG5cdFx0XHQkdGVtcGxhdGVDYWNoZS5wdXQoJ3FncmlkLmh0bWwnLCBfX3dlYnBhY2tfcmVxdWlyZV9fKDcpKTtcblx0XHR9XG5cdH0pKGFuZ3VsYXIpO1xuXG4vKioqLyB9LFxuLyogNSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0ZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2KSgpO1xuXHQvLyBpbXBvcnRzXG5cdFxuXHRcblx0Ly8gbW9kdWxlXG5cdGV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcIi5xZ3JpZC50aGVtZS1kZWZhdWx0PnRhYmxlIHRoZWFkIHRyPnRoe2JvcmRlci1ib3R0b206MXB4IHNvbGlkICMwMDA7d2hpdGUtc3BhY2U6bm93cmFwfS5xZ3JpZC50aGVtZS1kZWZhdWx0PnRhYmxlIHRib2R5e292ZXJmbG93LXk6YXV0bztvdmVyZmxvdy14OnNjcm9sbH1cIiwgXCJcIiwge1widmVyc2lvblwiOjMsXCJzb3VyY2VzXCI6W1wiLy4vc3JjL3RoZW1lcy9kZWZhdWx0L3NyYy90aGVtZXMvZGVmYXVsdC9ib2R5LnNjc3NcIl0sXCJuYW1lc1wiOltdLFwibWFwcGluZ3NcIjpcIkFBQUEsdUNBSUksNkJBQ0Esa0JBQW1CLENBTHZCLGlDQVVHLGdCQUNBLGlCQUFrQixDQUNsQlwiLFwiZmlsZVwiOlwiYm9keS5zY3NzXCIsXCJzb3VyY2VzQ29udGVudFwiOltcIi5xZ3JpZC50aGVtZS1kZWZhdWx0IHtcXG5cXHQ+IHRhYmxlIHtcXG5cXHRcXHR0aGVhZCB7XFxuXFx0XFx0XFx0dHIgPiB0aCB7XFxuXFx0XFx0XFx0XFx0Ym9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICMwMDA7XFxuXFx0XFx0XFx0XFx0d2hpdGUtc3BhY2U6IG5vd3JhcDtcXG5cXHRcXHRcXHR9XFxuXFx0XFx0fVxcblxcblxcdFxcdHRib2R5IHtcXG5cXHRcXHRcXHRvdmVyZmxvdy15OiBhdXRvO1xcblxcdFxcdFxcdG92ZXJmbG93LXg6IHNjcm9sbDtcXG5cXHRcXHR9XFxuXFxuXFx0XFx0dGZvb3Qge1xcblxcblxcdFxcdH1cXG5cXHR9XFxufVwiXSxcInNvdXJjZVJvb3RcIjpcIndlYnBhY2s6Ly9cIn1dKTtcblx0XG5cdC8vIGV4cG9ydHNcblxuXG4vKioqLyB9LFxuLyogNiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0LypcclxuXHRcdE1JVCBMaWNlbnNlIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2UucGhwXHJcblx0XHRBdXRob3IgVG9iaWFzIEtvcHBlcnMgQHNva3JhXHJcblx0Ki9cclxuXHQvLyBjc3MgYmFzZSBjb2RlLCBpbmplY3RlZCBieSB0aGUgY3NzLWxvYWRlclxyXG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oKSB7XHJcblx0XHR2YXIgbGlzdCA9IFtdO1xyXG5cdFxyXG5cdFx0Ly8gcmV0dXJuIHRoZSBsaXN0IG9mIG1vZHVsZXMgYXMgY3NzIHN0cmluZ1xyXG5cdFx0bGlzdC50b1N0cmluZyA9IGZ1bmN0aW9uIHRvU3RyaW5nKCkge1xyXG5cdFx0XHR2YXIgcmVzdWx0ID0gW107XHJcblx0XHRcdGZvcih2YXIgaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdFx0dmFyIGl0ZW0gPSB0aGlzW2ldO1xyXG5cdFx0XHRcdGlmKGl0ZW1bMl0pIHtcclxuXHRcdFx0XHRcdHJlc3VsdC5wdXNoKFwiQG1lZGlhIFwiICsgaXRlbVsyXSArIFwie1wiICsgaXRlbVsxXSArIFwifVwiKTtcclxuXHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0cmVzdWx0LnB1c2goaXRlbVsxXSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHRcdHJldHVybiByZXN1bHQuam9pbihcIlwiKTtcclxuXHRcdH07XHJcblx0XHJcblx0XHQvLyBpbXBvcnQgYSBsaXN0IG9mIG1vZHVsZXMgaW50byB0aGUgbGlzdFxyXG5cdFx0bGlzdC5pID0gZnVuY3Rpb24obW9kdWxlcywgbWVkaWFRdWVyeSkge1xyXG5cdFx0XHRpZih0eXBlb2YgbW9kdWxlcyA9PT0gXCJzdHJpbmdcIilcclxuXHRcdFx0XHRtb2R1bGVzID0gW1tudWxsLCBtb2R1bGVzLCBcIlwiXV07XHJcblx0XHRcdHZhciBhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzID0ge307XHJcblx0XHRcdGZvcih2YXIgaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdFx0dmFyIGlkID0gdGhpc1tpXVswXTtcclxuXHRcdFx0XHRpZih0eXBlb2YgaWQgPT09IFwibnVtYmVyXCIpXHJcblx0XHRcdFx0XHRhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzW2lkXSA9IHRydWU7XHJcblx0XHRcdH1cclxuXHRcdFx0Zm9yKGkgPSAwOyBpIDwgbW9kdWxlcy5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHRcdHZhciBpdGVtID0gbW9kdWxlc1tpXTtcclxuXHRcdFx0XHQvLyBza2lwIGFscmVhZHkgaW1wb3J0ZWQgbW9kdWxlXHJcblx0XHRcdFx0Ly8gdGhpcyBpbXBsZW1lbnRhdGlvbiBpcyBub3QgMTAwJSBwZXJmZWN0IGZvciB3ZWlyZCBtZWRpYSBxdWVyeSBjb21iaW5hdGlvbnNcclxuXHRcdFx0XHQvLyAgd2hlbiBhIG1vZHVsZSBpcyBpbXBvcnRlZCBtdWx0aXBsZSB0aW1lcyB3aXRoIGRpZmZlcmVudCBtZWRpYSBxdWVyaWVzLlxyXG5cdFx0XHRcdC8vICBJIGhvcGUgdGhpcyB3aWxsIG5ldmVyIG9jY3VyIChIZXkgdGhpcyB3YXkgd2UgaGF2ZSBzbWFsbGVyIGJ1bmRsZXMpXHJcblx0XHRcdFx0aWYodHlwZW9mIGl0ZW1bMF0gIT09IFwibnVtYmVyXCIgfHwgIWFscmVhZHlJbXBvcnRlZE1vZHVsZXNbaXRlbVswXV0pIHtcclxuXHRcdFx0XHRcdGlmKG1lZGlhUXVlcnkgJiYgIWl0ZW1bMl0pIHtcclxuXHRcdFx0XHRcdFx0aXRlbVsyXSA9IG1lZGlhUXVlcnk7XHJcblx0XHRcdFx0XHR9IGVsc2UgaWYobWVkaWFRdWVyeSkge1xyXG5cdFx0XHRcdFx0XHRpdGVtWzJdID0gXCIoXCIgKyBpdGVtWzJdICsgXCIpIGFuZCAoXCIgKyBtZWRpYVF1ZXJ5ICsgXCIpXCI7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRsaXN0LnB1c2goaXRlbSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9O1xyXG5cdFx0cmV0dXJuIGxpc3Q7XHJcblx0fTtcclxuXG5cbi8qKiovIH0sXG4vKiA3ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IFwiPGRpdiBjbGFzcz1cXFwicWdyaWQgdGhlbWUtZGVmYXVsdFxcXCI+XFxuXFx0PHRhYmxlPlxcblxcdFxcdDx0aGVhZD5cXG5cXHRcXHQ8dHI+XFxuXFx0XFx0XFx0PHRoIG5nLXJlcGVhdD1cXFwiJGNvbHVtbiBpbiAkY3RybC5jb2x1bW5zIHRyYWNrIGJ5ICRpbmRleFxcXCIgY2xhc3M9XFxcInt7OjokY29sdW1uLmtleX19XFxcIj5cXG5cXHRcXHRcXHRcXHQ8bGFiZWw+e3skY29sdW1uLnRpdGxlfX08L2xhYmVsPlxcblxcdFxcdFxcdDwvdGg+XFxuXFx0XFx0PC90cj5cXG5cXHRcXHQ8L3RoZWFkPlxcblxcdFxcdDx0Ym9keT5cXG5cXHRcXHQ8dHIgbmctcmVwZWF0PVxcXCIkcm93IGluICRjdHJsLnJvd3MgdHJhY2sgYnkgJGluZGV4XFxcIj5cXG5cXHRcXHRcXHQ8dGQgbmctcmVwZWF0PVxcXCIkY29sdW1uIGluICRjdHJsLmNvbHVtbnMgdHJhY2sgYnkgJGluZGV4XFxcIiBjbGFzcz1cXFwie3s6OiRjb2x1bW4ua2V5fX1cXFwiPlxcblxcdFxcdFxcdFxcdHt7JGNvbHVtbi52YWx1ZSA/ICRjb2x1bW4udmFsdWUoJHJvdykgOiAkcm93WyRjb2x1bW4ua2V5XX19XFxuXFx0XFx0XFx0PC90ZD5cXG5cXHRcXHQ8L3RyPlxcblxcdFxcdDwvdGJvZHk+XFxuXFx0XFx0PHRmb290PlxcblxcdFxcdDwvdGZvb3Q+XFxuXFx0PC90YWJsZT5cXG48L2Rpdj5cIlxuXG4vKioqLyB9LFxuLyogOCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0LypcclxuXHRcdE1JVCBMaWNlbnNlIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2UucGhwXHJcblx0XHRBdXRob3IgVG9iaWFzIEtvcHBlcnMgQHNva3JhXHJcblx0Ki9cclxuXHR2YXIgc3R5bGVzSW5Eb20gPSB7fSxcclxuXHRcdG1lbW9pemUgPSBmdW5jdGlvbihmbikge1xyXG5cdFx0XHR2YXIgbWVtbztcclxuXHRcdFx0cmV0dXJuIGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0XHRpZiAodHlwZW9mIG1lbW8gPT09IFwidW5kZWZpbmVkXCIpIG1lbW8gPSBmbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG5cdFx0XHRcdHJldHVybiBtZW1vO1xyXG5cdFx0XHR9O1xyXG5cdFx0fSxcclxuXHRcdGlzT2xkSUUgPSBtZW1vaXplKGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRyZXR1cm4gL21zaWUgWzYtOV1cXGIvLnRlc3Qod2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKSk7XHJcblx0XHR9KSxcclxuXHRcdGdldEhlYWRFbGVtZW50ID0gbWVtb2l6ZShmdW5jdGlvbiAoKSB7XHJcblx0XHRcdHJldHVybiBkb2N1bWVudC5oZWFkIHx8IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiaGVhZFwiKVswXTtcclxuXHRcdH0pLFxyXG5cdFx0c2luZ2xldG9uRWxlbWVudCA9IG51bGwsXHJcblx0XHRzaW5nbGV0b25Db3VudGVyID0gMCxcclxuXHRcdHN0eWxlRWxlbWVudHNJbnNlcnRlZEF0VG9wID0gW107XHJcblx0XHJcblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihsaXN0LCBvcHRpb25zKSB7XHJcblx0XHRpZihmYWxzZSkge1xyXG5cdFx0XHRpZih0eXBlb2YgZG9jdW1lbnQgIT09IFwib2JqZWN0XCIpIHRocm93IG5ldyBFcnJvcihcIlRoZSBzdHlsZS1sb2FkZXIgY2Fubm90IGJlIHVzZWQgaW4gYSBub24tYnJvd3NlciBlbnZpcm9ubWVudFwiKTtcclxuXHRcdH1cclxuXHRcclxuXHRcdG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xyXG5cdFx0Ly8gRm9yY2Ugc2luZ2xlLXRhZyBzb2x1dGlvbiBvbiBJRTYtOSwgd2hpY2ggaGFzIGEgaGFyZCBsaW1pdCBvbiB0aGUgIyBvZiA8c3R5bGU+XHJcblx0XHQvLyB0YWdzIGl0IHdpbGwgYWxsb3cgb24gYSBwYWdlXHJcblx0XHRpZiAodHlwZW9mIG9wdGlvbnMuc2luZ2xldG9uID09PSBcInVuZGVmaW5lZFwiKSBvcHRpb25zLnNpbmdsZXRvbiA9IGlzT2xkSUUoKTtcclxuXHRcclxuXHRcdC8vIEJ5IGRlZmF1bHQsIGFkZCA8c3R5bGU+IHRhZ3MgdG8gdGhlIGJvdHRvbSBvZiA8aGVhZD4uXHJcblx0XHRpZiAodHlwZW9mIG9wdGlvbnMuaW5zZXJ0QXQgPT09IFwidW5kZWZpbmVkXCIpIG9wdGlvbnMuaW5zZXJ0QXQgPSBcImJvdHRvbVwiO1xyXG5cdFxyXG5cdFx0dmFyIHN0eWxlcyA9IGxpc3RUb1N0eWxlcyhsaXN0KTtcclxuXHRcdGFkZFN0eWxlc1RvRG9tKHN0eWxlcywgb3B0aW9ucyk7XHJcblx0XHJcblx0XHRyZXR1cm4gZnVuY3Rpb24gdXBkYXRlKG5ld0xpc3QpIHtcclxuXHRcdFx0dmFyIG1heVJlbW92ZSA9IFtdO1xyXG5cdFx0XHRmb3IodmFyIGkgPSAwOyBpIDwgc3R5bGVzLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdFx0dmFyIGl0ZW0gPSBzdHlsZXNbaV07XHJcblx0XHRcdFx0dmFyIGRvbVN0eWxlID0gc3R5bGVzSW5Eb21baXRlbS5pZF07XHJcblx0XHRcdFx0ZG9tU3R5bGUucmVmcy0tO1xyXG5cdFx0XHRcdG1heVJlbW92ZS5wdXNoKGRvbVN0eWxlKTtcclxuXHRcdFx0fVxyXG5cdFx0XHRpZihuZXdMaXN0KSB7XHJcblx0XHRcdFx0dmFyIG5ld1N0eWxlcyA9IGxpc3RUb1N0eWxlcyhuZXdMaXN0KTtcclxuXHRcdFx0XHRhZGRTdHlsZXNUb0RvbShuZXdTdHlsZXMsIG9wdGlvbnMpO1xyXG5cdFx0XHR9XHJcblx0XHRcdGZvcih2YXIgaSA9IDA7IGkgPCBtYXlSZW1vdmUubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0XHR2YXIgZG9tU3R5bGUgPSBtYXlSZW1vdmVbaV07XHJcblx0XHRcdFx0aWYoZG9tU3R5bGUucmVmcyA9PT0gMCkge1xyXG5cdFx0XHRcdFx0Zm9yKHZhciBqID0gMDsgaiA8IGRvbVN0eWxlLnBhcnRzLmxlbmd0aDsgaisrKVxyXG5cdFx0XHRcdFx0XHRkb21TdHlsZS5wYXJ0c1tqXSgpO1xyXG5cdFx0XHRcdFx0ZGVsZXRlIHN0eWxlc0luRG9tW2RvbVN0eWxlLmlkXTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH07XHJcblx0fVxyXG5cdFxyXG5cdGZ1bmN0aW9uIGFkZFN0eWxlc1RvRG9tKHN0eWxlcywgb3B0aW9ucykge1xyXG5cdFx0Zm9yKHZhciBpID0gMDsgaSA8IHN0eWxlcy5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHR2YXIgaXRlbSA9IHN0eWxlc1tpXTtcclxuXHRcdFx0dmFyIGRvbVN0eWxlID0gc3R5bGVzSW5Eb21baXRlbS5pZF07XHJcblx0XHRcdGlmKGRvbVN0eWxlKSB7XHJcblx0XHRcdFx0ZG9tU3R5bGUucmVmcysrO1xyXG5cdFx0XHRcdGZvcih2YXIgaiA9IDA7IGogPCBkb21TdHlsZS5wYXJ0cy5sZW5ndGg7IGorKykge1xyXG5cdFx0XHRcdFx0ZG9tU3R5bGUucGFydHNbal0oaXRlbS5wYXJ0c1tqXSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGZvcig7IGogPCBpdGVtLnBhcnRzLmxlbmd0aDsgaisrKSB7XHJcblx0XHRcdFx0XHRkb21TdHlsZS5wYXJ0cy5wdXNoKGFkZFN0eWxlKGl0ZW0ucGFydHNbal0sIG9wdGlvbnMpKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0dmFyIHBhcnRzID0gW107XHJcblx0XHRcdFx0Zm9yKHZhciBqID0gMDsgaiA8IGl0ZW0ucGFydHMubGVuZ3RoOyBqKyspIHtcclxuXHRcdFx0XHRcdHBhcnRzLnB1c2goYWRkU3R5bGUoaXRlbS5wYXJ0c1tqXSwgb3B0aW9ucykpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRzdHlsZXNJbkRvbVtpdGVtLmlkXSA9IHtpZDogaXRlbS5pZCwgcmVmczogMSwgcGFydHM6IHBhcnRzfTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH1cclxuXHRcclxuXHRmdW5jdGlvbiBsaXN0VG9TdHlsZXMobGlzdCkge1xyXG5cdFx0dmFyIHN0eWxlcyA9IFtdO1xyXG5cdFx0dmFyIG5ld1N0eWxlcyA9IHt9O1xyXG5cdFx0Zm9yKHZhciBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0dmFyIGl0ZW0gPSBsaXN0W2ldO1xyXG5cdFx0XHR2YXIgaWQgPSBpdGVtWzBdO1xyXG5cdFx0XHR2YXIgY3NzID0gaXRlbVsxXTtcclxuXHRcdFx0dmFyIG1lZGlhID0gaXRlbVsyXTtcclxuXHRcdFx0dmFyIHNvdXJjZU1hcCA9IGl0ZW1bM107XHJcblx0XHRcdHZhciBwYXJ0ID0ge2NzczogY3NzLCBtZWRpYTogbWVkaWEsIHNvdXJjZU1hcDogc291cmNlTWFwfTtcclxuXHRcdFx0aWYoIW5ld1N0eWxlc1tpZF0pXHJcblx0XHRcdFx0c3R5bGVzLnB1c2gobmV3U3R5bGVzW2lkXSA9IHtpZDogaWQsIHBhcnRzOiBbcGFydF19KTtcclxuXHRcdFx0ZWxzZVxyXG5cdFx0XHRcdG5ld1N0eWxlc1tpZF0ucGFydHMucHVzaChwYXJ0KTtcclxuXHRcdH1cclxuXHRcdHJldHVybiBzdHlsZXM7XHJcblx0fVxyXG5cdFxyXG5cdGZ1bmN0aW9uIGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zLCBzdHlsZUVsZW1lbnQpIHtcclxuXHRcdHZhciBoZWFkID0gZ2V0SGVhZEVsZW1lbnQoKTtcclxuXHRcdHZhciBsYXN0U3R5bGVFbGVtZW50SW5zZXJ0ZWRBdFRvcCA9IHN0eWxlRWxlbWVudHNJbnNlcnRlZEF0VG9wW3N0eWxlRWxlbWVudHNJbnNlcnRlZEF0VG9wLmxlbmd0aCAtIDFdO1xyXG5cdFx0aWYgKG9wdGlvbnMuaW5zZXJ0QXQgPT09IFwidG9wXCIpIHtcclxuXHRcdFx0aWYoIWxhc3RTdHlsZUVsZW1lbnRJbnNlcnRlZEF0VG9wKSB7XHJcblx0XHRcdFx0aGVhZC5pbnNlcnRCZWZvcmUoc3R5bGVFbGVtZW50LCBoZWFkLmZpcnN0Q2hpbGQpO1xyXG5cdFx0XHR9IGVsc2UgaWYobGFzdFN0eWxlRWxlbWVudEluc2VydGVkQXRUb3AubmV4dFNpYmxpbmcpIHtcclxuXHRcdFx0XHRoZWFkLmluc2VydEJlZm9yZShzdHlsZUVsZW1lbnQsIGxhc3RTdHlsZUVsZW1lbnRJbnNlcnRlZEF0VG9wLm5leHRTaWJsaW5nKTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRoZWFkLmFwcGVuZENoaWxkKHN0eWxlRWxlbWVudCk7XHJcblx0XHRcdH1cclxuXHRcdFx0c3R5bGVFbGVtZW50c0luc2VydGVkQXRUb3AucHVzaChzdHlsZUVsZW1lbnQpO1xyXG5cdFx0fSBlbHNlIGlmIChvcHRpb25zLmluc2VydEF0ID09PSBcImJvdHRvbVwiKSB7XHJcblx0XHRcdGhlYWQuYXBwZW5kQ2hpbGQoc3R5bGVFbGVtZW50KTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgdmFsdWUgZm9yIHBhcmFtZXRlciAnaW5zZXJ0QXQnLiBNdXN0IGJlICd0b3AnIG9yICdib3R0b20nLlwiKTtcclxuXHRcdH1cclxuXHR9XHJcblx0XHJcblx0ZnVuY3Rpb24gcmVtb3ZlU3R5bGVFbGVtZW50KHN0eWxlRWxlbWVudCkge1xyXG5cdFx0c3R5bGVFbGVtZW50LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoc3R5bGVFbGVtZW50KTtcclxuXHRcdHZhciBpZHggPSBzdHlsZUVsZW1lbnRzSW5zZXJ0ZWRBdFRvcC5pbmRleE9mKHN0eWxlRWxlbWVudCk7XHJcblx0XHRpZihpZHggPj0gMCkge1xyXG5cdFx0XHRzdHlsZUVsZW1lbnRzSW5zZXJ0ZWRBdFRvcC5zcGxpY2UoaWR4LCAxKTtcclxuXHRcdH1cclxuXHR9XHJcblx0XHJcblx0ZnVuY3Rpb24gY3JlYXRlU3R5bGVFbGVtZW50KG9wdGlvbnMpIHtcclxuXHRcdHZhciBzdHlsZUVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3R5bGVcIik7XHJcblx0XHRzdHlsZUVsZW1lbnQudHlwZSA9IFwidGV4dC9jc3NcIjtcclxuXHRcdGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zLCBzdHlsZUVsZW1lbnQpO1xyXG5cdFx0cmV0dXJuIHN0eWxlRWxlbWVudDtcclxuXHR9XHJcblx0XHJcblx0ZnVuY3Rpb24gY3JlYXRlTGlua0VsZW1lbnQob3B0aW9ucykge1xyXG5cdFx0dmFyIGxpbmtFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxpbmtcIik7XHJcblx0XHRsaW5rRWxlbWVudC5yZWwgPSBcInN0eWxlc2hlZXRcIjtcclxuXHRcdGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zLCBsaW5rRWxlbWVudCk7XHJcblx0XHRyZXR1cm4gbGlua0VsZW1lbnQ7XHJcblx0fVxyXG5cdFxyXG5cdGZ1bmN0aW9uIGFkZFN0eWxlKG9iaiwgb3B0aW9ucykge1xyXG5cdFx0dmFyIHN0eWxlRWxlbWVudCwgdXBkYXRlLCByZW1vdmU7XHJcblx0XHJcblx0XHRpZiAob3B0aW9ucy5zaW5nbGV0b24pIHtcclxuXHRcdFx0dmFyIHN0eWxlSW5kZXggPSBzaW5nbGV0b25Db3VudGVyKys7XHJcblx0XHRcdHN0eWxlRWxlbWVudCA9IHNpbmdsZXRvbkVsZW1lbnQgfHwgKHNpbmdsZXRvbkVsZW1lbnQgPSBjcmVhdGVTdHlsZUVsZW1lbnQob3B0aW9ucykpO1xyXG5cdFx0XHR1cGRhdGUgPSBhcHBseVRvU2luZ2xldG9uVGFnLmJpbmQobnVsbCwgc3R5bGVFbGVtZW50LCBzdHlsZUluZGV4LCBmYWxzZSk7XHJcblx0XHRcdHJlbW92ZSA9IGFwcGx5VG9TaW5nbGV0b25UYWcuYmluZChudWxsLCBzdHlsZUVsZW1lbnQsIHN0eWxlSW5kZXgsIHRydWUpO1xyXG5cdFx0fSBlbHNlIGlmKG9iai5zb3VyY2VNYXAgJiZcclxuXHRcdFx0dHlwZW9mIFVSTCA9PT0gXCJmdW5jdGlvblwiICYmXHJcblx0XHRcdHR5cGVvZiBVUkwuY3JlYXRlT2JqZWN0VVJMID09PSBcImZ1bmN0aW9uXCIgJiZcclxuXHRcdFx0dHlwZW9mIFVSTC5yZXZva2VPYmplY3RVUkwgPT09IFwiZnVuY3Rpb25cIiAmJlxyXG5cdFx0XHR0eXBlb2YgQmxvYiA9PT0gXCJmdW5jdGlvblwiICYmXHJcblx0XHRcdHR5cGVvZiBidG9hID09PSBcImZ1bmN0aW9uXCIpIHtcclxuXHRcdFx0c3R5bGVFbGVtZW50ID0gY3JlYXRlTGlua0VsZW1lbnQob3B0aW9ucyk7XHJcblx0XHRcdHVwZGF0ZSA9IHVwZGF0ZUxpbmsuYmluZChudWxsLCBzdHlsZUVsZW1lbnQpO1xyXG5cdFx0XHRyZW1vdmUgPSBmdW5jdGlvbigpIHtcclxuXHRcdFx0XHRyZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGVFbGVtZW50KTtcclxuXHRcdFx0XHRpZihzdHlsZUVsZW1lbnQuaHJlZilcclxuXHRcdFx0XHRcdFVSTC5yZXZva2VPYmplY3RVUkwoc3R5bGVFbGVtZW50LmhyZWYpO1xyXG5cdFx0XHR9O1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0c3R5bGVFbGVtZW50ID0gY3JlYXRlU3R5bGVFbGVtZW50KG9wdGlvbnMpO1xyXG5cdFx0XHR1cGRhdGUgPSBhcHBseVRvVGFnLmJpbmQobnVsbCwgc3R5bGVFbGVtZW50KTtcclxuXHRcdFx0cmVtb3ZlID0gZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0cmVtb3ZlU3R5bGVFbGVtZW50KHN0eWxlRWxlbWVudCk7XHJcblx0XHRcdH07XHJcblx0XHR9XHJcblx0XHJcblx0XHR1cGRhdGUob2JqKTtcclxuXHRcclxuXHRcdHJldHVybiBmdW5jdGlvbiB1cGRhdGVTdHlsZShuZXdPYmopIHtcclxuXHRcdFx0aWYobmV3T2JqKSB7XHJcblx0XHRcdFx0aWYobmV3T2JqLmNzcyA9PT0gb2JqLmNzcyAmJiBuZXdPYmoubWVkaWEgPT09IG9iai5tZWRpYSAmJiBuZXdPYmouc291cmNlTWFwID09PSBvYmouc291cmNlTWFwKVxyXG5cdFx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHRcdHVwZGF0ZShvYmogPSBuZXdPYmopO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdHJlbW92ZSgpO1xyXG5cdFx0XHR9XHJcblx0XHR9O1xyXG5cdH1cclxuXHRcclxuXHR2YXIgcmVwbGFjZVRleHQgPSAoZnVuY3Rpb24gKCkge1xyXG5cdFx0dmFyIHRleHRTdG9yZSA9IFtdO1xyXG5cdFxyXG5cdFx0cmV0dXJuIGZ1bmN0aW9uIChpbmRleCwgcmVwbGFjZW1lbnQpIHtcclxuXHRcdFx0dGV4dFN0b3JlW2luZGV4XSA9IHJlcGxhY2VtZW50O1xyXG5cdFx0XHRyZXR1cm4gdGV4dFN0b3JlLmZpbHRlcihCb29sZWFuKS5qb2luKCdcXG4nKTtcclxuXHRcdH07XHJcblx0fSkoKTtcclxuXHRcclxuXHRmdW5jdGlvbiBhcHBseVRvU2luZ2xldG9uVGFnKHN0eWxlRWxlbWVudCwgaW5kZXgsIHJlbW92ZSwgb2JqKSB7XHJcblx0XHR2YXIgY3NzID0gcmVtb3ZlID8gXCJcIiA6IG9iai5jc3M7XHJcblx0XHJcblx0XHRpZiAoc3R5bGVFbGVtZW50LnN0eWxlU2hlZXQpIHtcclxuXHRcdFx0c3R5bGVFbGVtZW50LnN0eWxlU2hlZXQuY3NzVGV4dCA9IHJlcGxhY2VUZXh0KGluZGV4LCBjc3MpO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0dmFyIGNzc05vZGUgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjc3MpO1xyXG5cdFx0XHR2YXIgY2hpbGROb2RlcyA9IHN0eWxlRWxlbWVudC5jaGlsZE5vZGVzO1xyXG5cdFx0XHRpZiAoY2hpbGROb2Rlc1tpbmRleF0pIHN0eWxlRWxlbWVudC5yZW1vdmVDaGlsZChjaGlsZE5vZGVzW2luZGV4XSk7XHJcblx0XHRcdGlmIChjaGlsZE5vZGVzLmxlbmd0aCkge1xyXG5cdFx0XHRcdHN0eWxlRWxlbWVudC5pbnNlcnRCZWZvcmUoY3NzTm9kZSwgY2hpbGROb2Rlc1tpbmRleF0pO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdHN0eWxlRWxlbWVudC5hcHBlbmRDaGlsZChjc3NOb2RlKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH1cclxuXHRcclxuXHRmdW5jdGlvbiBhcHBseVRvVGFnKHN0eWxlRWxlbWVudCwgb2JqKSB7XHJcblx0XHR2YXIgY3NzID0gb2JqLmNzcztcclxuXHRcdHZhciBtZWRpYSA9IG9iai5tZWRpYTtcclxuXHRcclxuXHRcdGlmKG1lZGlhKSB7XHJcblx0XHRcdHN0eWxlRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJtZWRpYVwiLCBtZWRpYSlcclxuXHRcdH1cclxuXHRcclxuXHRcdGlmKHN0eWxlRWxlbWVudC5zdHlsZVNoZWV0KSB7XHJcblx0XHRcdHN0eWxlRWxlbWVudC5zdHlsZVNoZWV0LmNzc1RleHQgPSBjc3M7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHR3aGlsZShzdHlsZUVsZW1lbnQuZmlyc3RDaGlsZCkge1xyXG5cdFx0XHRcdHN0eWxlRWxlbWVudC5yZW1vdmVDaGlsZChzdHlsZUVsZW1lbnQuZmlyc3RDaGlsZCk7XHJcblx0XHRcdH1cclxuXHRcdFx0c3R5bGVFbGVtZW50LmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNzcykpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHRcclxuXHRmdW5jdGlvbiB1cGRhdGVMaW5rKGxpbmtFbGVtZW50LCBvYmopIHtcclxuXHRcdHZhciBjc3MgPSBvYmouY3NzO1xyXG5cdFx0dmFyIHNvdXJjZU1hcCA9IG9iai5zb3VyY2VNYXA7XHJcblx0XHJcblx0XHRpZihzb3VyY2VNYXApIHtcclxuXHRcdFx0Ly8gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMjY2MDM4NzVcclxuXHRcdFx0Y3NzICs9IFwiXFxuLyojIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2Jhc2U2NCxcIiArIGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHNvdXJjZU1hcCkpKSkgKyBcIiAqL1wiO1xyXG5cdFx0fVxyXG5cdFxyXG5cdFx0dmFyIGJsb2IgPSBuZXcgQmxvYihbY3NzXSwgeyB0eXBlOiBcInRleHQvY3NzXCIgfSk7XHJcblx0XHJcblx0XHR2YXIgb2xkU3JjID0gbGlua0VsZW1lbnQuaHJlZjtcclxuXHRcclxuXHRcdGxpbmtFbGVtZW50LmhyZWYgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpO1xyXG5cdFxyXG5cdFx0aWYob2xkU3JjKVxyXG5cdFx0XHRVUkwucmV2b2tlT2JqZWN0VVJMKG9sZFNyYyk7XHJcblx0fVxyXG5cblxuLyoqKi8gfSxcbi8qIDkgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8vIHN0eWxlLWxvYWRlcjogQWRkcyBzb21lIGNzcyB0byB0aGUgRE9NIGJ5IGFkZGluZyBhIDxzdHlsZT4gdGFnXG5cdFxuXHQvLyBsb2FkIHRoZSBzdHlsZXNcblx0dmFyIGNvbnRlbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUpO1xuXHRpZih0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcblx0Ly8gYWRkIHRoZSBzdHlsZXMgdG8gdGhlIERPTVxuXHR2YXIgdXBkYXRlID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4KShjb250ZW50LCB7fSk7XG5cdGlmKGNvbnRlbnQubG9jYWxzKSBtb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzO1xuXHQvLyBIb3QgTW9kdWxlIFJlcGxhY2VtZW50XG5cdGlmKGZhbHNlKSB7XG5cdFx0Ly8gV2hlbiB0aGUgc3R5bGVzIGNoYW5nZSwgdXBkYXRlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0XHRpZighY29udGVudC5sb2NhbHMpIHtcblx0XHRcdG1vZHVsZS5ob3QuYWNjZXB0KFwiISEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzP3NvdXJjZU1hcCEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9pbmRleC5qcz9zb3VyY2VNYXAhLi9ib2R5LnNjc3NcIiwgZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHZhciBuZXdDb250ZW50ID0gcmVxdWlyZShcIiEhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcz9zb3VyY2VNYXAhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc2Fzcy1sb2FkZXIvaW5kZXguanM/c291cmNlTWFwIS4vYm9keS5zY3NzXCIpO1xuXHRcdFx0XHRpZih0eXBlb2YgbmV3Q29udGVudCA9PT0gJ3N0cmluZycpIG5ld0NvbnRlbnQgPSBbW21vZHVsZS5pZCwgbmV3Q29udGVudCwgJyddXTtcblx0XHRcdFx0dXBkYXRlKG5ld0NvbnRlbnQpO1xuXHRcdFx0fSk7XG5cdFx0fVxuXHRcdC8vIFdoZW4gdGhlIG1vZHVsZSBpcyBkaXNwb3NlZCwgcmVtb3ZlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0XHRtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24oKSB7IHVwZGF0ZSgpOyB9KTtcblx0fVxuXG4vKioqLyB9XG4vKioqKioqLyBdKTtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gYnVuZGxlLmpzIiwiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pXG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG5cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGV4cG9ydHM6IHt9LFxuIFx0XHRcdGlkOiBtb2R1bGVJZCxcbiBcdFx0XHRsb2FkZWQ6IGZhbHNlXG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmxvYWRlZCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiL3NjcmlwdHMvXCI7XG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oMCk7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gd2VicGFjay9ib290c3RyYXAgMzEzMDY3ZjJhMzI1MjhhM2I5N2IiLCIndXNlIHN0cmljdCc7XG5cbmltcG9ydCBTYW5kYm94IGZyb20gJy4vc2FuZGJveC9pbmRleCc7XG5cbnJlcXVpcmUoJy4uL3NyYy9pbmRleCcpO1xucmVxdWlyZSgnLi4vc3JjL3RoZW1lcy9kZWZhdWx0L2luZGV4Jyk7XG5cbihmdW5jdGlvbiAoYW5ndWxhcikge1xuXHRhbmd1bGFyLm1vZHVsZSgnZGVtbycsIFsnbmdSb3V0ZScsICdxZ3JpZCddKVxuXHRcdC5jb25maWcoU2V0dXApXG5cdFx0LmNvbnRyb2xsZXIoJ0RlbW8uQ29udHJvbGxlcicsIENvbnRyb2xsZXIpO1xuXG5cdFNldHVwLiRpbmplY3QgPSBbJyRyb3V0ZVByb3ZpZGVyJywgJyRsb2NhdGlvblByb3ZpZGVyJ107XG5cdGZ1bmN0aW9uIFNldHVwKCRyb3V0ZVByb3ZpZGVyLCAkbG9jYXRpb25Qcm92aWRlcikge1xuXHRcdCRyb3V0ZVByb3ZpZGVyXG5cdFx0XHQud2hlbignLycsIHtcblx0XHRcdFx0dGVtcGxhdGU6ICdxZ3JpZCBkZW1vIHBhZ2UnXG5cdFx0XHR9KVxuXHRcdFx0LndoZW4oJy9zYW5kYm94Jywge1xuXHRcdFx0XHR0ZW1wbGF0ZVVybDogJ3NhbmRib3gvaW5kZXguaHRtbCcsXG5cdFx0XHRcdGNvbnRyb2xsZXI6IFNhbmRib3gsXG5cdFx0XHRcdGNvbnRyb2xsZXJBczogJyRjdHJsJ1xuXHRcdFx0fSk7XG5cblx0XHQkbG9jYXRpb25Qcm92aWRlclxuXHRcdFx0Lmh0bWw1TW9kZShmYWxzZSlcblx0XHRcdC5oYXNoUHJlZml4KCchJyk7XG5cdH1cblxuXHRDb250cm9sbGVyLiRpbmplY3QgPSBbXTtcblx0ZnVuY3Rpb24gQ29udHJvbGxlcigpIHtcblx0fVxuXG59KShhbmd1bGFyKTtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L2VzbGludC1sb2FkZXIhLi9kZW1vL2luZGV4LmpzIiwiJ3VzZSBzdHJpY3QnO1xuXG5yZXF1aXJlKCcuL2JvZHkuc2NzcycpO1xuXG4oZnVuY3Rpb24gKGFuZ3VsYXIpIHtcblxuXHRhbmd1bGFyLm1vZHVsZSgncWdyaWQnKVxuXHRcdC5ydW4oU2V0dXApO1xuXG5cdFNldHVwLiRpbmplY3QgPSBbJyR0ZW1wbGF0ZUNhY2hlJ107XG5cdGZ1bmN0aW9uIFNldHVwKC8qJHRlbXBsYXRlQ2FjaGUqLykge1xuXHRcdC8vIGhlcmUnbGwgYmUgY3VzdG9tIHRlbXBsYXRlc1xuXHR9XG5cbn0pKGFuZ3VsYXIpO1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vZXNsaW50LWxvYWRlciEuL3NyYy90aGVtZXMvZGVmYXVsdC9pbmRleC5qcyIsIid1c2Ugc3RyaWN0JztcblxuQ29udHJvbGxlci4kaW5qZWN0ID0gWyckaHR0cCddO1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gQ29udHJvbGxlcigkaHR0cCkge1xuXHRjb25zdCBjdHJsID0gdGhpcztcblxuXHR0aGlzLnJvd3MgPSBbXTtcblx0dGhpcy5jb2x1bW5zID0gW1xuXHRcdHtcblx0XHRcdGtleTogJ25hbWUubGFzdCcsXG5cdFx0XHR0aXRsZTogJ0xhc3QgTmFtZScsXG5cdFx0XHR2YWx1ZTogZnVuY3Rpb24gKGl0ZW0pIHtcblx0XHRcdFx0cmV0dXJuIGl0ZW0ubmFtZS5sYXN0O1xuXHRcdFx0fVxuXHRcdH0sXG5cdFx0e1xuXHRcdFx0a2V5OiAnbmFtZS5maXJzdCcsXG5cdFx0XHR0aXRsZTogJ0ZpcnN0IE5hbWUnLFxuXHRcdFx0dmFsdWU6IGZ1bmN0aW9uIChpdGVtKSB7XG5cdFx0XHRcdHJldHVybiBpdGVtLm5hbWUuZmlyc3Q7XG5cdFx0XHR9XG5cdFx0fSxcblx0XHR7XG5cdFx0XHRrZXk6ICdnZW5kZXInLFxuXHRcdFx0dGl0bGU6ICdHZW5kZXInXG5cdFx0fSxcblx0XHR7XG5cdFx0XHRrZXk6ICdiaXJ0aGRheScsXG5cdFx0XHR0aXRsZTogJ0JpcnRoZGF5J1xuXHRcdH0sXG5cdFx0e1xuXHRcdFx0a2V5OiAnY29udGFjdC5hZGRyZXNzLnppcCcsXG5cdFx0XHR0aXRsZTogJ1ppcCcsXG5cdFx0XHR2YWx1ZTogZnVuY3Rpb24gKGl0ZW0pIHtcblx0XHRcdFx0cmV0dXJuIGl0ZW0uY29udGFjdC5hZGRyZXNzLnppcDtcblx0XHRcdH1cblx0XHR9LFxuXHRcdHtcblx0XHRcdGtleTogJ2NvbnRhY3QuYWRkcmVzcy5zdGF0ZScsXG5cdFx0XHR0aXRsZTogJ1N0YXRlJyxcblx0XHRcdHZhbHVlOiBmdW5jdGlvbiAoaXRlbSkge1xuXHRcdFx0XHRyZXR1cm4gaXRlbS5jb250YWN0LmFkZHJlc3Muc3RhdGU7XG5cdFx0XHR9XG5cdFx0fSxcblx0XHR7XG5cdFx0XHRrZXk6ICdjb250YWN0LmFkZHJlc3MuY2l0eScsXG5cdFx0XHR0aXRsZTogJ0NpdHknLFxuXHRcdFx0dmFsdWU6IGZ1bmN0aW9uIChpdGVtKSB7XG5cdFx0XHRcdHJldHVybiBpdGVtLmNvbnRhY3QuYWRkcmVzcy5jaXR5O1xuXHRcdFx0fVxuXHRcdH0sXG5cdFx0e1xuXHRcdFx0a2V5OiAnY29udGFjdC5waG9uZS5wcmltYXJ5Jyxcblx0XHRcdHRpdGxlOiAnUHJpbWFyeSBQaG9uZScsXG5cdFx0XHR2YWx1ZTogZnVuY3Rpb24gKGl0ZW0pIHtcblx0XHRcdFx0cmV0dXJuIGl0ZW0uY29udGFjdC5waG9uZVswXTtcblx0XHRcdH1cblx0XHR9LFxuXHRcdHtcblx0XHRcdGtleTogJ2NvbnRhY3QuZW1haWwucHJpbWFyeScsXG5cdFx0XHR0aXRsZTogJ1ByaW1hcnkgRW1haWwnLFxuXHRcdFx0dmFsdWU6IGZ1bmN0aW9uIChpdGVtKSB7XG5cdFx0XHRcdHJldHVybiBpdGVtLmNvbnRhY3QuZW1haWxbMF07XG5cdFx0XHR9XG5cdFx0fSxcblx0XHR7XG5cdFx0XHRrZXk6ICdsaWtlcycsXG5cdFx0XHR0aXRsZTogJ0xpa2VzJyxcblx0XHRcdHZhbHVlOiBmdW5jdGlvbiAoaXRlbSkge1xuXHRcdFx0XHRyZXR1cm4gaXRlbS5saWtlcy5qb2luKCcsICcpO1xuXHRcdFx0fVxuXHRcdH0sXG5cdFx0e1xuXHRcdFx0a2V5OiAnbWVtYmVyU2luY2UnLFxuXHRcdFx0dGl0bGU6ICdNZW1iZXIgU2luY2UnXG5cdFx0fVxuXHRdO1xuXG5cdCRodHRwLmdldCgnZGF0YS9wZW9wbGUvMTAwLmpzb24nKVxuXHRcdC50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuXHRcdFx0Y3RybC5yb3dzID0gcmVzcG9uc2UuZGF0YTtcblx0XHR9KTtcbn1cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L2VzbGludC1sb2FkZXIhLi9kZW1vL3NhbmRib3gvaW5kZXguanMiLCIndXNlIHN0cmljdCc7XG5cbi8vIGltcG9ydCBHcmlkTW9kZWwgZnJvbSAnLi9ncmlkLm1vZGVsJztcbi8vIGltcG9ydCBVdGlsaXR5IGZyb20gJy4uLy4uL3NlcnZpY2VzL3V0aWxpdHknO1xuXG5leHBvcnQgZGVmYXVsdCB7XG5cdHRlbXBsYXRlVXJsOiAncWdyaWQuaHRtbCcsXG5cdGNvbnRyb2xsZXI6IENvbnRyb2xsZXIsXG5cdGJpbmRpbmdzOiB7XG5cdFx0cm93czogJzwnLFxuXHRcdGNvbHVtbnM6ICc8J1xuXHR9XG59O1xuXG5Db250cm9sbGVyLiRpbmplY3QgPSBbXTtcbmZ1bmN0aW9uIENvbnRyb2xsZXIoKSB7XG5cdC8vdGhpcy5tb2RlbCA9IG5ldyBHcmlkTW9kZWwoKTtcblx0Ly8gVE9ETzogaW52ZXN0aWdhdGUgaG93IHRvIHRyYWNrIGNoYW5nZXMgaW4gdGhpcyBjYXNlXG5cdC8vIG9yIGdldCByaWQgb2YgJHNjb3BlIG9yIG9mIEdyaWRNb2RlbFxuXHQvL1V0aWxpdHkuYXNzaWduKHRoaXMubW9kZWwsICRzY29wZSk7XG59XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi9lc2xpbnQtbG9hZGVyIS4vc3JjL2NvbXBvbmVudHMvZ3JpZC9ncmlkLmpzIiwiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgR3JpZCBmcm9tICcuL2NvbXBvbmVudHMvZ3JpZC9ncmlkJztcbnJlcXVpcmUoJy4vdGhlbWVzL2RlZmF1bHQvaW5kZXgnKTtcblxuKGZ1bmN0aW9uIChhbmd1bGFyKSB7XG5cdGFuZ3VsYXIubW9kdWxlKCdxZ3JpZCcsIFtdKVxuXHRcdC5jb21wb25lbnQoJ3FHcmlkJywgR3JpZClcblx0XHQucnVuKFNldHVwKTtcblxuXHRTZXR1cC4kaW5qZWN0ID0gWyckdGVtcGxhdGVDYWNoZSddO1xuXHRmdW5jdGlvbiBTZXR1cCgkdGVtcGxhdGVDYWNoZSkge1xuXHRcdCR0ZW1wbGF0ZUNhY2hlLnB1dCgncWdyaWQuaHRtbCcsIHJlcXVpcmUoJy4vY29tcG9uZW50cy9ncmlkL2dyaWQuaHRtbCcpKTtcblx0fVxufSkoYW5ndWxhcik7XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi9lc2xpbnQtbG9hZGVyIS4vc3JjL2luZGV4LmpzIiwiZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvbGliL2Nzcy1iYXNlLmpzXCIpKCk7XG4vLyBpbXBvcnRzXG5cblxuLy8gbW9kdWxlXG5leHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCIucWdyaWQudGhlbWUtZGVmYXVsdD50YWJsZSB0aGVhZCB0cj50aHtib3JkZXItYm90dG9tOjFweCBzb2xpZCAjMDAwO3doaXRlLXNwYWNlOm5vd3JhcH0ucWdyaWQudGhlbWUtZGVmYXVsdD50YWJsZSB0Ym9keXtvdmVyZmxvdy15OmF1dG87b3ZlcmZsb3cteDpzY3JvbGx9XCIsIFwiXCIsIHtcInZlcnNpb25cIjozLFwic291cmNlc1wiOltcIi8uL3NyYy90aGVtZXMvZGVmYXVsdC9zcmMvdGhlbWVzL2RlZmF1bHQvYm9keS5zY3NzXCJdLFwibmFtZXNcIjpbXSxcIm1hcHBpbmdzXCI6XCJBQUFBLHVDQUlJLDZCQUNBLGtCQUFtQixDQUx2QixpQ0FVRyxnQkFDQSxpQkFBa0IsQ0FDbEJcIixcImZpbGVcIjpcImJvZHkuc2Nzc1wiLFwic291cmNlc0NvbnRlbnRcIjpbXCIucWdyaWQudGhlbWUtZGVmYXVsdCB7XFxuXFx0PiB0YWJsZSB7XFxuXFx0XFx0dGhlYWQge1xcblxcdFxcdFxcdHRyID4gdGgge1xcblxcdFxcdFxcdFxcdGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjMDAwO1xcblxcdFxcdFxcdFxcdHdoaXRlLXNwYWNlOiBub3dyYXA7XFxuXFx0XFx0XFx0fVxcblxcdFxcdH1cXG5cXG5cXHRcXHR0Ym9keSB7XFxuXFx0XFx0XFx0b3ZlcmZsb3cteTogYXV0bztcXG5cXHRcXHRcXHRvdmVyZmxvdy14OiBzY3JvbGw7XFxuXFx0XFx0fVxcblxcblxcdFxcdHRmb290IHtcXG5cXG5cXHRcXHR9XFxuXFx0fVxcbn1cIl0sXCJzb3VyY2VSb290XCI6XCJ3ZWJwYWNrOi8vXCJ9XSk7XG5cbi8vIGV4cG9ydHNcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9jc3MtbG9hZGVyP3NvdXJjZU1hcCEuL34vc2Fzcy1sb2FkZXI/c291cmNlTWFwIS4vc3JjL3RoZW1lcy9kZWZhdWx0L2JvZHkuc2Nzc1xuLy8gbW9kdWxlIGlkID0gNVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIvKlxyXG5cdE1JVCBMaWNlbnNlIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2UucGhwXHJcblx0QXV0aG9yIFRvYmlhcyBLb3BwZXJzIEBzb2tyYVxyXG4qL1xyXG4vLyBjc3MgYmFzZSBjb2RlLCBpbmplY3RlZCBieSB0aGUgY3NzLWxvYWRlclxyXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKCkge1xyXG5cdHZhciBsaXN0ID0gW107XHJcblxyXG5cdC8vIHJldHVybiB0aGUgbGlzdCBvZiBtb2R1bGVzIGFzIGNzcyBzdHJpbmdcclxuXHRsaXN0LnRvU3RyaW5nID0gZnVuY3Rpb24gdG9TdHJpbmcoKSB7XHJcblx0XHR2YXIgcmVzdWx0ID0gW107XHJcblx0XHRmb3IodmFyIGkgPSAwOyBpIDwgdGhpcy5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHR2YXIgaXRlbSA9IHRoaXNbaV07XHJcblx0XHRcdGlmKGl0ZW1bMl0pIHtcclxuXHRcdFx0XHRyZXN1bHQucHVzaChcIkBtZWRpYSBcIiArIGl0ZW1bMl0gKyBcIntcIiArIGl0ZW1bMV0gKyBcIn1cIik7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0cmVzdWx0LnB1c2goaXRlbVsxXSk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHRcdHJldHVybiByZXN1bHQuam9pbihcIlwiKTtcclxuXHR9O1xyXG5cclxuXHQvLyBpbXBvcnQgYSBsaXN0IG9mIG1vZHVsZXMgaW50byB0aGUgbGlzdFxyXG5cdGxpc3QuaSA9IGZ1bmN0aW9uKG1vZHVsZXMsIG1lZGlhUXVlcnkpIHtcclxuXHRcdGlmKHR5cGVvZiBtb2R1bGVzID09PSBcInN0cmluZ1wiKVxyXG5cdFx0XHRtb2R1bGVzID0gW1tudWxsLCBtb2R1bGVzLCBcIlwiXV07XHJcblx0XHR2YXIgYWxyZWFkeUltcG9ydGVkTW9kdWxlcyA9IHt9O1xyXG5cdFx0Zm9yKHZhciBpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0dmFyIGlkID0gdGhpc1tpXVswXTtcclxuXHRcdFx0aWYodHlwZW9mIGlkID09PSBcIm51bWJlclwiKVxyXG5cdFx0XHRcdGFscmVhZHlJbXBvcnRlZE1vZHVsZXNbaWRdID0gdHJ1ZTtcclxuXHRcdH1cclxuXHRcdGZvcihpID0gMDsgaSA8IG1vZHVsZXMubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0dmFyIGl0ZW0gPSBtb2R1bGVzW2ldO1xyXG5cdFx0XHQvLyBza2lwIGFscmVhZHkgaW1wb3J0ZWQgbW9kdWxlXHJcblx0XHRcdC8vIHRoaXMgaW1wbGVtZW50YXRpb24gaXMgbm90IDEwMCUgcGVyZmVjdCBmb3Igd2VpcmQgbWVkaWEgcXVlcnkgY29tYmluYXRpb25zXHJcblx0XHRcdC8vICB3aGVuIGEgbW9kdWxlIGlzIGltcG9ydGVkIG11bHRpcGxlIHRpbWVzIHdpdGggZGlmZmVyZW50IG1lZGlhIHF1ZXJpZXMuXHJcblx0XHRcdC8vICBJIGhvcGUgdGhpcyB3aWxsIG5ldmVyIG9jY3VyIChIZXkgdGhpcyB3YXkgd2UgaGF2ZSBzbWFsbGVyIGJ1bmRsZXMpXHJcblx0XHRcdGlmKHR5cGVvZiBpdGVtWzBdICE9PSBcIm51bWJlclwiIHx8ICFhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzW2l0ZW1bMF1dKSB7XHJcblx0XHRcdFx0aWYobWVkaWFRdWVyeSAmJiAhaXRlbVsyXSkge1xyXG5cdFx0XHRcdFx0aXRlbVsyXSA9IG1lZGlhUXVlcnk7XHJcblx0XHRcdFx0fSBlbHNlIGlmKG1lZGlhUXVlcnkpIHtcclxuXHRcdFx0XHRcdGl0ZW1bMl0gPSBcIihcIiArIGl0ZW1bMl0gKyBcIikgYW5kIChcIiArIG1lZGlhUXVlcnkgKyBcIilcIjtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0bGlzdC5wdXNoKGl0ZW0pO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fTtcclxuXHRyZXR1cm4gbGlzdDtcclxufTtcclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2Nzcy1sb2FkZXIvbGliL2Nzcy1iYXNlLmpzXG4vLyBtb2R1bGUgaWQgPSA2XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIm1vZHVsZS5leHBvcnRzID0gXCI8ZGl2IGNsYXNzPVxcXCJxZ3JpZCB0aGVtZS1kZWZhdWx0XFxcIj5cXG5cXHQ8dGFibGU+XFxuXFx0XFx0PHRoZWFkPlxcblxcdFxcdDx0cj5cXG5cXHRcXHRcXHQ8dGggbmctcmVwZWF0PVxcXCIkY29sdW1uIGluICRjdHJsLmNvbHVtbnMgdHJhY2sgYnkgJGluZGV4XFxcIiBjbGFzcz1cXFwie3s6OiRjb2x1bW4ua2V5fX1cXFwiPlxcblxcdFxcdFxcdFxcdDxsYWJlbD57eyRjb2x1bW4udGl0bGV9fTwvbGFiZWw+XFxuXFx0XFx0XFx0PC90aD5cXG5cXHRcXHQ8L3RyPlxcblxcdFxcdDwvdGhlYWQ+XFxuXFx0XFx0PHRib2R5PlxcblxcdFxcdDx0ciBuZy1yZXBlYXQ9XFxcIiRyb3cgaW4gJGN0cmwucm93cyB0cmFjayBieSAkaW5kZXhcXFwiPlxcblxcdFxcdFxcdDx0ZCBuZy1yZXBlYXQ9XFxcIiRjb2x1bW4gaW4gJGN0cmwuY29sdW1ucyB0cmFjayBieSAkaW5kZXhcXFwiIGNsYXNzPVxcXCJ7ezo6JGNvbHVtbi5rZXl9fVxcXCI+XFxuXFx0XFx0XFx0XFx0e3skY29sdW1uLnZhbHVlID8gJGNvbHVtbi52YWx1ZSgkcm93KSA6ICRyb3dbJGNvbHVtbi5rZXldfX1cXG5cXHRcXHRcXHQ8L3RkPlxcblxcdFxcdDwvdHI+XFxuXFx0XFx0PC90Ym9keT5cXG5cXHRcXHQ8dGZvb3Q+XFxuXFx0XFx0PC90Zm9vdD5cXG5cXHQ8L3RhYmxlPlxcbjwvZGl2PlwiXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvY29tcG9uZW50cy9ncmlkL2dyaWQuaHRtbFxuLy8gbW9kdWxlIGlkID0gN1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIvKlxyXG5cdE1JVCBMaWNlbnNlIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2UucGhwXHJcblx0QXV0aG9yIFRvYmlhcyBLb3BwZXJzIEBzb2tyYVxyXG4qL1xyXG52YXIgc3R5bGVzSW5Eb20gPSB7fSxcclxuXHRtZW1vaXplID0gZnVuY3Rpb24oZm4pIHtcclxuXHRcdHZhciBtZW1vO1xyXG5cdFx0cmV0dXJuIGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0aWYgKHR5cGVvZiBtZW1vID09PSBcInVuZGVmaW5lZFwiKSBtZW1vID0gZm4uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxuXHRcdFx0cmV0dXJuIG1lbW87XHJcblx0XHR9O1xyXG5cdH0sXHJcblx0aXNPbGRJRSA9IG1lbW9pemUoZnVuY3Rpb24oKSB7XHJcblx0XHRyZXR1cm4gL21zaWUgWzYtOV1cXGIvLnRlc3Qod2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKSk7XHJcblx0fSksXHJcblx0Z2V0SGVhZEVsZW1lbnQgPSBtZW1vaXplKGZ1bmN0aW9uICgpIHtcclxuXHRcdHJldHVybiBkb2N1bWVudC5oZWFkIHx8IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiaGVhZFwiKVswXTtcclxuXHR9KSxcclxuXHRzaW5nbGV0b25FbGVtZW50ID0gbnVsbCxcclxuXHRzaW5nbGV0b25Db3VudGVyID0gMCxcclxuXHRzdHlsZUVsZW1lbnRzSW5zZXJ0ZWRBdFRvcCA9IFtdO1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihsaXN0LCBvcHRpb25zKSB7XHJcblx0aWYodHlwZW9mIERFQlVHICE9PSBcInVuZGVmaW5lZFwiICYmIERFQlVHKSB7XHJcblx0XHRpZih0eXBlb2YgZG9jdW1lbnQgIT09IFwib2JqZWN0XCIpIHRocm93IG5ldyBFcnJvcihcIlRoZSBzdHlsZS1sb2FkZXIgY2Fubm90IGJlIHVzZWQgaW4gYSBub24tYnJvd3NlciBlbnZpcm9ubWVudFwiKTtcclxuXHR9XHJcblxyXG5cdG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xyXG5cdC8vIEZvcmNlIHNpbmdsZS10YWcgc29sdXRpb24gb24gSUU2LTksIHdoaWNoIGhhcyBhIGhhcmQgbGltaXQgb24gdGhlICMgb2YgPHN0eWxlPlxyXG5cdC8vIHRhZ3MgaXQgd2lsbCBhbGxvdyBvbiBhIHBhZ2VcclxuXHRpZiAodHlwZW9mIG9wdGlvbnMuc2luZ2xldG9uID09PSBcInVuZGVmaW5lZFwiKSBvcHRpb25zLnNpbmdsZXRvbiA9IGlzT2xkSUUoKTtcclxuXHJcblx0Ly8gQnkgZGVmYXVsdCwgYWRkIDxzdHlsZT4gdGFncyB0byB0aGUgYm90dG9tIG9mIDxoZWFkPi5cclxuXHRpZiAodHlwZW9mIG9wdGlvbnMuaW5zZXJ0QXQgPT09IFwidW5kZWZpbmVkXCIpIG9wdGlvbnMuaW5zZXJ0QXQgPSBcImJvdHRvbVwiO1xyXG5cclxuXHR2YXIgc3R5bGVzID0gbGlzdFRvU3R5bGVzKGxpc3QpO1xyXG5cdGFkZFN0eWxlc1RvRG9tKHN0eWxlcywgb3B0aW9ucyk7XHJcblxyXG5cdHJldHVybiBmdW5jdGlvbiB1cGRhdGUobmV3TGlzdCkge1xyXG5cdFx0dmFyIG1heVJlbW92ZSA9IFtdO1xyXG5cdFx0Zm9yKHZhciBpID0gMDsgaSA8IHN0eWxlcy5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHR2YXIgaXRlbSA9IHN0eWxlc1tpXTtcclxuXHRcdFx0dmFyIGRvbVN0eWxlID0gc3R5bGVzSW5Eb21baXRlbS5pZF07XHJcblx0XHRcdGRvbVN0eWxlLnJlZnMtLTtcclxuXHRcdFx0bWF5UmVtb3ZlLnB1c2goZG9tU3R5bGUpO1xyXG5cdFx0fVxyXG5cdFx0aWYobmV3TGlzdCkge1xyXG5cdFx0XHR2YXIgbmV3U3R5bGVzID0gbGlzdFRvU3R5bGVzKG5ld0xpc3QpO1xyXG5cdFx0XHRhZGRTdHlsZXNUb0RvbShuZXdTdHlsZXMsIG9wdGlvbnMpO1xyXG5cdFx0fVxyXG5cdFx0Zm9yKHZhciBpID0gMDsgaSA8IG1heVJlbW92ZS5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHR2YXIgZG9tU3R5bGUgPSBtYXlSZW1vdmVbaV07XHJcblx0XHRcdGlmKGRvbVN0eWxlLnJlZnMgPT09IDApIHtcclxuXHRcdFx0XHRmb3IodmFyIGogPSAwOyBqIDwgZG9tU3R5bGUucGFydHMubGVuZ3RoOyBqKyspXHJcblx0XHRcdFx0XHRkb21TdHlsZS5wYXJ0c1tqXSgpO1xyXG5cdFx0XHRcdGRlbGV0ZSBzdHlsZXNJbkRvbVtkb21TdHlsZS5pZF07XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9O1xyXG59XHJcblxyXG5mdW5jdGlvbiBhZGRTdHlsZXNUb0RvbShzdHlsZXMsIG9wdGlvbnMpIHtcclxuXHRmb3IodmFyIGkgPSAwOyBpIDwgc3R5bGVzLmxlbmd0aDsgaSsrKSB7XHJcblx0XHR2YXIgaXRlbSA9IHN0eWxlc1tpXTtcclxuXHRcdHZhciBkb21TdHlsZSA9IHN0eWxlc0luRG9tW2l0ZW0uaWRdO1xyXG5cdFx0aWYoZG9tU3R5bGUpIHtcclxuXHRcdFx0ZG9tU3R5bGUucmVmcysrO1xyXG5cdFx0XHRmb3IodmFyIGogPSAwOyBqIDwgZG9tU3R5bGUucGFydHMubGVuZ3RoOyBqKyspIHtcclxuXHRcdFx0XHRkb21TdHlsZS5wYXJ0c1tqXShpdGVtLnBhcnRzW2pdKTtcclxuXHRcdFx0fVxyXG5cdFx0XHRmb3IoOyBqIDwgaXRlbS5wYXJ0cy5sZW5ndGg7IGorKykge1xyXG5cdFx0XHRcdGRvbVN0eWxlLnBhcnRzLnB1c2goYWRkU3R5bGUoaXRlbS5wYXJ0c1tqXSwgb3B0aW9ucykpO1xyXG5cdFx0XHR9XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHR2YXIgcGFydHMgPSBbXTtcclxuXHRcdFx0Zm9yKHZhciBqID0gMDsgaiA8IGl0ZW0ucGFydHMubGVuZ3RoOyBqKyspIHtcclxuXHRcdFx0XHRwYXJ0cy5wdXNoKGFkZFN0eWxlKGl0ZW0ucGFydHNbal0sIG9wdGlvbnMpKTtcclxuXHRcdFx0fVxyXG5cdFx0XHRzdHlsZXNJbkRvbVtpdGVtLmlkXSA9IHtpZDogaXRlbS5pZCwgcmVmczogMSwgcGFydHM6IHBhcnRzfTtcclxuXHRcdH1cclxuXHR9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGxpc3RUb1N0eWxlcyhsaXN0KSB7XHJcblx0dmFyIHN0eWxlcyA9IFtdO1xyXG5cdHZhciBuZXdTdHlsZXMgPSB7fTtcclxuXHRmb3IodmFyIGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7IGkrKykge1xyXG5cdFx0dmFyIGl0ZW0gPSBsaXN0W2ldO1xyXG5cdFx0dmFyIGlkID0gaXRlbVswXTtcclxuXHRcdHZhciBjc3MgPSBpdGVtWzFdO1xyXG5cdFx0dmFyIG1lZGlhID0gaXRlbVsyXTtcclxuXHRcdHZhciBzb3VyY2VNYXAgPSBpdGVtWzNdO1xyXG5cdFx0dmFyIHBhcnQgPSB7Y3NzOiBjc3MsIG1lZGlhOiBtZWRpYSwgc291cmNlTWFwOiBzb3VyY2VNYXB9O1xyXG5cdFx0aWYoIW5ld1N0eWxlc1tpZF0pXHJcblx0XHRcdHN0eWxlcy5wdXNoKG5ld1N0eWxlc1tpZF0gPSB7aWQ6IGlkLCBwYXJ0czogW3BhcnRdfSk7XHJcblx0XHRlbHNlXHJcblx0XHRcdG5ld1N0eWxlc1tpZF0ucGFydHMucHVzaChwYXJ0KTtcclxuXHR9XHJcblx0cmV0dXJuIHN0eWxlcztcclxufVxyXG5cclxuZnVuY3Rpb24gaW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMsIHN0eWxlRWxlbWVudCkge1xyXG5cdHZhciBoZWFkID0gZ2V0SGVhZEVsZW1lbnQoKTtcclxuXHR2YXIgbGFzdFN0eWxlRWxlbWVudEluc2VydGVkQXRUb3AgPSBzdHlsZUVsZW1lbnRzSW5zZXJ0ZWRBdFRvcFtzdHlsZUVsZW1lbnRzSW5zZXJ0ZWRBdFRvcC5sZW5ndGggLSAxXTtcclxuXHRpZiAob3B0aW9ucy5pbnNlcnRBdCA9PT0gXCJ0b3BcIikge1xyXG5cdFx0aWYoIWxhc3RTdHlsZUVsZW1lbnRJbnNlcnRlZEF0VG9wKSB7XHJcblx0XHRcdGhlYWQuaW5zZXJ0QmVmb3JlKHN0eWxlRWxlbWVudCwgaGVhZC5maXJzdENoaWxkKTtcclxuXHRcdH0gZWxzZSBpZihsYXN0U3R5bGVFbGVtZW50SW5zZXJ0ZWRBdFRvcC5uZXh0U2libGluZykge1xyXG5cdFx0XHRoZWFkLmluc2VydEJlZm9yZShzdHlsZUVsZW1lbnQsIGxhc3RTdHlsZUVsZW1lbnRJbnNlcnRlZEF0VG9wLm5leHRTaWJsaW5nKTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdGhlYWQuYXBwZW5kQ2hpbGQoc3R5bGVFbGVtZW50KTtcclxuXHRcdH1cclxuXHRcdHN0eWxlRWxlbWVudHNJbnNlcnRlZEF0VG9wLnB1c2goc3R5bGVFbGVtZW50KTtcclxuXHR9IGVsc2UgaWYgKG9wdGlvbnMuaW5zZXJ0QXQgPT09IFwiYm90dG9tXCIpIHtcclxuXHRcdGhlYWQuYXBwZW5kQ2hpbGQoc3R5bGVFbGVtZW50KTtcclxuXHR9IGVsc2Uge1xyXG5cdFx0dGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCB2YWx1ZSBmb3IgcGFyYW1ldGVyICdpbnNlcnRBdCcuIE11c3QgYmUgJ3RvcCcgb3IgJ2JvdHRvbScuXCIpO1xyXG5cdH1cclxufVxyXG5cclxuZnVuY3Rpb24gcmVtb3ZlU3R5bGVFbGVtZW50KHN0eWxlRWxlbWVudCkge1xyXG5cdHN0eWxlRWxlbWVudC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHN0eWxlRWxlbWVudCk7XHJcblx0dmFyIGlkeCA9IHN0eWxlRWxlbWVudHNJbnNlcnRlZEF0VG9wLmluZGV4T2Yoc3R5bGVFbGVtZW50KTtcclxuXHRpZihpZHggPj0gMCkge1xyXG5cdFx0c3R5bGVFbGVtZW50c0luc2VydGVkQXRUb3Auc3BsaWNlKGlkeCwgMSk7XHJcblx0fVxyXG59XHJcblxyXG5mdW5jdGlvbiBjcmVhdGVTdHlsZUVsZW1lbnQob3B0aW9ucykge1xyXG5cdHZhciBzdHlsZUVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3R5bGVcIik7XHJcblx0c3R5bGVFbGVtZW50LnR5cGUgPSBcInRleHQvY3NzXCI7XHJcblx0aW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMsIHN0eWxlRWxlbWVudCk7XHJcblx0cmV0dXJuIHN0eWxlRWxlbWVudDtcclxufVxyXG5cclxuZnVuY3Rpb24gY3JlYXRlTGlua0VsZW1lbnQob3B0aW9ucykge1xyXG5cdHZhciBsaW5rRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsaW5rXCIpO1xyXG5cdGxpbmtFbGVtZW50LnJlbCA9IFwic3R5bGVzaGVldFwiO1xyXG5cdGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zLCBsaW5rRWxlbWVudCk7XHJcblx0cmV0dXJuIGxpbmtFbGVtZW50O1xyXG59XHJcblxyXG5mdW5jdGlvbiBhZGRTdHlsZShvYmosIG9wdGlvbnMpIHtcclxuXHR2YXIgc3R5bGVFbGVtZW50LCB1cGRhdGUsIHJlbW92ZTtcclxuXHJcblx0aWYgKG9wdGlvbnMuc2luZ2xldG9uKSB7XHJcblx0XHR2YXIgc3R5bGVJbmRleCA9IHNpbmdsZXRvbkNvdW50ZXIrKztcclxuXHRcdHN0eWxlRWxlbWVudCA9IHNpbmdsZXRvbkVsZW1lbnQgfHwgKHNpbmdsZXRvbkVsZW1lbnQgPSBjcmVhdGVTdHlsZUVsZW1lbnQob3B0aW9ucykpO1xyXG5cdFx0dXBkYXRlID0gYXBwbHlUb1NpbmdsZXRvblRhZy5iaW5kKG51bGwsIHN0eWxlRWxlbWVudCwgc3R5bGVJbmRleCwgZmFsc2UpO1xyXG5cdFx0cmVtb3ZlID0gYXBwbHlUb1NpbmdsZXRvblRhZy5iaW5kKG51bGwsIHN0eWxlRWxlbWVudCwgc3R5bGVJbmRleCwgdHJ1ZSk7XHJcblx0fSBlbHNlIGlmKG9iai5zb3VyY2VNYXAgJiZcclxuXHRcdHR5cGVvZiBVUkwgPT09IFwiZnVuY3Rpb25cIiAmJlxyXG5cdFx0dHlwZW9mIFVSTC5jcmVhdGVPYmplY3RVUkwgPT09IFwiZnVuY3Rpb25cIiAmJlxyXG5cdFx0dHlwZW9mIFVSTC5yZXZva2VPYmplY3RVUkwgPT09IFwiZnVuY3Rpb25cIiAmJlxyXG5cdFx0dHlwZW9mIEJsb2IgPT09IFwiZnVuY3Rpb25cIiAmJlxyXG5cdFx0dHlwZW9mIGJ0b2EgPT09IFwiZnVuY3Rpb25cIikge1xyXG5cdFx0c3R5bGVFbGVtZW50ID0gY3JlYXRlTGlua0VsZW1lbnQob3B0aW9ucyk7XHJcblx0XHR1cGRhdGUgPSB1cGRhdGVMaW5rLmJpbmQobnVsbCwgc3R5bGVFbGVtZW50KTtcclxuXHRcdHJlbW92ZSA9IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRyZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGVFbGVtZW50KTtcclxuXHRcdFx0aWYoc3R5bGVFbGVtZW50LmhyZWYpXHJcblx0XHRcdFx0VVJMLnJldm9rZU9iamVjdFVSTChzdHlsZUVsZW1lbnQuaHJlZik7XHJcblx0XHR9O1xyXG5cdH0gZWxzZSB7XHJcblx0XHRzdHlsZUVsZW1lbnQgPSBjcmVhdGVTdHlsZUVsZW1lbnQob3B0aW9ucyk7XHJcblx0XHR1cGRhdGUgPSBhcHBseVRvVGFnLmJpbmQobnVsbCwgc3R5bGVFbGVtZW50KTtcclxuXHRcdHJlbW92ZSA9IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRyZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGVFbGVtZW50KTtcclxuXHRcdH07XHJcblx0fVxyXG5cclxuXHR1cGRhdGUob2JqKTtcclxuXHJcblx0cmV0dXJuIGZ1bmN0aW9uIHVwZGF0ZVN0eWxlKG5ld09iaikge1xyXG5cdFx0aWYobmV3T2JqKSB7XHJcblx0XHRcdGlmKG5ld09iai5jc3MgPT09IG9iai5jc3MgJiYgbmV3T2JqLm1lZGlhID09PSBvYmoubWVkaWEgJiYgbmV3T2JqLnNvdXJjZU1hcCA9PT0gb2JqLnNvdXJjZU1hcClcclxuXHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdHVwZGF0ZShvYmogPSBuZXdPYmopO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0cmVtb3ZlKCk7XHJcblx0XHR9XHJcblx0fTtcclxufVxyXG5cclxudmFyIHJlcGxhY2VUZXh0ID0gKGZ1bmN0aW9uICgpIHtcclxuXHR2YXIgdGV4dFN0b3JlID0gW107XHJcblxyXG5cdHJldHVybiBmdW5jdGlvbiAoaW5kZXgsIHJlcGxhY2VtZW50KSB7XHJcblx0XHR0ZXh0U3RvcmVbaW5kZXhdID0gcmVwbGFjZW1lbnQ7XHJcblx0XHRyZXR1cm4gdGV4dFN0b3JlLmZpbHRlcihCb29sZWFuKS5qb2luKCdcXG4nKTtcclxuXHR9O1xyXG59KSgpO1xyXG5cclxuZnVuY3Rpb24gYXBwbHlUb1NpbmdsZXRvblRhZyhzdHlsZUVsZW1lbnQsIGluZGV4LCByZW1vdmUsIG9iaikge1xyXG5cdHZhciBjc3MgPSByZW1vdmUgPyBcIlwiIDogb2JqLmNzcztcclxuXHJcblx0aWYgKHN0eWxlRWxlbWVudC5zdHlsZVNoZWV0KSB7XHJcblx0XHRzdHlsZUVsZW1lbnQuc3R5bGVTaGVldC5jc3NUZXh0ID0gcmVwbGFjZVRleHQoaW5kZXgsIGNzcyk7XHJcblx0fSBlbHNlIHtcclxuXHRcdHZhciBjc3NOb2RlID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY3NzKTtcclxuXHRcdHZhciBjaGlsZE5vZGVzID0gc3R5bGVFbGVtZW50LmNoaWxkTm9kZXM7XHJcblx0XHRpZiAoY2hpbGROb2Rlc1tpbmRleF0pIHN0eWxlRWxlbWVudC5yZW1vdmVDaGlsZChjaGlsZE5vZGVzW2luZGV4XSk7XHJcblx0XHRpZiAoY2hpbGROb2Rlcy5sZW5ndGgpIHtcclxuXHRcdFx0c3R5bGVFbGVtZW50Lmluc2VydEJlZm9yZShjc3NOb2RlLCBjaGlsZE5vZGVzW2luZGV4XSk7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRzdHlsZUVsZW1lbnQuYXBwZW5kQ2hpbGQoY3NzTm9kZSk7XHJcblx0XHR9XHJcblx0fVxyXG59XHJcblxyXG5mdW5jdGlvbiBhcHBseVRvVGFnKHN0eWxlRWxlbWVudCwgb2JqKSB7XHJcblx0dmFyIGNzcyA9IG9iai5jc3M7XHJcblx0dmFyIG1lZGlhID0gb2JqLm1lZGlhO1xyXG5cclxuXHRpZihtZWRpYSkge1xyXG5cdFx0c3R5bGVFbGVtZW50LnNldEF0dHJpYnV0ZShcIm1lZGlhXCIsIG1lZGlhKVxyXG5cdH1cclxuXHJcblx0aWYoc3R5bGVFbGVtZW50LnN0eWxlU2hlZXQpIHtcclxuXHRcdHN0eWxlRWxlbWVudC5zdHlsZVNoZWV0LmNzc1RleHQgPSBjc3M7XHJcblx0fSBlbHNlIHtcclxuXHRcdHdoaWxlKHN0eWxlRWxlbWVudC5maXJzdENoaWxkKSB7XHJcblx0XHRcdHN0eWxlRWxlbWVudC5yZW1vdmVDaGlsZChzdHlsZUVsZW1lbnQuZmlyc3RDaGlsZCk7XHJcblx0XHR9XHJcblx0XHRzdHlsZUVsZW1lbnQuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY3NzKSk7XHJcblx0fVxyXG59XHJcblxyXG5mdW5jdGlvbiB1cGRhdGVMaW5rKGxpbmtFbGVtZW50LCBvYmopIHtcclxuXHR2YXIgY3NzID0gb2JqLmNzcztcclxuXHR2YXIgc291cmNlTWFwID0gb2JqLnNvdXJjZU1hcDtcclxuXHJcblx0aWYoc291cmNlTWFwKSB7XHJcblx0XHQvLyBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8yNjYwMzg3NVxyXG5cdFx0Y3NzICs9IFwiXFxuLyojIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2Jhc2U2NCxcIiArIGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHNvdXJjZU1hcCkpKSkgKyBcIiAqL1wiO1xyXG5cdH1cclxuXHJcblx0dmFyIGJsb2IgPSBuZXcgQmxvYihbY3NzXSwgeyB0eXBlOiBcInRleHQvY3NzXCIgfSk7XHJcblxyXG5cdHZhciBvbGRTcmMgPSBsaW5rRWxlbWVudC5ocmVmO1xyXG5cclxuXHRsaW5rRWxlbWVudC5ocmVmID0gVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKTtcclxuXHJcblx0aWYob2xkU3JjKVxyXG5cdFx0VVJMLnJldm9rZU9iamVjdFVSTChvbGRTcmMpO1xyXG59XHJcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9zdHlsZS1sb2FkZXIvYWRkU3R5bGVzLmpzXG4vLyBtb2R1bGUgaWQgPSA4XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIi8vIHN0eWxlLWxvYWRlcjogQWRkcyBzb21lIGNzcyB0byB0aGUgRE9NIGJ5IGFkZGluZyBhIDxzdHlsZT4gdGFnXG5cbi8vIGxvYWQgdGhlIHN0eWxlc1xudmFyIGNvbnRlbnQgPSByZXF1aXJlKFwiISEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzP3NvdXJjZU1hcCEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9pbmRleC5qcz9zb3VyY2VNYXAhLi9ib2R5LnNjc3NcIik7XG5pZih0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcbi8vIGFkZCB0aGUgc3R5bGVzIHRvIHRoZSBET01cbnZhciB1cGRhdGUgPSByZXF1aXJlKFwiIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9hZGRTdHlsZXMuanNcIikoY29udGVudCwge30pO1xuaWYoY29udGVudC5sb2NhbHMpIG1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHM7XG4vLyBIb3QgTW9kdWxlIFJlcGxhY2VtZW50XG5pZihtb2R1bGUuaG90KSB7XG5cdC8vIFdoZW4gdGhlIHN0eWxlcyBjaGFuZ2UsIHVwZGF0ZSB0aGUgPHN0eWxlPiB0YWdzXG5cdGlmKCFjb250ZW50LmxvY2Fscykge1xuXHRcdG1vZHVsZS5ob3QuYWNjZXB0KFwiISEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzP3NvdXJjZU1hcCEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9pbmRleC5qcz9zb3VyY2VNYXAhLi9ib2R5LnNjc3NcIiwgZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgbmV3Q29udGVudCA9IHJlcXVpcmUoXCIhIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanM/c291cmNlTWFwIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Nhc3MtbG9hZGVyL2luZGV4LmpzP3NvdXJjZU1hcCEuL2JvZHkuc2Nzc1wiKTtcblx0XHRcdGlmKHR5cGVvZiBuZXdDb250ZW50ID09PSAnc3RyaW5nJykgbmV3Q29udGVudCA9IFtbbW9kdWxlLmlkLCBuZXdDb250ZW50LCAnJ11dO1xuXHRcdFx0dXBkYXRlKG5ld0NvbnRlbnQpO1xuXHRcdH0pO1xuXHR9XG5cdC8vIFdoZW4gdGhlIG1vZHVsZSBpcyBkaXNwb3NlZCwgcmVtb3ZlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0bW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uKCkgeyB1cGRhdGUoKTsgfSk7XG59XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvdGhlbWVzL2RlZmF1bHQvYm9keS5zY3NzXG4vLyBtb2R1bGUgaWQgPSA5XG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJzb3VyY2VSb290IjoiIn0=